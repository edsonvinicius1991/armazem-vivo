var Cm=Object.defineProperty;var ai=t=>{throw TypeError(t)};var Sm=(t,s,r)=>s in t?Cm(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var js=(t,s,r)=>Sm(t,typeof s!="symbol"?s+"":s,r),En=(t,s,r)=>s.has(t)||ai("Cannot "+r);var O=(t,s,r)=>(En(t,s,"read from private field"),r?r.call(t):s.get(t)),De=(t,s,r)=>s.has(t)?ai("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),ge=(t,s,r,a)=>(En(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),ut=(t,s,r)=>(En(t,s,"access private method"),r);var va=(t,s,r,a)=>({set _(n){ge(t,s,n,r)},get _(){return O(t,s,a)}});import{j as e,P as ke,c as _l,a as Gs,u as nt,B as km,b as us,d as Ga,e as Kr,f as je,R as Em,g as Cl,h as ms,i as Tm,k as Wa,A as Sl,D as kl,C as El,l as Tl,m as Rl,S as Pl,n as Za,o as po,p as Ka,q as Al,I as Ml,r as Rm,s as Pm,t as Am,F as Mm,v as Im,w as Dm,O as xo,x as go,y as vo,T as yo,z as bo,E as Il,G as Dl,H as Ol,J as $l,K as Ll,L as Vl,M as Om,N as Fl,Q as ql,U as zl,V as Bl,W as Ul,X as Hl,Y as Gl,Z as $m,_ as Lm,$ as Wl,a0 as Vm}from"./ui-oMsHrUgA.js";import{a as Qa,r as d,R as A,b as Fm,c as qm}from"./vendor-DYACTBzZ.js";import{c as Zl,R as oa,C as zm,a as jo,X as Ea,Y as Qr,T as Ya,L as Kl,B as Ql,b as wo,d as Yl,P as Bm,e as Um,f as Hm,g as Gm}from"./charts-ejiZZefp.js";import{c as Wm}from"./supabase-WLzPvDwe.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var Xl,ni=Qa;Xl=ni.createRoot,ni.hydrateRoot;const Zm=1,Km=1e6;let Tn=0;function Qm(){return Tn=(Tn+1)%Number.MAX_SAFE_INTEGER,Tn.toString()}const Rn=new Map,oi=t=>{if(Rn.has(t))return;const s=setTimeout(()=>{Rn.delete(t),Gr({type:"REMOVE_TOAST",toastId:t})},Km);Rn.set(t,s)},Ym=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Zm)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?oi(r):t.toasts.forEach(a=>{oi(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},wa=[];let Na={toasts:[]};function Gr(t){Na=Ym(Na,t),wa.forEach(s=>{s(Na)})}function Xm({...t}){const s=Qm(),r=n=>Gr({type:"UPDATE_TOAST",toast:{...n,id:s}}),a=()=>Gr({type:"DISMISS_TOAST",toastId:s});return Gr({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||a()}}}),{id:s,dismiss:a,update:r}}function No(){const[t,s]=d.useState(Na);return d.useEffect(()=>(wa.push(s),()=>{const r=wa.indexOf(s);r>-1&&wa.splice(r,1)}),[t]),{...t,toast:Xm,dismiss:r=>Gr({type:"DISMISS_TOAST",toastId:r})}}var Jl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jm="VisuallyHidden",Xa=d.forwardRef((t,s)=>e.jsx(ke.span,{...t,ref:s,style:{...Jl,...t.style}}));Xa.displayName=Jm;var eh=Xa,_o="ToastProvider",[Co,th,sh]=_l("Toast"),[ec,zy]=Gs("Toast",[sh]),[rh,Ja]=ec(_o),tc=t=>{const{__scopeToast:s,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[l,c]=d.useState(null),[m,h]=d.useState(0),p=d.useRef(!1),b=d.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_o}\`. Expected non-empty \`string\`.`),e.jsx(Co.Provider,{scope:s,children:e.jsx(rh,{scope:s,label:r,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:m,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(v=>v+1),[]),onToastRemove:d.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:b,children:i})})};tc.displayName=_o;var sc="ToastViewport",ah=["F8"],Vn="toast.viewportPause",Fn="toast.viewportResume",rc=d.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:a=ah,label:n="Notifications ({hotkey})",...o}=t,i=Ja(sc,r),l=th(r),c=d.useRef(null),m=d.useRef(null),h=d.useRef(null),p=d.useRef(null),b=nt(s,p,i.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;d.useEffect(()=>{const u=j=>{var y;a.length!==0&&a.every(g=>j[g]||j.code===g)&&((y=p.current)==null||y.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),d.useEffect(()=>{const u=c.current,j=p.current;if(w&&u&&j){const f=()=>{if(!i.isClosePausedRef.current){const D=new CustomEvent(Vn);j.dispatchEvent(D),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const D=new CustomEvent(Fn);j.dispatchEvent(D),i.isClosePausedRef.current=!1}},g=D=>{!u.contains(D.relatedTarget)&&y()},N=()=>{u.contains(document.activeElement)||y()};return u.addEventListener("focusin",f),u.addEventListener("focusout",g),u.addEventListener("pointermove",f),u.addEventListener("pointerleave",N),window.addEventListener("blur",f),window.addEventListener("focus",y),()=>{u.removeEventListener("focusin",f),u.removeEventListener("focusout",g),u.removeEventListener("pointermove",f),u.removeEventListener("pointerleave",N),window.removeEventListener("blur",f),window.removeEventListener("focus",y)}}},[w,i.isClosePausedRef]);const x=d.useCallback(({tabbingDirection:u})=>{const f=l().map(y=>{const g=y.ref.current,N=[g,...gh(g)];return u==="forwards"?N:N.reverse()});return(u==="forwards"?f.reverse():f).flat()},[l]);return d.useEffect(()=>{const u=p.current;if(u){const j=f=>{var N,D,L;const y=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!y){const $=document.activeElement,M=f.shiftKey;if(f.target===u&&M){(N=m.current)==null||N.focus();return}const C=x({tabbingDirection:M?"backwards":"forwards"}),V=C.findIndex(E=>E===$);Pn(C.slice(V+1))?f.preventDefault():M?(D=m.current)==null||D.focus():(L=h.current)==null||L.focus()}};return u.addEventListener("keydown",j),()=>u.removeEventListener("keydown",j)}},[l,x]),e.jsxs(km,{ref:c,role:"region","aria-label":n.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&e.jsx(qn,{ref:m,onFocusFromOutsideViewport:()=>{const u=x({tabbingDirection:"forwards"});Pn(u)}}),e.jsx(Co.Slot,{scope:r,children:e.jsx(ke.ol,{tabIndex:-1,...o,ref:b})}),w&&e.jsx(qn,{ref:h,onFocusFromOutsideViewport:()=>{const u=x({tabbingDirection:"backwards"});Pn(u)}})]})});rc.displayName=sc;var ac="ToastFocusProxy",qn=d.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=t,o=Ja(ac,r);return e.jsx(Xa,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:i=>{var m;const l=i.relatedTarget;!((m=o.viewport)!=null&&m.contains(l))&&a()}})});qn.displayName=ac;var ia="Toast",nh="toast.swipeStart",oh="toast.swipeMove",ih="toast.swipeCancel",lh="toast.swipeEnd",nc=d.forwardRef((t,s)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:o,...i}=t,[l,c]=us({prop:a,defaultProp:n??!0,onChange:o,caller:ia});return e.jsx(Ga,{present:r||l,children:e.jsx(uh,{open:l,...i,ref:s,onClose:()=>c(!1),onPause:Kr(t.onPause),onResume:Kr(t.onResume),onSwipeStart:je(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(t.onSwipeMove,m=>{const{x:h,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:je(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(t.onSwipeEnd,m=>{const{x:h,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});nc.displayName=ia;var[ch,dh]=ec(ia,{onClose(){}}),uh=d.forwardRef((t,s)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:m,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:b,onSwipeEnd:v,...w}=t,x=Ja(ia,r),[u,j]=d.useState(null),f=nt(s,E=>j(E)),y=d.useRef(null),g=d.useRef(null),N=n||x.duration,D=d.useRef(0),L=d.useRef(N),$=d.useRef(0),{onToastAdd:M,onToastRemove:Q}=x,P=Kr(()=>{var W;(u==null?void 0:u.contains(document.activeElement))&&((W=x.viewport)==null||W.focus()),i()}),C=d.useCallback(E=>{!E||E===1/0||(window.clearTimeout($.current),D.current=new Date().getTime(),$.current=window.setTimeout(P,E))},[P]);d.useEffect(()=>{const E=x.viewport;if(E){const W=()=>{C(L.current),m==null||m()},K=()=>{const S=new Date().getTime()-D.current;L.current=L.current-S,window.clearTimeout($.current),c==null||c()};return E.addEventListener(Vn,K),E.addEventListener(Fn,W),()=>{E.removeEventListener(Vn,K),E.removeEventListener(Fn,W)}}},[x.viewport,N,c,m,C]),d.useEffect(()=>{o&&!x.isClosePausedRef.current&&C(N)},[o,N,x.isClosePausedRef,C]),d.useEffect(()=>(M(),()=>Q()),[M,Q]);const V=d.useMemo(()=>u?mc(u):null,[u]);return x.viewport?e.jsxs(e.Fragment,{children:[V&&e.jsx(mh,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),e.jsx(ch,{scope:r,onClose:P,children:Qa.createPortal(e.jsx(Co.ItemSlot,{scope:r,children:e.jsx(Em,{asChild:!0,onEscapeKeyDown:je(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:f,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:je(t.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:je(t.onPointerDown,E=>{E.button===0&&(y.current={x:E.clientX,y:E.clientY})}),onPointerMove:je(t.onPointerMove,E=>{if(!y.current)return;const W=E.clientX-y.current.x,K=E.clientY-y.current.y,S=!!g.current,R=["left","right"].includes(x.swipeDirection),k=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,U=R?k(0,W):0,te=R?0:k(0,K),re=E.pointerType==="touch"?10:2,ce={x:U,y:te},me={originalEvent:E,delta:ce};S?(g.current=ce,ya(oh,p,me,{discrete:!1})):ii(ce,x.swipeDirection,re)?(g.current=ce,ya(nh,h,me,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(W)>re||Math.abs(K)>re)&&(y.current=null)}),onPointerUp:je(t.onPointerUp,E=>{const W=g.current,K=E.target;if(K.hasPointerCapture(E.pointerId)&&K.releasePointerCapture(E.pointerId),g.current=null,y.current=null,W){const S=E.currentTarget,R={originalEvent:E,delta:W};ii(W,x.swipeDirection,x.swipeThreshold)?ya(lh,v,R,{discrete:!0}):ya(ih,b,R,{discrete:!0}),S.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),mh=t=>{const{__scopeToast:s,children:r,...a}=t,n=Ja(ia,s),[o,i]=d.useState(!1),[l,c]=d.useState(!1);return ph(()=>i(!0)),d.useEffect(()=>{const m=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:e.jsx(Cl,{asChild:!0,children:e.jsx(Xa,{...a,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",r]})})})},hh="ToastTitle",oc=d.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(ke.div,{...a,ref:s})});oc.displayName=hh;var fh="ToastDescription",ic=d.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(ke.div,{...a,ref:s})});ic.displayName=fh;var lc="ToastAction",cc=d.forwardRef((t,s)=>{const{altText:r,...a}=t;return r.trim()?e.jsx(uc,{altText:r,asChild:!0,children:e.jsx(So,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${lc}\`. Expected non-empty \`string\`.`),null)});cc.displayName=lc;var dc="ToastClose",So=d.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t,n=dh(dc,r);return e.jsx(uc,{asChild:!0,children:e.jsx(ke.button,{type:"button",...a,ref:s,onClick:je(t.onClick,n.onClose)})})});So.displayName=dc;var uc=d.forwardRef((t,s)=>{const{__scopeToast:r,altText:a,...n}=t;return e.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:s})});function mc(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),xh(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=a.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...mc(a))}}),s}function ya(t,s,r,{discrete:a}){const n=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?Tm(n,o):n.dispatchEvent(o)}var ii=(t,s,r=0)=>{const a=Math.abs(t.x),n=Math.abs(t.y),o=a>n;return s==="left"||s==="right"?o&&a>r:!o&&n>r};function ph(t=()=>{}){const s=Kr(t);ms(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[s])}function xh(t){return t.nodeType===t.ELEMENT_NODE}function gh(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Pn(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var vh=tc,hc=rc,fc=nc,pc=oc,xc=ic,gc=cc,vc=So;const li=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ci=Zl,la=(t,s)=>r=>{var a;if((s==null?void 0:s.variants)==null)return ci(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=s,i=Object.keys(n).map(m=>{const h=r==null?void 0:r[m],p=o==null?void 0:o[m];if(h===null)return null;const b=li(h)||li(p);return n[m][b]}),l=r&&Object.entries(r).reduce((m,h)=>{let[p,b]=h;return b===void 0||(m[p]=b),m},{}),c=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:p,className:b,...v}=h;return Object.entries(v).every(w=>{let[x,u]=w;return Array.isArray(u)?u.includes({...o,...l}[x]):{...o,...l}[x]===u})?[...m,p,b]:m},[]);return ci(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yc=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=d.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...bh,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:yc("lucide",n),...l},[...i.map(([m,h])=>d.createElement(m,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,s)=>{const r=d.forwardRef(({className:a,...n},o)=>d.createElement(jh,{ref:o,iconNode:s,className:yc(`lucide-${yh(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=he("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=he("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=he("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=he("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=he("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=he("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=he("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=he("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=he("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ro="-",Mh=t=>{const s=Dh(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:i=>{const l=i.split(Ro);return l[0]===""&&l.length!==1&&l.shift(),Cc(l,s)||Ih(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&a[i]?[...c,...a[i]]:c}}},Cc=(t,s)=>{var i;if(t.length===0)return s.classGroupId;const r=t[0],a=s.nextPart.get(r),n=a?Cc(t.slice(1),a):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(Ro);return(i=s.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},xi=/^\[(.+)\]$/,Ih=t=>{if(xi.test(t)){const s=xi.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Dh=t=>{const{theme:s,prefix:r}=t,a={nextPart:new Map,validators:[]};return $h(Object.entries(t.classGroups),r).forEach(([o,i])=>{Un(i,a,o,s)}),a},Un=(t,s,r,a)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:gi(s,n);o.classGroupId=r;return}if(typeof n=="function"){if(Oh(n)){Un(n(a),s,r,a);return}s.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{Un(i,gi(s,o),r,a)})})},gi=(t,s)=>{let r=t;return s.split(Ro).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},Oh=t=>t.isThemeGetter,$h=(t,s)=>s?t.map(([r,a])=>{const n=a.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[r,n]}):t,Lh=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,a=new Map;const n=(o,i)=>{r.set(o,i),s++,s>t&&(s=0,a=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=a.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},Sc="!",Vh=t=>{const{separator:s,experimentalParseClassName:r}=t,a=s.length===1,n=s[0],o=s.length,i=l=>{const c=[];let m=0,h=0,p;for(let u=0;u<l.length;u++){let j=l[u];if(m===0){if(j===n&&(a||l.slice(u,u+o)===s)){c.push(l.slice(h,u)),h=u+o;continue}if(j==="/"){p=u;continue}}j==="["?m++:j==="]"&&m--}const b=c.length===0?l:l.substring(h),v=b.startsWith(Sc),w=v?b.substring(1):b,x=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},Fh=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(a=>{a[0]==="["?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s},qh=t=>({cache:Lh(t.cacheSize),parseClassName:Vh(t),...Mh(t)}),zh=/\s+/,Bh=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=s,o=[],i=t.trim().split(zh);let l="";for(let c=i.length-1;c>=0;c-=1){const m=i[c],{modifiers:h,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}=r(m);let w=!!v,x=a(w?b.substring(0,v):b);if(!x){if(!w){l=m+(l.length>0?" "+l:l);continue}if(x=a(b),!x){l=m+(l.length>0?" "+l:l);continue}w=!1}const u=Fh(h).join(":"),j=p?u+Sc:u,f=j+x;if(o.includes(f))continue;o.push(f);const y=n(x,w);for(let g=0;g<y.length;++g){const N=y[g];o.push(j+N)}l=m+(l.length>0?" "+l:l)}return l};function Uh(){let t=0,s,r,a="";for(;t<arguments.length;)(s=arguments[t++])&&(r=kc(s))&&(a&&(a+=" "),a+=r);return a}const kc=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=kc(t[a]))&&(r&&(r+=" "),r+=s);return r};function Hh(t,...s){let r,a,n,o=i;function i(c){const m=s.reduce((h,p)=>p(h),t());return r=qh(m),a=r.cache.get,n=r.cache.set,o=l,l(c)}function l(c){const m=a(c);if(m)return m;const h=Bh(c,r);return n(c,h),h}return function(){return o(Uh.apply(null,arguments))}}const We=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},Ec=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gh=/^\d+\/\d+$/,Wh=new Set(["px","full","screen"]),Zh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=t=>yr(t)||Wh.has(t)||Gh.test(t),ws=t=>$r(t,"length",of),yr=t=>!!t&&!Number.isNaN(Number(t)),Mn=t=>$r(t,"number",yr),Fr=t=>!!t&&Number.isInteger(Number(t)),Jh=t=>t.endsWith("%")&&yr(t.slice(0,-1)),be=t=>Ec.test(t),Ns=t=>Zh.test(t),ef=new Set(["length","size","percentage"]),tf=t=>$r(t,ef,Tc),sf=t=>$r(t,"position",Tc),rf=new Set(["image","url"]),af=t=>$r(t,rf,cf),nf=t=>$r(t,"",lf),qr=()=>!0,$r=(t,s,r)=>{const a=Ec.exec(t);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):r(a[2]):!1},of=t=>Kh.test(t)&&!Qh.test(t),Tc=()=>!1,lf=t=>Yh.test(t),cf=t=>Xh.test(t),df=()=>{const t=We("colors"),s=We("spacing"),r=We("blur"),a=We("brightness"),n=We("borderColor"),o=We("borderRadius"),i=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),m=We("grayscale"),h=We("hueRotate"),p=We("invert"),b=We("gap"),v=We("gradientColorStops"),w=We("gradientColorStopPositions"),x=We("inset"),u=We("margin"),j=We("opacity"),f=We("padding"),y=We("saturate"),g=We("scale"),N=We("sepia"),D=We("skew"),L=We("space"),$=We("translate"),M=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",be,s],C=()=>[be,s],V=()=>["",os,ws],E=()=>["auto",yr,be],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],S=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",be],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[yr,be];return{cacheSize:500,separator:":",theme:{colors:[qr],spacing:[os,ws],blur:["none","",Ns,be],brightness:te(),borderColor:[t],borderRadius:["none","","full",Ns,be],borderSpacing:C(),borderWidth:V(),contrast:te(),grayscale:k(),hueRotate:te(),invert:k(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[Jh,ws],inset:P(),margin:P(),opacity:te(),padding:C(),saturate:te(),scale:te(),sepia:k(),skew:te(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),be]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fr,be]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Fr,be]}],"grid-cols":[{"grid-cols":[qr]}],"col-start-end":[{col:["auto",{span:["full",Fr,be]},be]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[qr]}],"row-start-end":[{row:["auto",{span:[Fr,be]},be]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[u]}],mx:[{mx:[u]}],my:[{my:[u]}],ms:[{ms:[u]}],me:[{me:[u]}],mt:[{mt:[u]}],mr:[{mr:[u]}],mb:[{mb:[u]}],ml:[{ml:[u]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,s]}],"min-w":[{"min-w":[be,s,"min","max","fit"]}],"max-w":[{"max-w":[be,s,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[be,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mn]}],"font-family":[{font:[qr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",yr,Mn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",os,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",os,ws]}],"underline-offset":[{"underline-offset":["auto",os,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),sf]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tf]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},af]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:K()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[os,be]}],"outline-w":[{outline:[os,ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[os,ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,nf]}],"shadow-color":[{shadow:[qr]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...S(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":S()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,be]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[g]}],"scale-x":[{"scale-x":[g]}],"scale-y":[{"scale-y":[g]}],rotate:[{rotate:[Fr,be]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[os,ws,Mn]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uf=Hh(df);function q(...t){return uf(Zl(t))}const mf=vh,Rc=d.forwardRef(({className:t,...s},r)=>e.jsx(hc,{ref:r,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Rc.displayName=hc.displayName;const hf=la("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pc=d.forwardRef(({className:t,variant:s,...r},a)=>e.jsx(fc,{ref:a,className:q(hf({variant:s}),t),...r}));Pc.displayName=fc.displayName;const ff=d.forwardRef(({className:t,...s},r)=>e.jsx(gc,{ref:r,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...s}));ff.displayName=gc.displayName;const Ac=d.forwardRef(({className:t,...s},r)=>e.jsx(vc,{ref:r,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(To,{className:"h-4 w-4"})}));Ac.displayName=vc.displayName;const Mc=d.forwardRef(({className:t,...s},r)=>e.jsx(pc,{ref:r,className:q("text-sm font-semibold",t),...s}));Mc.displayName=pc.displayName;const Ic=d.forwardRef(({className:t,...s},r)=>e.jsx(xc,{ref:r,className:q("text-sm opacity-90",t),...s}));Ic.displayName=xc.displayName;function pf(){const{toasts:t}=No();return e.jsxs(mf,{children:[t.map(function({id:s,title:r,description:a,action:n,...o}){return e.jsxs(Pc,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Mc,{children:r}),a&&e.jsx(Ic,{children:a})]}),n,e.jsx(Ac,{})]},s)}),e.jsx(Rc,{})]})}var vi=["light","dark"],xf="(prefers-color-scheme: dark)",gf=d.createContext(void 0),vf={setTheme:t=>{},themes:[]},yf=()=>{var t;return(t=d.useContext(gf))!=null?t:vf};d.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:a,enableColorScheme:n,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let m=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=n?vi.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(w,x=!1,u=!0)=>{let j=i?i[w]:w,f=x?w+"|| ''":`'${j}'`,y="";return n&&u&&!x&&vi.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),r==="class"?x||j?y+=`c.add(${f})`:y+="null":j&&(y+=`d[s](n,${f})`),y},v=t?`!function(){${h}${b(t)}}()`:a?`!function(){try{${h}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${m})){var t='${xf}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${b(i?"x[e]":"e",!0)}}${m?"":"else{"+b(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${s}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${b(i?"x[e]":"e",!0)}}else{${b(o,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var bf=t=>{switch(t){case"success":return Nf;case"info":return Cf;case"warning":return _f;case"error":return Sf;default:return null}},jf=Array(12).fill(0),wf=({visible:t,className:s})=>A.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},A.createElement("div",{className:"sonner-spinner"},jf.map((r,a)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Nf=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_f=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Cf=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Sf=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kf=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ef=()=>{let[t,s]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Hn=1,Tf=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:r,...a}=t,n=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Hn++,o=this.toasts.find(l=>l.id===n),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:r}),{...l,...t,id:n,dismissible:i,title:r}):l):this.addToast({title:r,...a,dismissible:i,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let a=t instanceof Promise?t:t(),n=r!==void 0,o,i=a.then(async c=>{if(o=["resolve",c],A.isValidElement(c))n=!1,this.create({id:r,type:"default",message:c});else if(Pf(c)&&!c.ok){n=!1;let m=typeof s.error=="function"?await s.error(`HTTP error! status: ${c.status}`):s.error,h=typeof s.description=="function"?await s.description(`HTTP error! status: ${c.status}`):s.description;this.create({id:r,type:"error",message:m,description:h})}else if(s.success!==void 0){n=!1;let m=typeof s.success=="function"?await s.success(c):s.success,h=typeof s.description=="function"?await s.description(c):s.description;this.create({id:r,type:"success",message:m,description:h})}}).catch(async c=>{if(o=["reject",c],s.error!==void 0){n=!1;let m=typeof s.error=="function"?await s.error(c):s.error,h=typeof s.description=="function"?await s.description(c):s.description;this.create({id:r,type:"error",message:m,description:h})}}).finally(()=>{var c;n&&(this.dismiss(r),r=void 0),(c=s.finally)==null||c.call(s)}),l=()=>new Promise((c,m)=>i.then(()=>o[0]==="reject"?m(o[1]):c(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,s)=>{let r=(s==null?void 0:s.id)||Hn++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new Tf,Rf=(t,s)=>{let r=(s==null?void 0:s.id)||Hn++;return vt.addToast({title:t,...s,id:r}),r},Pf=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Af=Rf,Mf=()=>vt.toasts,If=()=>vt.getActiveToasts(),Ne=Object.assign(Af,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:Mf,getToasts:If});function Df(t,{insertAt:s}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}Df(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ba(t){return t.label!==void 0}var Of=3,$f="32px",Lf="16px",yi=4e3,Vf=356,Ff=14,qf=20,zf=200;function Lt(...t){return t.filter(Boolean).join(" ")}function Bf(t){let[s,r]=t.split("-"),a=[];return s&&a.push(s),r&&a.push(r),a}var Uf=t=>{var s,r,a,n,o,i,l,c,m,h,p;let{invert:b,toast:v,unstyled:w,interacting:x,setHeights:u,visibleToasts:j,heights:f,index:y,toasts:g,expanded:N,removeToast:D,defaultRichColors:L,closeButton:$,style:M,cancelButtonStyle:Q,actionButtonStyle:P,className:C="",descriptionClassName:V="",duration:E,position:W,gap:K,loadingIcon:S,expandByDefault:R,classNames:k,icons:U,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:re}=t,[ce,me]=A.useState(null),[Le,Ke]=A.useState(null),[H,Ce]=A.useState(!1),[Qe,Me]=A.useState(!1),[Ee,Ie]=A.useState(!1),[kt,Et]=A.useState(!1),[xs,gs]=A.useState(!1),[Qs,ha]=A.useState(0),[fa,_]=A.useState(0),T=A.useRef(v.duration||E||yi),I=A.useRef(null),G=A.useRef(null),B=y===0,z=y+1<=j,J=v.type,Se=v.dismissible!==!1,ze=v.className||"",xt=v.descriptionClassName||"",as=A.useMemo(()=>f.findIndex(xe=>xe.toastId===v.id)||0,[f,v.id]),Qt=A.useMemo(()=>{var xe;return(xe=v.closeButton)!=null?xe:$},[v.closeButton,$]),pa=A.useMemo(()=>v.duration||E||yi,[v.duration,E]),Ys=A.useRef(0),Yt=A.useRef(0),xa=A.useRef(0),ns=A.useRef(null),[Sn,ga]=W.split("-"),si=A.useMemo(()=>f.reduce((xe,Be,Ze)=>Ze>=as?xe:xe+Be.height,0),[f,as]),ri=Ef(),Nm=v.invert||b,kn=J==="loading";Yt.current=A.useMemo(()=>as*K+si,[as,si]),A.useEffect(()=>{T.current=pa},[pa]),A.useEffect(()=>{Ce(!0)},[]),A.useEffect(()=>{let xe=G.current;if(xe){let Be=xe.getBoundingClientRect().height;return _(Be),u(Ze=>[{toastId:v.id,height:Be,position:v.position},...Ze]),()=>u(Ze=>Ze.filter(Dt=>Dt.toastId!==v.id))}},[u,v.id]),A.useLayoutEffect(()=>{if(!H)return;let xe=G.current,Be=xe.style.height;xe.style.height="auto";let Ze=xe.getBoundingClientRect().height;xe.style.height=Be,_(Ze),u(Dt=>Dt.find(Ot=>Ot.toastId===v.id)?Dt.map(Ot=>Ot.toastId===v.id?{...Ot,height:Ze}:Ot):[{toastId:v.id,height:Ze,position:v.position},...Dt])},[H,v.title,v.description,u,v.id]);let vs=A.useCallback(()=>{Me(!0),ha(Yt.current),u(xe=>xe.filter(Be=>Be.toastId!==v.id)),setTimeout(()=>{D(v)},zf)},[v,D,u,Yt]);A.useEffect(()=>{if(v.promise&&J==="loading"||v.duration===1/0||v.type==="loading")return;let xe;return N||x||re&&ri?(()=>{if(xa.current<Ys.current){let Be=new Date().getTime()-Ys.current;T.current=T.current-Be}xa.current=new Date().getTime()})():T.current!==1/0&&(Ys.current=new Date().getTime(),xe=setTimeout(()=>{var Be;(Be=v.onAutoClose)==null||Be.call(v,v),vs()},T.current)),()=>clearTimeout(xe)},[N,x,v,J,re,ri,vs]),A.useEffect(()=>{v.delete&&vs()},[vs,v.delete]);function _m(){var xe,Be,Ze;return U!=null&&U.loading?A.createElement("div",{className:Lt(k==null?void 0:k.loader,(xe=v==null?void 0:v.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":J==="loading"},U.loading):S?A.createElement("div",{className:Lt(k==null?void 0:k.loader,(Be=v==null?void 0:v.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":J==="loading"},S):A.createElement(wf,{className:Lt(k==null?void 0:k.loader,(Ze=v==null?void 0:v.classNames)==null?void 0:Ze.loader),visible:J==="loading"})}return A.createElement("li",{tabIndex:0,ref:G,className:Lt(C,ze,k==null?void 0:k.toast,(s=v==null?void 0:v.classNames)==null?void 0:s.toast,k==null?void 0:k.default,k==null?void 0:k[J],(r=v==null?void 0:v.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(a=v.richColors)!=null?a:L,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":H,"data-promise":!!v.promise,"data-swiped":xs,"data-removed":Qe,"data-visible":z,"data-y-position":Sn,"data-x-position":ga,"data-index":y,"data-front":B,"data-swiping":Ee,"data-dismissible":Se,"data-type":J,"data-invert":Nm,"data-swipe-out":kt,"data-swipe-direction":Le,"data-expanded":!!(N||R&&H),style:{"--index":y,"--toasts-before":y,"--z-index":g.length-y,"--offset":`${Qe?Qs:Yt.current}px`,"--initial-height":R?"auto":`${fa}px`,...M,...v.style},onDragEnd:()=>{Ie(!1),me(null),ns.current=null},onPointerDown:xe=>{kn||!Se||(I.current=new Date,ha(Yt.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Ie(!0),ns.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Be,Ze,Dt;if(kt||!Se)return;ns.current=null;let Ot=Number(((xe=G.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ys=Number(((Be=G.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xs=new Date().getTime()-((Ze=I.current)==null?void 0:Ze.getTime()),$t=ce==="x"?Ot:ys,bs=Math.abs($t)/Xs;if(Math.abs($t)>=qf||bs>.11){ha(Yt.current),(Dt=v.onDismiss)==null||Dt.call(v,v),Ke(ce==="x"?Ot>0?"right":"left":ys>0?"down":"up"),vs(),Et(!0),gs(!1);return}Ie(!1),me(null)},onPointerMove:xe=>{var Be,Ze,Dt,Ot;if(!ns.current||!Se||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;let ys=xe.clientY-ns.current.y,Xs=xe.clientX-ns.current.x,$t=(Ze=t.swipeDirections)!=null?Ze:Bf(W);!ce&&(Math.abs(Xs)>1||Math.abs(ys)>1)&&me(Math.abs(Xs)>Math.abs(ys)?"x":"y");let bs={x:0,y:0};ce==="y"?($t.includes("top")||$t.includes("bottom"))&&($t.includes("top")&&ys<0||$t.includes("bottom")&&ys>0)&&(bs.y=ys):ce==="x"&&($t.includes("left")||$t.includes("right"))&&($t.includes("left")&&Xs<0||$t.includes("right")&&Xs>0)&&(bs.x=Xs),(Math.abs(bs.x)>0||Math.abs(bs.y)>0)&&gs(!0),(Dt=G.current)==null||Dt.style.setProperty("--swipe-amount-x",`${bs.x}px`),(Ot=G.current)==null||Ot.style.setProperty("--swipe-amount-y",`${bs.y}px`)}},Qt&&!v.jsx?A.createElement("button",{"aria-label":te,"data-disabled":kn,"data-close-button":!0,onClick:kn||!Se?()=>{}:()=>{var xe;vs(),(xe=v.onDismiss)==null||xe.call(v,v)},className:Lt(k==null?void 0:k.closeButton,(n=v==null?void 0:v.classNames)==null?void 0:n.closeButton)},(o=U==null?void 0:U.close)!=null?o:kf):null,v.jsx||d.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:A.createElement(A.Fragment,null,J||v.icon||v.promise?A.createElement("div",{"data-icon":"",className:Lt(k==null?void 0:k.icon,(i=v==null?void 0:v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||_m():null,v.type!=="loading"?v.icon||(U==null?void 0:U[J])||bf(J):null):null,A.createElement("div",{"data-content":"",className:Lt(k==null?void 0:k.content,(l=v==null?void 0:v.classNames)==null?void 0:l.content)},A.createElement("div",{"data-title":"",className:Lt(k==null?void 0:k.title,(c=v==null?void 0:v.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?A.createElement("div",{"data-description":"",className:Lt(V,xt,k==null?void 0:k.description,(m=v==null?void 0:v.classNames)==null?void 0:m.description)},typeof v.description=="function"?v.description():v.description):null),d.isValidElement(v.cancel)?v.cancel:v.cancel&&ba(v.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||Q,onClick:xe=>{var Be,Ze;ba(v.cancel)&&Se&&((Ze=(Be=v.cancel).onClick)==null||Ze.call(Be,xe),vs())},className:Lt(k==null?void 0:k.cancelButton,(h=v==null?void 0:v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,d.isValidElement(v.action)?v.action:v.action&&ba(v.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||P,onClick:xe=>{var Be,Ze;ba(v.action)&&((Ze=(Be=v.action).onClick)==null||Ze.call(Be,xe),!xe.defaultPrevented&&vs())},className:Lt(k==null?void 0:k.actionButton,(p=v==null?void 0:v.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function bi(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Hf(t,s){let r={};return[t,s].forEach((a,n)=>{let o=n===1,i=o?"--mobile-offset":"--offset",l=o?Lf:$f;function c(m){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof m=="number"?`${m}px`:m})}typeof a=="number"||typeof a=="string"?c(a):typeof a=="object"?["top","right","bottom","left"].forEach(m=>{a[m]===void 0?r[`${i}-${m}`]=l:r[`${i}-${m}`]=typeof a[m]=="number"?`${a[m]}px`:a[m]}):c(l)}),r}var Gf=d.forwardRef(function(t,s){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:m,theme:h="light",richColors:p,duration:b,style:v,visibleToasts:w=Of,toastOptions:x,dir:u=bi(),gap:j=Ff,loadingIcon:f,icons:y,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:N}=t,[D,L]=A.useState([]),$=A.useMemo(()=>Array.from(new Set([a].concat(D.filter(re=>re.position).map(re=>re.position)))),[D,a]),[M,Q]=A.useState([]),[P,C]=A.useState(!1),[V,E]=A.useState(!1),[W,K]=A.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),S=A.useRef(null),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=A.useRef(null),U=A.useRef(!1),te=A.useCallback(re=>{L(ce=>{var me;return(me=ce.find(Le=>Le.id===re.id))!=null&&me.delete||vt.dismiss(re.id),ce.filter(({id:Le})=>Le!==re.id)})},[]);return A.useEffect(()=>vt.subscribe(re=>{if(re.dismiss){L(ce=>ce.map(me=>me.id===re.id?{...me,delete:!0}:me));return}setTimeout(()=>{Fm.flushSync(()=>{L(ce=>{let me=ce.findIndex(Le=>Le.id===re.id);return me!==-1?[...ce.slice(0,me),{...ce[me],...re},...ce.slice(me+1)]:[re,...ce]})})})}),[]),A.useEffect(()=>{if(h!=="system"){K(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ce})=>{K(ce?"dark":"light")})}catch{re.addListener(({matches:me})=>{try{K(me?"dark":"light")}catch(Le){console.error(Le)}})}},[h]),A.useEffect(()=>{D.length<=1&&C(!1)},[D]),A.useEffect(()=>{let re=ce=>{var me,Le;n.every(Ke=>ce[Ke]||ce.code===Ke)&&(C(!0),(me=S.current)==null||me.focus()),ce.code==="Escape"&&(document.activeElement===S.current||(Le=S.current)!=null&&Le.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[n]),A.useEffect(()=>{if(S.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,U.current=!1)}},[S.current]),A.createElement("section",{ref:s,"aria-label":`${g} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((re,ce)=>{var me;let[Le,Ke]=re.split("-");return D.length?A.createElement("ol",{key:re,dir:u==="auto"?bi():u,tabIndex:-1,ref:S,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Le,"data-lifted":P&&D.length>1&&!o,"data-x-position":Ke,style:{"--front-toast-height":`${((me=M[0])==null?void 0:me.height)||0}px`,"--width":`${Vf}px`,"--gap":`${j}px`,...v,...Hf(c,m)},onBlur:H=>{U.current&&!H.currentTarget.contains(H.relatedTarget)&&(U.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||U.current||(U.current=!0,k.current=H.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{V||C(!1)},onDragEnd:()=>C(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},D.filter(H=>!H.position&&ce===0||H.position===re).map((H,Ce)=>{var Qe,Me;return A.createElement(Uf,{key:H.id,icons:y,index:Ce,toast:H,defaultRichColors:p,duration:(Qe=x==null?void 0:x.duration)!=null?Qe:b,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Me=x==null?void 0:x.closeButton)!=null?Me:i,interacting:V,position:re,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:te,toasts:D.filter(Ee=>Ee.position==H.position),heights:M.filter(Ee=>Ee.position==H.position),setHeights:Q,expandByDefault:o,gap:j,loadingIcon:f,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const Wf=({...t})=>{const{theme:s="system"}=yf();return e.jsx(Gf,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[en,By]=Gs("Tooltip",[Wa]),Po=Wa(),Dc="TooltipProvider",Zf=700,ji="tooltip.open",[Kf,Oc]=en(Dc),$c=t=>{const{__scopeTooltip:s,delayDuration:r=Zf,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:o}=t,i=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const m=c.current;return()=>window.clearTimeout(m)},[]),e.jsx(Kf,{scope:s,isOpenDelayedRef:i,delayDuration:r,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(m=>{l.current=m},[]),disableHoverableContent:n,children:o})};$c.displayName=Dc;var Lc="Tooltip",[Uy,tn]=en(Lc),Gn="TooltipTrigger",Qf=d.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=tn(Gn,r),o=Oc(Gn,r),i=Po(r),l=d.useRef(null),c=nt(s,l,n.onTriggerChange),m=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>m.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(Sl,{asChild:!0,...i,children:e.jsx(ke.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:je(t.onPointerMove,b=>{b.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),h.current=!0)}),onPointerLeave:je(t.onPointerLeave,()=>{n.onTriggerLeave(),h.current=!1}),onPointerDown:je(t.onPointerDown,()=>{n.open&&n.onClose(),m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:je(t.onFocus,()=>{m.current||n.onOpen()}),onBlur:je(t.onBlur,n.onClose),onClick:je(t.onClick,n.onClose)})})});Qf.displayName=Gn;var Yf="TooltipPortal",[Hy,Xf]=en(Yf,{forceMount:void 0}),Tr="TooltipContent",Vc=d.forwardRef((t,s)=>{const r=Xf(Tr,t.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...o}=t,i=tn(Tr,t.__scopeTooltip);return e.jsx(Ga,{present:a||i.open,children:i.disableHoverableContent?e.jsx(Fc,{side:n,...o,ref:s}):e.jsx(Jf,{side:n,...o,ref:s})})}),Jf=d.forwardRef((t,s)=>{const r=tn(Tr,t.__scopeTooltip),a=Oc(Tr,t.__scopeTooltip),n=d.useRef(null),o=nt(s,n),[i,l]=d.useState(null),{trigger:c,onClose:m}=r,h=n.current,{onPointerInTransitChange:p}=a,b=d.useCallback(()=>{l(null),p(!1)},[p]),v=d.useCallback((w,x)=>{const u=w.currentTarget,j={x:w.clientX,y:w.clientY},f=ap(j,u.getBoundingClientRect()),y=np(j,f),g=op(x.getBoundingClientRect()),N=lp([...y,...g]);l(N),p(!0)},[p]);return d.useEffect(()=>()=>b(),[b]),d.useEffect(()=>{if(c&&h){const w=u=>v(u,h),x=u=>v(u,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,v,b]),d.useEffect(()=>{if(i){const w=x=>{const u=x.target,j={x:x.clientX,y:x.clientY},f=(c==null?void 0:c.contains(u))||(h==null?void 0:h.contains(u)),y=!ip(j,i);f?b():y&&(b(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,i,m,b]),e.jsx(Fc,{...t,ref:o})}),[ep,tp]=en(Lc,{isInside:!1}),sp=Rl("TooltipContent"),Fc=d.forwardRef((t,s)=>{const{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=tn(Tr,r),m=Po(r),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(ji,h),()=>document.removeEventListener(ji,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=b=>{const v=b.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),e.jsx(kl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:e.jsxs(El,{"data-state":c.stateAttribute,...m,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(sp,{children:a}),e.jsx(ep,{scope:r,isInside:!0,children:e.jsx(eh,{id:c.contentId,role:"tooltip",children:n||a})})]})})});Vc.displayName=Tr;var qc="TooltipArrow",rp=d.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=Po(r);return tp(qc,r).isInside?null:e.jsx(Tl,{...n,...a,ref:s})});rp.displayName=qc;function ap(t,s){const r=Math.abs(s.top-t.y),a=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(r,a,n,o)){case o:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function np(t,s,r=5){const a=[];switch(s){case"top":a.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":a.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":a.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":a.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return a}function op(t){const{top:s,right:r,bottom:a,left:n}=t;return[{x:n,y:s},{x:r,y:s},{x:r,y:a},{x:n,y:a}]}function ip(t,s){const{x:r,y:a}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o],c=s[i],m=l.x,h=l.y,p=c.x,b=c.y;h>a!=b>a&&r<(p-m)*(a-h)/(b-h)+m&&(n=!n)}return n}function lp(t){const s=t.slice();return s.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),cp(s)}function cp(t){if(t.length<=1)return t.slice();const s=[];for(let a=0;a<t.length;a++){const n=t[a];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}s.pop();const r=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))r.pop();else break}r.push(n)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var dp=$c,zc=Vc;const up=dp,mp=d.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(zc,{ref:a,sideOffset:s,className:q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));mp.displayName=zc.displayName;var sn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rn=typeof window>"u"||"Deno"in globalThis;function Ft(){}function hp(t,s){return typeof t=="function"?t(s):t}function fp(t){return typeof t=="number"&&t>=0&&t!==1/0}function pp(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Wn(t,s){return typeof t=="function"?t(s):t}function xp(t,s){return typeof t=="function"?t(s):t}function wi(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:o,queryKey:i,stale:l}=t;if(i){if(a){if(s.queryHash!==Ao(i,s.options))return!1}else if(!Jr(s.queryKey,i))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||n&&n!==s.state.fetchStatus||o&&!o(s))}function Ni(t,s){const{exact:r,status:a,predicate:n,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(r){if(Xr(s.options.mutationKey)!==Xr(o))return!1}else if(!Jr(s.options.mutationKey,o))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function Ao(t,s){return((s==null?void 0:s.queryKeyHashFn)||Xr)(t)}function Xr(t){return JSON.stringify(t,(s,r)=>Zn(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Jr(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Jr(t[r],s[r])):!1}function Bc(t,s){if(t===s)return t;const r=_i(t)&&_i(s);if(r||Zn(t)&&Zn(s)){const a=r?t:Object.keys(t),n=a.length,o=r?s:Object.keys(s),i=o.length,l=r?[]:{},c=new Set(a);let m=0;for(let h=0;h<i;h++){const p=r?h:o[h];(!r&&c.has(p)||r)&&t[p]===void 0&&s[p]===void 0?(l[p]=void 0,m++):(l[p]=Bc(t[p],s[p]),l[p]===t[p]&&t[p]!==void 0&&m++)}return n===i&&m===n?t:l}return s}function _i(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zn(t){if(!Ci(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Ci(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ci(t){return Object.prototype.toString.call(t)==="[object Object]"}function gp(t){return new Promise(s=>{setTimeout(s,t)})}function vp(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Bc(t,s):s}function yp(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function bp(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var Mo=Symbol();function Uc(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Mo?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var er,ks,jr,xl,jp=(xl=class extends sn{constructor(){super();De(this,er);De(this,ks);De(this,jr);ge(this,jr,s=>{if(!rn&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,ks)||this.setEventListener(O(this,jr))}onUnsubscribe(){var s;this.hasListeners()||((s=O(this,ks))==null||s.call(this),ge(this,ks,void 0))}setEventListener(s){var r;ge(this,jr,s),(r=O(this,ks))==null||r.call(this),ge(this,ks,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){O(this,er)!==s&&(ge(this,er,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof O(this,er)=="boolean"?O(this,er):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},er=new WeakMap,ks=new WeakMap,jr=new WeakMap,xl),Hc=new jp,wr,Es,Nr,gl,wp=(gl=class extends sn{constructor(){super();De(this,wr,!0);De(this,Es);De(this,Nr);ge(this,Nr,s=>{if(!rn&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){O(this,Es)||this.setEventListener(O(this,Nr))}onUnsubscribe(){var s;this.hasListeners()||((s=O(this,Es))==null||s.call(this),ge(this,Es,void 0))}setEventListener(s){var r;ge(this,Nr,s),(r=O(this,Es))==null||r.call(this),ge(this,Es,s(this.setOnline.bind(this)))}setOnline(s){O(this,wr)!==s&&(ge(this,wr,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return O(this,wr)}},wr=new WeakMap,Es=new WeakMap,Nr=new WeakMap,gl),Ra=new wp;function Np(){let t,s;const r=new Promise((n,o)=>{t=n,s=o});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}function _p(t){return Math.min(1e3*2**t,3e4)}function Gc(t){return(t??"online")==="online"?Ra.isOnline():!0}var Wc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function In(t){return t instanceof Wc}function Zc(t){let s=!1,r=0,a=!1,n;const o=Np(),i=x=>{var u;a||(b(new Wc(x)),(u=t.abort)==null||u.call(t))},l=()=>{s=!0},c=()=>{s=!1},m=()=>Hc.isFocused()&&(t.networkMode==="always"||Ra.isOnline())&&t.canRun(),h=()=>Gc(t.networkMode)&&t.canRun(),p=x=>{var u;a||(a=!0,(u=t.onSuccess)==null||u.call(t,x),n==null||n(),o.resolve(x))},b=x=>{var u;a||(a=!0,(u=t.onError)==null||u.call(t,x),n==null||n(),o.reject(x))},v=()=>new Promise(x=>{var u;n=j=>{(a||m())&&x(j)},(u=t.onPause)==null||u.call(t)}).then(()=>{var x;n=void 0,a||(x=t.onContinue)==null||x.call(t)}),w=()=>{if(a)return;let x;const u=r===0?t.initialPromise:void 0;try{x=u??t.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(p).catch(j=>{var D;if(a)return;const f=t.retry??(rn?0:3),y=t.retryDelay??_p,g=typeof y=="function"?y(r,j):y,N=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,j);if(s||!N){b(j);return}r++,(D=t.onFail)==null||D.call(t,r,j),gp(g).then(()=>m()?void 0:v()).then(()=>{s?b(j):w()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():v().then(w),o)}}var Cp=t=>setTimeout(t,0);function Sp(){let t=[],s=0,r=l=>{l()},a=l=>{l()},n=Cp;const o=l=>{s?t.push(l):n(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{a(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var pt=Sp(),tr,vl,Kc=(vl=class{constructor(){De(this,tr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fp(this.gcTime)&&ge(this,tr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rn?1/0:5*60*1e3))}clearGcTimeout(){O(this,tr)&&(clearTimeout(O(this,tr)),ge(this,tr,void 0))}},tr=new WeakMap,vl),_r,sr,Rt,rr,mt,aa,ar,qt,ls,yl,kp=(yl=class extends Kc{constructor(s){super();De(this,qt);De(this,_r);De(this,sr);De(this,Rt);De(this,rr);De(this,mt);De(this,aa);De(this,ar);ge(this,ar,!1),ge(this,aa,s.defaultOptions),this.setOptions(s.options),this.observers=[],ge(this,rr,s.client),ge(this,Rt,O(this,rr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,ge(this,_r,Tp(this.options)),this.state=s.state??O(this,_r),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=O(this,mt))==null?void 0:s.promise}setOptions(s){this.options={...O(this,aa),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Rt).remove(this)}setData(s,r){const a=vp(this.state.data,s,this.options);return ut(this,qt,ls).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){ut(this,qt,ls).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=O(this,mt))==null?void 0:a.promise;return(n=O(this,mt))==null||n.cancel(s),r?r.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,_r))}isActive(){return this.observers.some(s=>xp(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Wn(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!pp(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=O(this,mt))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=O(this,mt))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),O(this,Rt).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(O(this,mt)&&(O(this,ar)?O(this,mt).cancel({revert:!0}):O(this,mt).cancelRetry()),this.scheduleGc()),O(this,Rt).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ut(this,qt,ls).call(this,{type:"invalidate"})}fetch(s,r){var m,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,mt))return O(this,mt).continueRetry(),O(this,mt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const b=this.observers.find(v=>v.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,n=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ge(this,ar,!0),a.signal)})},o=()=>{const b=Uc(this.options,r),w=(()=>{const x={client:O(this,rr),queryKey:this.queryKey,meta:this.meta};return n(x),x})();return ge(this,ar,!1),this.options.persister?this.options.persister(b,w,this):b(w)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,rr),state:this.state,fetchFn:o};return n(b),b})();(m=this.options.behavior)==null||m.onFetch(l,this),ge(this,sr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ut(this,qt,ls).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=b=>{var v,w,x,u;In(b)&&b.silent||ut(this,qt,ls).call(this,{type:"error",error:b}),In(b)||((w=(v=O(this,Rt).config).onError)==null||w.call(v,b,this),(u=(x=O(this,Rt).config).onSettled)==null||u.call(x,this.state.data,b,this)),this.scheduleGc()};return ge(this,mt,Zc({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var v,w,x,u;if(b===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(j){c(j);return}(w=(v=O(this,Rt).config).onSuccess)==null||w.call(v,b,this),(u=(x=O(this,Rt).config).onSettled)==null||u.call(x,b,this.state.error,this),this.scheduleGc()},onError:c,onFail:(b,v)=>{ut(this,qt,ls).call(this,{type:"failed",failureCount:b,error:v})},onPause:()=>{ut(this,qt,ls).call(this,{type:"pause"})},onContinue:()=>{ut(this,qt,ls).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),O(this,mt).start()}},_r=new WeakMap,sr=new WeakMap,Rt=new WeakMap,rr=new WeakMap,mt=new WeakMap,aa=new WeakMap,ar=new WeakMap,qt=new WeakSet,ls=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Ep(a.data,this.options),fetchMeta:s.meta??null};case"success":return ge(this,sr,void 0),{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=s.error;return In(n)&&n.revert&&O(this,sr)?{...O(this,sr),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),pt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),O(this,Rt).notify({query:this,type:"updated",action:s})})},yl);function Ep(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gc(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Tp(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xt,bl,Rp=(bl=class extends sn{constructor(s={}){super();De(this,Xt);this.config=s,ge(this,Xt,new Map)}build(s,r,a){const n=r.queryKey,o=r.queryHash??Ao(n,r);let i=this.get(o);return i||(i=new kp({client:s,queryKey:n,queryHash:o,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(i)),i}add(s){O(this,Xt).has(s.queryHash)||(O(this,Xt).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=O(this,Xt).get(s.queryHash);r&&(s.destroy(),r===s&&O(this,Xt).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){pt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return O(this,Xt).get(s)}getAll(){return[...O(this,Xt).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>wi(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>wi(s,a)):r}notify(s){pt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Xt=new WeakMap,bl),Jt,ht,nr,es,Cs,jl,Pp=(jl=class extends Kc{constructor(s){super();De(this,es);De(this,Jt);De(this,ht);De(this,nr);this.mutationId=s.mutationId,ge(this,ht,s.mutationCache),ge(this,Jt,[]),this.state=s.state||Ap(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){O(this,Jt).includes(s)||(O(this,Jt).push(s),this.clearGcTimeout(),O(this,ht).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){ge(this,Jt,O(this,Jt).filter(r=>r!==s)),this.scheduleGc(),O(this,ht).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){O(this,Jt).length||(this.state.status==="pending"?this.scheduleGc():O(this,ht).remove(this))}continue(){var s;return((s=O(this,nr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var o,i,l,c,m,h,p,b,v,w,x,u,j,f,y,g,N,D,L,$;const r=()=>{ut(this,es,Cs).call(this,{type:"continue"})};ge(this,nr,Zc({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(M,Q)=>{ut(this,es,Cs).call(this,{type:"failed",failureCount:M,error:Q})},onPause:()=>{ut(this,es,Cs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,ht).canRun(this)}));const a=this.state.status==="pending",n=!O(this,nr).canStart();try{if(a)r();else{ut(this,es,Cs).call(this,{type:"pending",variables:s,isPaused:n}),await((i=(o=O(this,ht).config).onMutate)==null?void 0:i.call(o,s,this));const Q=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,s));Q!==this.state.context&&ut(this,es,Cs).call(this,{type:"pending",context:Q,variables:s,isPaused:n})}const M=await O(this,nr).start();return await((h=(m=O(this,ht).config).onSuccess)==null?void 0:h.call(m,M,s,this.state.context,this)),await((b=(p=this.options).onSuccess)==null?void 0:b.call(p,M,s,this.state.context)),await((w=(v=O(this,ht).config).onSettled)==null?void 0:w.call(v,M,null,this.state.variables,this.state.context,this)),await((u=(x=this.options).onSettled)==null?void 0:u.call(x,M,null,s,this.state.context)),ut(this,es,Cs).call(this,{type:"success",data:M}),M}catch(M){try{throw await((f=(j=O(this,ht).config).onError)==null?void 0:f.call(j,M,s,this.state.context,this)),await((g=(y=this.options).onError)==null?void 0:g.call(y,M,s,this.state.context)),await((D=(N=O(this,ht).config).onSettled)==null?void 0:D.call(N,void 0,M,this.state.variables,this.state.context,this)),await(($=(L=this.options).onSettled)==null?void 0:$.call(L,void 0,M,s,this.state.context)),M}finally{ut(this,es,Cs).call(this,{type:"error",error:M})}}finally{O(this,ht).runNext(this)}}},Jt=new WeakMap,ht=new WeakMap,nr=new WeakMap,es=new WeakSet,Cs=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pt.batch(()=>{O(this,Jt).forEach(a=>{a.onMutationUpdate(s)}),O(this,ht).notify({mutation:this,type:"updated",action:s})})},jl);function Ap(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cs,zt,na,wl,Mp=(wl=class extends sn{constructor(s={}){super();De(this,cs);De(this,zt);De(this,na);this.config=s,ge(this,cs,new Set),ge(this,zt,new Map),ge(this,na,0)}build(s,r,a){const n=new Pp({mutationCache:this,mutationId:++va(this,na)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){O(this,cs).add(s);const r=ja(s);if(typeof r=="string"){const a=O(this,zt).get(r);a?a.push(s):O(this,zt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(O(this,cs).delete(s)){const r=ja(s);if(typeof r=="string"){const a=O(this,zt).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&O(this,zt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=ja(s);if(typeof r=="string"){const a=O(this,zt).get(r),n=a==null?void 0:a.find(o=>o.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=ja(s);if(typeof r=="string"){const n=(a=O(this,zt).get(r))==null?void 0:a.find(o=>o!==s&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pt.batch(()=>{O(this,cs).forEach(s=>{this.notify({type:"removed",mutation:s})}),O(this,cs).clear(),O(this,zt).clear()})}getAll(){return Array.from(O(this,cs))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>Ni(r,a))}findAll(s={}){return this.getAll().filter(r=>Ni(s,r))}notify(s){pt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return pt.batch(()=>Promise.all(s.map(r=>r.continue().catch(Ft))))}},cs=new WeakMap,zt=new WeakMap,na=new WeakMap,wl);function ja(t){var s;return(s=t.options.scope)==null?void 0:s.id}function Si(t){return{onFetch:(s,r)=>{var h,p,b,v,w;const a=s.options,n=(b=(p=(h=s.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:b.direction,o=((v=s.state.data)==null?void 0:v.pages)||[],i=((w=s.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const m=async()=>{let x=!1;const u=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},j=Uc(s.options,s.fetchOptions),f=async(y,g,N)=>{if(x)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const L=(()=>{const P={client:s.client,queryKey:s.queryKey,pageParam:g,direction:N?"backward":"forward",meta:s.options.meta};return u(P),P})(),$=await j(L),{maxPages:M}=s.options,Q=N?bp:yp;return{pages:Q(y.pages,$,M),pageParams:Q(y.pageParams,g,M)}};if(n&&o.length){const y=n==="backward",g=y?Ip:ki,N={pages:o,pageParams:i},D=g(a,N);l=await f(N,D,y)}else{const y=t??o.length;do{const g=c===0?i[0]??a.initialPageParam:ki(a,l);if(c>0&&g==null)break;l=await f(l,g),c++}while(c<y)}return l};s.options.persister?s.fetchFn=()=>{var x,u;return(u=(x=s.options).persister)==null?void 0:u.call(x,m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=m}}}function ki(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function Ip(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var Xe,Ts,Rs,Cr,Sr,Ps,kr,Er,Nl,Dp=(Nl=class{constructor(t={}){De(this,Xe);De(this,Ts);De(this,Rs);De(this,Cr);De(this,Sr);De(this,Ps);De(this,kr);De(this,Er);ge(this,Xe,t.queryCache||new Rp),ge(this,Ts,t.mutationCache||new Mp),ge(this,Rs,t.defaultOptions||{}),ge(this,Cr,new Map),ge(this,Sr,new Map),ge(this,Ps,0)}mount(){va(this,Ps)._++,O(this,Ps)===1&&(ge(this,kr,Hc.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onFocus())})),ge(this,Er,Ra.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onOnline())})))}unmount(){var t,s;va(this,Ps)._--,O(this,Ps)===0&&((t=O(this,kr))==null||t.call(this),ge(this,kr,void 0),(s=O(this,Er))==null||s.call(this),ge(this,Er,void 0))}isFetching(t){return O(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Ts).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=O(this,Xe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=O(this,Xe).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Wn(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return O(this,Xe).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=O(this,Xe).get(a.queryHash),o=n==null?void 0:n.state.data,i=hp(s,o);if(i!==void 0)return O(this,Xe).build(this,a).setData(i,{...r,manual:!0})}setQueriesData(t,s,r){return pt.batch(()=>O(this,Xe).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=O(this,Xe).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=O(this,Xe);pt.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=O(this,Xe);return pt.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=pt.batch(()=>O(this,Xe).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(Ft).catch(Ft)}invalidateQueries(t,s={}){return pt.batch(()=>(O(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=pt.batch(()=>O(this,Xe).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ft)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(Ft)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=O(this,Xe).build(this,s);return r.isStaleByTime(Wn(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ft).catch(Ft)}fetchInfiniteQuery(t){return t.behavior=Si(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ft).catch(Ft)}ensureInfiniteQueryData(t){return t.behavior=Si(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ra.isOnline()?O(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Xe)}getMutationCache(){return O(this,Ts)}getDefaultOptions(){return O(this,Rs)}setDefaultOptions(t){ge(this,Rs,t)}setQueryDefaults(t,s){O(this,Cr).set(Xr(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...O(this,Cr).values()],r={};return s.forEach(a=>{Jr(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){O(this,Sr).set(Xr(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...O(this,Sr).values()],r={};return s.forEach(a=>{Jr(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...O(this,Rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Ao(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Mo&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Xe).clear(),O(this,Ts).clear()}},Xe=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,Cr=new WeakMap,Sr=new WeakMap,Ps=new WeakMap,kr=new WeakMap,Er=new WeakMap,Nl),Op=d.createContext(void 0),$p=({client:t,children:s})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Op.Provider,{value:t,children:s}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ea.apply(this,arguments)}var As;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(As||(As={}));const Ei="popstate";function Lp(t){t===void 0&&(t={});function s(a,n){let{pathname:o,search:i,hash:l}=a.location;return Kn("",{pathname:o,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Pa(n)}return Fp(s,r,null,t)}function at(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Qc(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Vp(){return Math.random().toString(36).substr(2,8)}function Ti(t,s){return{usr:t.state,key:t.key,idx:s}}function Kn(t,s,r,a){return r===void 0&&(r=null),ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Lr(s):s,{state:r,key:s&&s.key||a||Vp()})}function Pa(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Lr(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Fp(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,i=n.history,l=As.Pop,c=null,m=h();m==null&&(m=0,i.replaceState(ea({},i.state,{idx:m}),""));function h(){return(i.state||{idx:null}).idx}function p(){l=As.Pop;let u=h(),j=u==null?null:u-m;m=u,c&&c({action:l,location:x.location,delta:j})}function b(u,j){l=As.Push;let f=Kn(x.location,u,j);m=h()+1;let y=Ti(f,m),g=x.createHref(f);try{i.pushState(y,"",g)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(g)}o&&c&&c({action:l,location:x.location,delta:1})}function v(u,j){l=As.Replace;let f=Kn(x.location,u,j);m=h();let y=Ti(f,m),g=x.createHref(f);i.replaceState(y,"",g),o&&c&&c({action:l,location:x.location,delta:0})}function w(u){let j=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof u=="string"?u:Pa(u);return f=f.replace(/ $/,"%20"),at(j,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,j)}let x={get action(){return l},get location(){return t(n,i)},listen(u){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Ei,p),c=u,()=>{n.removeEventListener(Ei,p),c=null}},createHref(u){return s(n,u)},createURL:w,encodeLocation(u){let j=w(u);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:v,go(u){return i.go(u)}};return x}var Ri;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ri||(Ri={}));function qp(t,s,r){return r===void 0&&(r="/"),zp(t,s,r,!1)}function zp(t,s,r,a){let n=typeof s=="string"?Lr(s):s,o=Io(n.pathname||"/",r);if(o==null)return null;let i=Yc(t);Bp(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let m=ex(o);l=Xp(i[c],m,a)}return l}function Yc(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let m=Ds([a,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(at(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Yc(o.children,s,h,m)),!(o.path==null&&!o.index)&&s.push({path:m,score:Qp(m,o.index),routesMeta:h})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,i);else for(let c of Xc(o.path))n(o,i,c)}),s}function Xc(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return n?[o,""]:[o];let i=Xc(a.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),n&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bp(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Yp(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Up=/^:[\w-]+$/,Hp=3,Gp=2,Wp=1,Zp=10,Kp=-2,Pi=t=>t==="*";function Qp(t,s){let r=t.split("/"),a=r.length;return r.some(Pi)&&(a+=Kp),s&&(a+=Gp),r.filter(n=>!Pi(n)).reduce((n,o)=>n+(Up.test(o)?Hp:o===""?Wp:Zp),a)}function Yp(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function Xp(t,s,r){let{routesMeta:a}=t,n={},o="/",i=[];for(let l=0;l<a.length;++l){let c=a[l],m=l===a.length-1,h=o==="/"?s:s.slice(o.length)||"/",p=Ai({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},h),b=c.route;if(!p&&m&&r&&!a[a.length-1].route.index&&(p=Ai({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(n,p.params),i.push({params:n,pathname:Ds([o,p.pathname]),pathnameBase:ax(Ds([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=Ds([o,p.pathnameBase]))}return i}function Ai(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Jp(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((m,h,p)=>{let{paramName:b,isOptional:v}=h;if(b==="*"){let x=l[p]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[p];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:i,pattern:t}}function Jp(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Qc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function ex(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Qc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Io(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function tx(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Lr(t):t;return{pathname:r?r.startsWith("/")?r:sx(r,s):s,search:nx(a),hash:ox(n)}}function sx(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Dn(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rx(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Jc(t,s){let r=rx(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function ed(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Lr(t):(n=ea({},t),at(!n.pathname||!n.pathname.includes("?"),Dn("?","pathname","search",n)),at(!n.pathname||!n.pathname.includes("#"),Dn("#","pathname","hash",n)),at(!n.search||!n.search.includes("#"),Dn("#","search","hash",n)));let o=t===""||n.pathname==="",i=o?"/":n.pathname,l;if(i==null)l=r;else{let p=s.length-1;if(!a&&i.startsWith("..")){let b=i.split("/");for(;b[0]==="..";)b.shift(),p-=1;n.pathname=b.join("/")}l=p>=0?s[p]:"/"}let c=tx(n,l),m=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(m||h)&&(c.pathname+="/"),c}const Ds=t=>t.join("/").replace(/\/\/+/g,"/"),ax=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ox=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const td=["post","put","patch","delete"];new Set(td);const lx=["get",...td];new Set(lx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ta.apply(this,arguments)}const Do=d.createContext(null),cx=d.createContext(null),ur=d.createContext(null),an=d.createContext(null),mr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),sd=d.createContext(null);function dx(t,s){let{relative:r}=s===void 0?{}:s;da()||at(!1);let{basename:a,navigator:n}=d.useContext(ur),{hash:o,pathname:i,search:l}=ad(t,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:Ds([a,i])),n.createHref({pathname:c,search:l,hash:o})}function da(){return d.useContext(an)!=null}function hr(){return da()||at(!1),d.useContext(an).location}function rd(t){d.useContext(ur).static||d.useLayoutEffect(t)}function Oo(){let{isDataRoute:t}=d.useContext(mr);return t?Nx():ux()}function ux(){da()||at(!1);let t=d.useContext(Do),{basename:s,future:r,navigator:a}=d.useContext(ur),{matches:n}=d.useContext(mr),{pathname:o}=hr(),i=JSON.stringify(Jc(n,r.v7_relativeSplatPath)),l=d.useRef(!1);return rd(()=>{l.current=!0}),d.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){a.go(m);return}let p=ed(m,JSON.parse(i),o,h.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Ds([s,p.pathname])),(h.replace?a.replace:a.push)(p,h.state,h)},[s,a,i,o,t])}function ad(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=d.useContext(ur),{matches:n}=d.useContext(mr),{pathname:o}=hr(),i=JSON.stringify(Jc(n,a.v7_relativeSplatPath));return d.useMemo(()=>ed(t,JSON.parse(i),o,r==="path"),[t,i,o,r])}function mx(t,s){return hx(t,s)}function hx(t,s,r,a){da()||at(!1);let{navigator:n}=d.useContext(ur),{matches:o}=d.useContext(mr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let m=hr(),h;if(s){var p;let u=typeof s=="string"?Lr(s):s;c==="/"||(p=u.pathname)!=null&&p.startsWith(c)||at(!1),h=u}else h=m;let b=h.pathname||"/",v=b;if(c!=="/"){let u=c.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(u.length).join("/")}let w=qp(t,{pathname:v}),x=vx(w&&w.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:Ds([c,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?c:Ds([c,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),o,r,a);return s&&x?d.createElement(an.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:As.Pop}},x):x}function fx(){let t=wx(),s=ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),r?d.createElement("pre",{style:n},r):null,null)}const px=d.createElement(fx,null);class xx extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?d.createElement(mr.Provider,{value:this.props.routeContext},d.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gx(t){let{routeContext:s,match:r,children:a}=t,n=d.useContext(Do);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(mr.Provider,{value:s},a)}function vx(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=a)!=null&&o.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(n=r)==null?void 0:n.errors;if(l!=null){let h=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||at(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,m=-1;if(r&&a&&a.v7_partialHydration)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=h),p.route.id){let{loaderData:b,errors:v}=r,w=p.route.loader&&b[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((h,p,b)=>{let v,w=!1,x=null,u=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||px,c&&(m<0&&b===0?(w=!0,u=null):m===b&&(w=!0,u=p.route.hydrateFallbackElement||null)));let j=s.concat(i.slice(0,b+1)),f=()=>{let y;return v?y=x:w?y=u:p.route.Component?y=d.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=h,d.createElement(gx,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:r!=null},children:y})};return r&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?d.createElement(xx,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:f(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):f()},null)}var nd=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nd||{}),Aa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Aa||{});function yx(t){let s=d.useContext(Do);return s||at(!1),s}function bx(t){let s=d.useContext(cx);return s||at(!1),s}function jx(t){let s=d.useContext(mr);return s||at(!1),s}function od(t){let s=jx(),r=s.matches[s.matches.length-1];return r.route.id||at(!1),r.route.id}function wx(){var t;let s=d.useContext(sd),r=bx(Aa.UseRouteError),a=od(Aa.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function Nx(){let{router:t}=yx(nd.UseNavigateStable),s=od(Aa.UseNavigateStable),r=d.useRef(!1);return rd(()=>{r.current=!0}),d.useCallback(function(n,o){o===void 0&&(o={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,ta({fromRouteId:s},o)))},[t,s])}function _x(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tt(t){at(!1)}function Cx(t){let{basename:s="/",children:r=null,location:a,navigationType:n=As.Pop,navigator:o,static:i=!1,future:l}=t;da()&&at(!1);let c=s.replace(/^\/*/,"/"),m=d.useMemo(()=>({basename:c,navigator:o,static:i,future:ta({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof a=="string"&&(a=Lr(a));let{pathname:h="/",search:p="",hash:b="",state:v=null,key:w="default"}=a,x=d.useMemo(()=>{let u=Io(h,c);return u==null?null:{location:{pathname:u,search:p,hash:b,state:v,key:w},navigationType:n}},[c,h,p,b,v,w,n]);return x==null?null:d.createElement(ur.Provider,{value:m},d.createElement(an.Provider,{children:r,value:x}))}function Sx(t){let{children:s,location:r}=t;return mx(Qn(s),r)}new Promise(()=>{});function Qn(t,s){s===void 0&&(s=[]);let r=[];return d.Children.forEach(t,(a,n)=>{if(!d.isValidElement(a))return;let o=[...s,n];if(a.type===d.Fragment){r.push.apply(r,Qn(a.props.children,o));return}a.type!==Tt&&at(!1),!a.props.index||!a.props.children||at(!1);let i={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Qn(a.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Yn.apply(this,arguments)}function kx(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,o;for(o=0;o<a.length;o++)n=a[o],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function Ex(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tx(t,s){return t.button===0&&(!s||s==="_self")&&!Ex(t)}const Rx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Px="6";try{window.__reactRouterVersion=Px}catch{}const Ax="startTransition",Mi=qm[Ax];function Mx(t){let{basename:s,children:r,future:a,window:n}=t,o=d.useRef();o.current==null&&(o.current=Lp({window:n,v5Compat:!0}));let i=o.current,[l,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:m}=a||{},h=d.useCallback(p=>{m&&Mi?Mi(()=>c(p)):c(p)},[c,m]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.useEffect(()=>_x(a),[a]),d.createElement(Cx,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:i,future:a})}const Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=d.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:m,preventScrollReset:h,viewTransition:p}=s,b=kx(s,Rx),{basename:v}=d.useContext(ur),w,x=!1;if(typeof m=="string"&&Dx.test(m)&&(w=m,Ix))try{let y=new URL(window.location.href),g=m.startsWith("//")?new URL(y.protocol+m):new URL(m),N=Io(g.pathname,v);g.origin===y.origin&&N!=null?m=N+g.search+g.hash:x=!0}catch{}let u=dx(m,{relative:n}),j=Ox(m,{replace:i,state:l,target:c,preventScrollReset:h,relative:n,viewTransition:p});function f(y){a&&a(y),y.defaultPrevented||j(y)}return d.createElement("a",Yn({},b,{href:w||u,onClick:x||o?a:f,ref:r,target:c}))});var Ii;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ii||(Ii={}));var Di;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Di||(Di={}));function Ox(t,s){let{target:r,replace:a,state:n,preventScrollReset:o,relative:i,viewTransition:l}=s===void 0?{}:s,c=Oo(),m=hr(),h=ad(t,{relative:i});return d.useCallback(p=>{if(Tx(p,r)){p.preventDefault();let b=a!==void 0?a:Pa(m)===Pa(h);c(t,{replace:b,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[m,c,h,a,n,r,t,o,i,l])}const $x="https://jonwzrzciznkemfiviyk.supabase.co",Lx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impvbnd6cnpjaXpua2VtZml2aXlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMjEyNjAsImV4cCI6MjA3NTc5NzI2MH0.1KS0MlUOCTzys16t7FNZ3YYm2RDtTb--s47fLLLKsfo",ie=Wm($x,Lx,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"x-application-name":"armazem-vivo"}}}),$o=la("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=d.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,...n},o)=>{const i=a?Pl:"button";return e.jsx(i,{className:q($o({variant:s,size:r,className:t})),ref:o,...n})});le.displayName="Button";const On=768;function Mt(){const[t,s]=d.useState(void 0);return d.useEffect(()=>{const r=window.matchMedia(`(max-width: ${On-1}px)`),a=()=>{s(window.innerWidth<On)};return r.addEventListener("change",a),s(window.innerWidth<On),()=>r.removeEventListener("change",a)},[]),!!t}const _s=({children:t})=>{var f;const[s,r]=d.useState(null),[a,n]=d.useState(null),[o,i]=d.useState(!0),[l,c]=d.useState(!1),m=Oo(),h=hr(),[p,b]=d.useState(!1),v=Mt();d.useEffect(()=>{v?i(!1):(i(!0),c(!1))},[v]),d.useEffect(()=>{c(!1)},[h.pathname]),d.useEffect(()=>{const{data:{subscription:y}}=ie.auth.onAuthStateChange((g,N)=>{r(N),n((N==null?void 0:N.user)??null)});return ie.auth.getSession().then(({data:{session:g}})=>{r(g),n((g==null?void 0:g.user)??null),b(!0)}),()=>y.unsubscribe()},[]),d.useEffect(()=>{if(p&&!s&&h.pathname!=="/auth"){try{const y=`${h.pathname}${h.search}${h.hash}`;sessionStorage.setItem("auth:redirectTo",y)}catch{}m("/auth",{state:{from:h},replace:!0})}},[p,s,h,m]);const w=async()=>{await ie.auth.signOut(),Ne.success("Logout realizado com sucesso!"),m("/auth")},x=()=>{v?c(!l):i(!o)},u=[{icon:Eh,label:"Dashboard",path:"/"},{icon:gr,label:"Estoque",path:"/estoque"},{icon:Ge,label:"Produtos",path:"/produtos"},{icon:rs,label:"Locais",path:"/localizacoes"},{icon:Th,label:"Lotes",path:"/lotes"},{icon:Ah,label:"Recebimentos",path:"/recebimentos"},{icon:wh,label:"Movimentaes",path:"/movimentacoes"},{icon:Ta,label:"Relatrios",path:"/relatorios"}];if(!s)return null;const j=()=>{var y;return e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sidebar-header-dark border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg sidebar-logo-gradient",children:e.jsx(gr,{className:"h-5 w-5 text-primary-foreground"})}),e.jsx("span",{className:"font-semibold text-lg",children:"WMS"})]}),v&&e.jsx(le,{variant:"ghost",size:"icon",className:"sidebar-nav-item",onClick:()=>c(!1),children:e.jsx(To,{className:"h-5 w-5 sidebar-icon"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 p-3 overflow-y-auto",children:u.map(g=>{const N=g.icon,D=h.pathname===g.path;return e.jsx(Xn,{to:g.path,children:e.jsxs(le,{variant:"ghost",className:q("w-full justify-start gap-3 sidebar-nav-item",D&&"active font-medium"),children:[e.jsx(N,{className:q("h-5 w-5 flex-shrink-0 sidebar-icon")}),e.jsx("span",{children:g.label})]})},g.path)})}),e.jsxs("div",{className:"sidebar-user-section border-t p-4",children:[e.jsx("div",{className:"mb-3"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full sidebar-avatar font-semibold flex-shrink-0",children:(y=a==null?void 0:a.email)==null?void 0:y[0].toUpperCase()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium truncate",children:a==null?void 0:a.email})})]}),e.jsxs(le,{variant:"ghost",className:"mt-3 w-full justify-start sidebar-nav-item",onClick:w,children:[e.jsx(fi,{className:"h-5 w-5 flex-shrink-0 sidebar-icon"}),e.jsx("span",{className:"ml-2",children:"Sair"})]})]})]})};return e.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[v&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-background border-b flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg sidebar-logo-gradient",children:e.jsx(gr,{className:"h-5 w-5 text-primary-foreground"})}),e.jsx("span",{className:"font-semibold text-lg",children:"WMS"})]}),e.jsx(le,{variant:"ghost",size:"icon",onClick:x,children:e.jsx(pi,{className:"h-5 w-5"})})]}),v&&l&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>c(!1)}),!v&&e.jsx("aside",{className:q("fixed left-0 top-0 z-40 h-screen sidebar-dark border-r transition-all duration-300",o?"w-64":"w-20"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sidebar-header-dark border-b",children:[o&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg sidebar-logo-gradient",children:e.jsx(gr,{className:"h-5 w-5 text-primary-foreground"})}),e.jsx("span",{className:"font-semibold text-lg",children:"WMS"})]}),e.jsx(le,{variant:"ghost",size:"icon",className:"sidebar-nav-item",onClick:x,children:e.jsx(pi,{className:"h-5 w-5 sidebar-icon"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 p-3",children:u.map(y=>{const g=y.icon,N=h.pathname===y.path;return e.jsx(Xn,{to:y.path,children:e.jsxs(le,{variant:"ghost",className:q("w-full justify-start gap-3 sidebar-nav-item",N&&"active font-medium"),children:[e.jsx(g,{className:q("h-5 w-5 flex-shrink-0 sidebar-icon")}),o&&e.jsx("span",{children:y.label})]})},y.path)})}),e.jsxs("div",{className:"sidebar-user-section border-t p-4",children:[o&&e.jsx("div",{className:"mb-3"}),e.jsxs("div",{className:q("flex items-center gap-3",!o&&"justify-center"),children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full sidebar-avatar font-semibold flex-shrink-0",children:(f=a==null?void 0:a.email)==null?void 0:f[0].toUpperCase()}),o&&e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium truncate",children:a==null?void 0:a.email})})]}),e.jsxs(le,{variant:"ghost",size:o?"default":"icon",className:q("mt-3 w-full sidebar-nav-item",o&&"justify-start"),onClick:w,children:[e.jsx(fi,{className:"h-5 w-5 flex-shrink-0 sidebar-icon"}),o&&e.jsx("span",{className:"ml-2",children:"Sair"})]})]})]})}),v&&e.jsx("aside",{className:q("fixed left-0 top-0 z-50 h-screen w-80 sidebar-dark border-r transition-transform duration-300",l?"translate-x-0":"-translate-x-full"),children:e.jsx(j,{})}),e.jsx("main",{className:q("flex-1 transition-all duration-300",v?"pt-16":o?"ml-64":"ml-20"),children:e.jsx("div",{className:q("p-6",v&&"px-4 py-4"),children:t})})]})};class Vx{constructor(s){js(this,"angle");js(this,"radius");js(this,"speed");js(this,"size");js(this,"opacity");js(this,"x",0);js(this,"y",0);this.angle=Math.random()*Math.PI*2,this.radius=Math.random()*s,this.speed=(Math.random()-.5)*.02,this.size=Math.random()*1.5+.5,this.opacity=Math.random()*.5+.2}update(){this.angle+=this.speed,this.x=Math.cos(this.angle)*this.radius,this.y=Math.sin(this.angle)*this.radius*.5}}const Fx=({backgroundImage:t="./tech-warehouse.png",className:s=""})=>{const r=d.useRef(null),a=d.useRef(null),n=d.useRef(),o=Mt(),i="#00eaff",l="rgba(0, 234, 255, 0.7)",c=d.useRef({width:0,height:0,centerX:0,centerY:0,radius:0,angle:0,barValues:[20,15,83],circlePercentages:[55,75],particles:[]}),m=()=>{const u=r.current,j=a.current;if(!u||!j)return;const f=u.getContext("2d");if(!f)return;const y=o?Math.min(window.devicePixelRatio||1,2):window.devicePixelRatio||1,g=j.clientWidth,N=j.clientHeight;u.width=g*y,u.height=N*y,u.style.width=`${g}px`,u.style.height=`${N}px`,f.scale(y,y);const D=g/2,L=N/2,$=Math.min(g,N)*.22;c.current={...c.current,width:g,height:N,centerX:D,centerY:L,radius:$},h()},h=()=>{const{radius:u}=c.current;c.current.particles=[];const j=Math.floor(u*(o?1:2));for(let f=0;f<j;f++)c.current.particles.push(new Vx(u))},p=u=>{const{centerX:j,centerY:f,radius:y,particles:g}=c.current;u.strokeStyle=i,u.lineWidth=1,o||(u.shadowColor=l,u.shadowBlur=25),u.beginPath(),u.arc(j,f,y,0,Math.PI*2),u.stroke(),g.forEach(N=>{u.beginPath(),u.arc(j+N.x,f+N.y,N.size,0,Math.PI*2),u.fillStyle=`rgba(0, 234, 255, ${N.opacity})`,u.fill(),N.update()}),o||(u.shadowBlur=0)},b=u=>{const{centerX:j,centerY:f,radius:y,angle:g}=c.current;u.strokeStyle=i,u.lineWidth=2,o||(u.shadowColor=l,u.shadowBlur=15),u.beginPath(),u.arc(j,f,y*1.25,g,g+Math.PI*1.6),u.stroke(),u.beginPath(),u.arc(j,f,y*1.4,-g*.8,-g*.8+Math.PI*1.2),u.stroke(),o||(u.shadowBlur=0)},v=(u,j,f,y,g)=>{const{angle:N}=c.current,D=g*(.98+Math.sin(N*3+j)*.02),L=Math.PI*2/100*D-Math.PI/2;u.strokeStyle="rgba(0, 234, 255, 0.3)",u.lineWidth=4,u.beginPath(),u.arc(j,f,y,0,Math.PI*2),u.stroke(),u.strokeStyle=i,u.lineWidth=4,u.beginPath(),u.arc(j,f,y,-Math.PI/2,L),u.stroke(),u.fillStyle=i,u.font=`${y*.5}px 'Orbitron', monospace`,u.textAlign="center",u.textBaseline="middle",u.fillText(`${Math.round(D)}%`,j,f)},w=u=>{const{centerX:j,centerY:f,radius:y,angle:g,barValues:N,circlePercentages:D,width:L,height:$}=c.current;o||(u.shadowColor=l,u.shadowBlur=10);const M=Math.min(L,$)/600,Q=y;if(L>(o?400:500)){const V=j-y*2.5,E=f,W=Math.max(12,18*M),K=Math.max(6,8*M);N.forEach((S,R)=>{const k=S*(.95+Math.sin(g*2+R)*.05),U=k/100*Q*1.5,te=V+R*(W+K),re=E+Q*.75-U;u.fillStyle=i,u.fillRect(te,re,W,U),u.fillStyle=i;const ce=Math.max(8,10*M);u.font=`${ce}px "Orbitron", monospace`,u.textAlign="center",u.fillText(`${Math.round(k)}`,te+W/2,re-5)})}if(L>(o?400:500)){const V=j+y*2,E=f+y*.7,W=j+y*2.5,K=f-y*.3,S=Math.max(20,30*M),R=Math.max(28,40*M);v(u,V,E,S,D[0]),v(u,W,K,R,D[1])}u.fillStyle=i;const P=Math.max(10,Math.min(14,14*M));u.font=`${P}px "Orbitron", monospace`,u.textAlign="center";const C=L>(o?350:500)?`ZA132616624631524111 | SYS_STATUS: OK | ${Math.floor(Date.now()/1e3)}`:`SYS_STATUS: OK | ${Math.floor(Date.now()/1e3)}`;u.fillText(C,j,f+y*1.5),o||(u.shadowBlur=0)},x=()=>{const u=r.current;if(!u)return;const j=u.getContext("2d");if(!j)return;const{width:f,height:y}=c.current;j.clearRect(0,0,f,y),c.current.angle+=o?.005:.01,p(j),b(j),w(j),n.current=requestAnimationFrame(x)};return d.useEffect(()=>{m(),x();const u=()=>{m()};return window.addEventListener("resize",u),()=>{n.current&&cancelAnimationFrame(n.current),window.removeEventListener("resize",u)}},[o]),e.jsxs("div",{ref:a,className:`relative overflow-hidden ${s}`,style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/60"}),e.jsx("canvas",{ref:r,className:"absolute inset-0 z-10",style:{mixBlendMode:"screen",opacity:o?.8:1}})]})},qx="/armazem-vivo/assets/tech-warehouse-DLWHi1ab.png",ne=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));ne.displayName="Card";const ve=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:q("flex flex-col space-y-1.5 p-6",t),...s}));ve.displayName="CardHeader";const ye=d.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:q("text-2xl font-semibold leading-none tracking-tight",t),...s}));ye.displayName="CardTitle";const bt=d.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:q("text-sm text-muted-foreground",t),...s}));bt.displayName="CardDescription";const oe=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:q("p-6 pt-0",t),...s}));oe.displayName="CardContent";const zx=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:q("flex items-center p-6 pt-0",t),...s}));zx.displayName="CardFooter";const Bx=la("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:s,...r}){return e.jsx("div",{className:q(Bx({variant:s}),t),...r})}const Bt=A.memo(({title:t,value:s,previousValue:r,icon:a,description:n,format:o="number",className:i})=>{const l=d.useMemo(()=>p=>{if(typeof p=="string")return p;switch(o){case"currency":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p);case"percentage":return`${p.toFixed(1)}%`;default:return new Intl.NumberFormat("pt-BR").format(p)}},[o]),c=d.useMemo(()=>{if(!r||typeof s=="string")return null;const b=((typeof s=="number"?s:parseFloat(s.toString()))-r)/r*100;return{percentage:Math.abs(b),isPositive:b>0,isNeutral:Math.abs(b)<.1}},[s,r]),m=()=>c?c.isNeutral?e.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}):c.isPositive?e.jsx(Yr,{className:"h-4 w-4 text-green-600"}):e.jsx(wc,{className:"h-4 w-4 text-red-600"}):null,h=()=>!c||c.isNeutral?"text-muted-foreground":c.isPositive?"text-green-600":"text-red-600";return e.jsx(ne,{className:q("transition-all duration-200 hover:shadow-md",i),children:e.jsxs(oe,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium text-muted-foreground truncate",children:t}),a&&e.jsx("div",{className:"text-muted-foreground flex-shrink-0",children:a})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold break-words",children:l(s)}),c&&e.jsxs("div",{className:q("flex items-center text-xs flex-wrap gap-1",h()),children:[m(),e.jsxs("span",{className:"break-words",children:[c.percentage.toFixed(1),"% em relao ao perodo anterior"]})]}),n&&e.jsx("p",{className:"text-xs text-muted-foreground break-words",children:n})]})]})})});Bt.displayName="KPICard";const id=A.memo(({title:t,description:s,data:r,dataKey:a="value",nameKey:n="name",height:o=300,className:i})=>{const l=h=>new Intl.NumberFormat("pt-BR").format(h),c=({active:h,payload:p,label:b})=>h&&p&&p.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3",children:[e.jsx("p",{className:"font-medium",children:b}),p.map((v,w)=>{const x=v.dataKey==="pareto",u=v.name||(x?"Percentual acumulado (%)":"Quantidade"),j=v.color||v.stroke||"hsl(var(--primary))";return e.jsxs("p",{className:"flex items-center gap-2",style:{color:j},children:[e.jsxs("span",{className:"font-medium",children:[u,":"]}),e.jsx("span",{children:x?`${(v.value??0).toFixed(1)}%`:l(Number(v.value??0))})]},w)})]}):null,m=d.useMemo(()=>{const h=a,p=[...r].sort((w,x)=>Number(x[h]??0)-Number(w[h]??0)),b=p.reduce((w,x)=>w+Number(x[h]??0),0);let v=0;return p.map(w=>{const x=Number(w[h]??0);v+=x;const u=b>0?v/b*100:0;return{...w,pareto:Number(u.toFixed(2))}})},[r,a]);return e.jsxs(ne,{className:q("transition-all duration-200 hover:shadow-md",i),children:[e.jsxs(ve,{className:"pb-2",children:[e.jsx(ye,{className:"text-base sm:text-lg font-semibold truncate",children:t}),s&&e.jsx(bt,{className:"text-xs sm:text-sm",children:s})]}),e.jsx(oe,{className:"p-2 sm:p-6",children:e.jsx(oa,{width:"100%",height:o,children:e.jsxs(zm,{data:m,margin:{top:10,right:40,left:10,bottom:40},children:[e.jsx(jo,{strokeDasharray:"3 3",className:"opacity-30",stroke:"hsl(var(--border))"}),e.jsx(Ea,{dataKey:n,className:"text-xs fill-muted-foreground",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(Qr,{yAxisId:"left",className:"text-xs fill-muted-foreground",tick:{fontSize:12},label:{value:"Quantidade",angle:-90,position:"insideLeft"}}),e.jsx(Qr,{yAxisId:"right",orientation:"right",domain:[0,100],tickFormatter:h=>`${h}%`,className:"text-xs fill-muted-foreground",tick:{fontSize:12},label:{value:"Percentual acumulado (%)",angle:-90,position:"insideRight"}}),e.jsx(Ya,{content:e.jsx(c,{})}),e.jsx(Kl,{verticalAlign:"top",wrapperStyle:{fontSize:12}}),e.jsx(Ql,{dataKey:a,yAxisId:"left",name:"Quantidade",fill:"hsl(var(--primary))",radius:[4,4,0,0],className:"hover:opacity-80 transition-opacity"}),e.jsx(wo,{type:"monotone",dataKey:"pareto",yAxisId:"right",name:"Percentual acumulado (%)",stroke:"#f59e0b",strokeWidth:2,dot:!1})]})})})]})});id.displayName="ParetoChart";const ld=A.memo(({title:t,description:s,data:r,dataKey:a="value",nameKey:n="name",showGrid:o=!0,showDots:i=!1,height:l=300,color:c="hsl(var(--primary))",className:m,formatValue:h})=>{const b=h||(w=>new Intl.NumberFormat("pt-BR").format(w)),v=({active:w,payload:x,label:u})=>w&&x&&x.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3",children:[e.jsx("p",{className:"font-medium",children:u}),e.jsxs("p",{className:"text-primary",children:[e.jsx("span",{className:"font-medium",children:"Valor: "}),b(x[0].value)]})]}):null;return e.jsxs(ne,{className:q("transition-all duration-200 hover:shadow-md",m),children:[e.jsxs(ve,{className:"pb-2",children:[e.jsx(ye,{className:"text-base sm:text-lg font-semibold truncate",children:t}),s&&e.jsx(bt,{className:"text-xs sm:text-sm",children:s})]}),e.jsx(oe,{className:"p-2 sm:p-6",children:e.jsx(oa,{width:"100%",height:l,children:e.jsxs(Yl,{data:r,margin:{top:10,right:10,left:10,bottom:40},children:[o&&e.jsx(jo,{strokeDasharray:"3 3",className:"opacity-30",stroke:"hsl(var(--border))"}),e.jsx(Ea,{dataKey:n,className:"text-xs fill-muted-foreground",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(Qr,{className:"text-xs fill-muted-foreground",tick:{fontSize:12}}),e.jsx(Ya,{content:e.jsx(v,{})}),e.jsx(wo,{type:"monotone",dataKey:a,stroke:c,strokeWidth:2,dot:i?{fill:c,strokeWidth:2,r:4,className:"drop-shadow-sm"}:!1,activeDot:{r:6,stroke:c,strokeWidth:2,fill:"hsl(var(--background))",className:"drop-shadow-md"},className:"hover:opacity-80 transition-opacity"})]})})})]})});ld.displayName="LineChart";const Oi=["hsl(var(--primary))","hsl(var(--secondary))","#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00","#ff00ff"],Ma=A.memo(({data:t,title:s,description:r,dataKey:a,nameKey:n="name",height:o=300,innerRadius:i=0,outerRadius:l=80,showLegend:c=!0,className:m})=>{const h=x=>new Intl.NumberFormat("pt-BR").format(x),p=(x,u)=>`${(x/u*100).toFixed(1)}%`,b=t.reduce((x,u)=>x+u.value,0),v=({active:x,payload:u})=>{if(x&&u&&u.length){const j=u[0].payload;return e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3",children:[e.jsx("p",{className:"font-medium",children:j.name}),e.jsxs("p",{className:"text-primary",children:[e.jsx("span",{className:"font-medium",children:"Valor: "}),h(j.value)]}),e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Percentual: "}),p(j.value,b)]})]})}return null},w=({payload:x})=>e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:x==null?void 0:x.map((u,j)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:u.value})]},j))});return e.jsxs(ne,{className:q("transition-all duration-200 hover:shadow-md",m),children:[e.jsxs(ve,{className:"pb-2",children:[e.jsx(ye,{className:"text-base sm:text-lg font-semibold truncate",children:s}),r&&e.jsx(bt,{className:"text-xs sm:text-sm",children:r})]}),e.jsx(oe,{className:"p-2 sm:p-6",children:e.jsx(oa,{width:"100%",height:o,children:e.jsxs(Bm,{children:[e.jsx(Um,{data:t,cx:"50%",cy:"50%",innerRadius:i,outerRadius:Math.min(l,o*.35),paddingAngle:2,dataKey:a,children:t.map((x,u)=>e.jsx(Hm,{fill:x.color||Oi[u%Oi.length],className:"hover:opacity-80 transition-opacity cursor-pointer drop-shadow-sm"},`cell-${u}`))}),e.jsx(Ya,{content:e.jsx(v,{})}),c&&e.jsx(Kl,{content:e.jsx(w,{})})]})})})]})});Ma.displayName="PieChart";const Ca=A.memo(({data:t,color:s="hsl(var(--primary))",height:r=40,showTrend:a=!0,currentValue:n,previousValue:o,label:i,format:l="number",className:c})=>{var v;const m=d.useMemo(()=>w=>{switch(l){case"currency":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact",maximumFractionDigits:1}).format(w);case"percentage":return`${w.toFixed(1)}%`;default:return new Intl.NumberFormat("pt-BR",{notation:"compact",maximumFractionDigits:1}).format(w)}},[l]),h=d.useMemo(()=>{if(!a)return null;if(!n||!o){if(t.length<2)return null;const x=t[0].value,j=(t[t.length-1].value-x)/x*100;return{percentage:Math.abs(j),isPositive:j>0,isNeutral:Math.abs(j)<.1}}const w=(n-o)/o*100;return{percentage:Math.abs(w),isPositive:w>0,isNeutral:Math.abs(w)<.1}},[a,n,o,t]),p=()=>h?h.isNeutral?e.jsx(Eo,{className:"h-3 w-3 text-muted-foreground"}):h.isPositive?e.jsx(Yr,{className:"h-3 w-3 text-green-600"}):e.jsx(wc,{className:"h-3 w-3 text-red-600"}):null,b=()=>!h||h.isNeutral?"text-muted-foreground":h.isPositive?"text-green-600":"text-red-600";return e.jsx("div",{className:q("flex items-center justify-between p-2 sm:p-3 border border-border rounded-lg transition-all duration-200 hover:shadow-sm",c),children:e.jsxs("div",{className:"flex-1",children:[i&&e.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:i}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 sm:w-16 h-6 sm:h-8 flex-shrink-0",children:e.jsx(oa,{width:"100%",height:"100%",children:e.jsx(Yl,{data:t,margin:{top:1,right:1,left:1,bottom:1},children:e.jsx(wo,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:1.5,dot:!1,activeDot:!1,className:"drop-shadow-sm"})})})}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:m(n!==void 0?n:((v=t[t.length-1])==null?void 0:v.value)||0)}),h&&e.jsxs("div",{className:q("flex items-center gap-1 text-xs",b()),children:[p(),e.jsxs("span",{className:"text-xs",children:[h.percentage.toFixed(1),"%"]})]})]})]})]})})});Ca.displayName="Sparkline";var nn="Tabs",[Ux,Gy]=Gs(nn,[Za]),cd=Za(),[Hx,Lo]=Ux(nn),dd=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...m}=t,h=po(l),[p,b]=us({prop:a,onChange:n,defaultProp:o??"",caller:nn});return e.jsx(Hx,{scope:r,baseId:Ka(),value:p,onValueChange:b,orientation:i,dir:h,activationMode:c,children:e.jsx(ke.div,{dir:h,"data-orientation":i,...m,ref:s})})});dd.displayName=nn;var ud="TabsList",md=d.forwardRef((t,s)=>{const{__scopeTabs:r,loop:a=!0,...n}=t,o=Lo(ud,r),i=cd(r);return e.jsx(Al,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:a,children:e.jsx(ke.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});md.displayName=ud;var hd="TabsTrigger",fd=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,disabled:n=!1,...o}=t,i=Lo(hd,r),l=cd(r),c=gd(i.baseId,a),m=vd(i.baseId,a),h=a===i.value;return e.jsx(Ml,{asChild:!0,...l,focusable:!n,active:h,children:e.jsx(ke.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...o,ref:s,onMouseDown:je(t.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?i.onValueChange(a):p.preventDefault()}),onKeyDown:je(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(a)}),onFocus:je(t.onFocus,()=>{const p=i.activationMode!=="manual";!h&&!n&&p&&i.onValueChange(a)})})})});fd.displayName=hd;var pd="TabsContent",xd=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,forceMount:n,children:o,...i}=t,l=Lo(pd,r),c=gd(l.baseId,a),m=vd(l.baseId,a),h=a===l.value,p=d.useRef(h);return d.useEffect(()=>{const b=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ga,{present:n||h,children:({present:b})=>e.jsx(ke.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!b,id:m,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:b&&o})})});xd.displayName=pd;function gd(t,s){return`${t}-trigger-${s}`}function vd(t,s){return`${t}-content-${s}`}var Gx=dd,yd=md,bd=fd,jd=xd;const Wx=Gx,wd=d.forwardRef(({className:t,...s},r)=>e.jsx(yd,{ref:r,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));wd.displayName=yd.displayName;const Jn=d.forwardRef(({className:t,...s},r)=>e.jsx(bd,{ref:r,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...s}));Jn.displayName=bd.displayName;const eo=d.forwardRef(({className:t,...s},r)=>e.jsx(jd,{ref:r,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));eo.displayName=jd.displayName;var Nd="Toggle",Vo=d.forwardRef((t,s)=>{const{pressed:r,defaultPressed:a,onPressedChange:n,...o}=t,[i,l]=us({prop:r,onChange:n,defaultProp:a??!1,caller:Nd});return e.jsx(ke.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:s,onClick:je(t.onClick,()=>{t.disabled||l(!i)})})});Vo.displayName=Nd;var _d=Vo,Ws="ToggleGroup",[Cd,Wy]=Gs(Ws,[Za]),Sd=Za(),Fo=A.forwardRef((t,s)=>{const{type:r,...a}=t;if(r==="single"){const n=a;return e.jsx(Zx,{...n,ref:s})}if(r==="multiple"){const n=a;return e.jsx(Kx,{...n,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${Ws}\``)});Fo.displayName=Ws;var[kd,Ed]=Cd(Ws),Zx=A.forwardRef((t,s)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=t,[i,l]=us({prop:r,defaultProp:a??"",onChange:n,caller:Ws});return e.jsx(kd,{scope:t.__scopeToggleGroup,type:"single",value:A.useMemo(()=>i?[i]:[],[i]),onItemActivate:l,onItemDeactivate:A.useCallback(()=>l(""),[l]),children:e.jsx(Td,{...o,ref:s})})}),Kx=A.forwardRef((t,s)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=t,[i,l]=us({prop:r,defaultProp:a??[],onChange:n,caller:Ws}),c=A.useCallback(h=>l((p=[])=>[...p,h]),[l]),m=A.useCallback(h=>l((p=[])=>p.filter(b=>b!==h)),[l]);return e.jsx(kd,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:m,children:e.jsx(Td,{...o,ref:s})})});Fo.displayName=Ws;var[Qx,Yx]=Cd(Ws),Td=A.forwardRef((t,s)=>{const{__scopeToggleGroup:r,disabled:a=!1,rovingFocus:n=!0,orientation:o,dir:i,loop:l=!0,...c}=t,m=Sd(r),h=po(i),p={role:"group",dir:h,...c};return e.jsx(Qx,{scope:r,rovingFocus:n,disabled:a,children:n?e.jsx(Al,{asChild:!0,...m,orientation:o,dir:h,loop:l,children:e.jsx(ke.div,{...p,ref:s})}):e.jsx(ke.div,{...p,ref:s})})}),Ia="ToggleGroupItem",Rd=A.forwardRef((t,s)=>{const r=Ed(Ia,t.__scopeToggleGroup),a=Yx(Ia,t.__scopeToggleGroup),n=Sd(t.__scopeToggleGroup),o=r.value.includes(t.value),i=a.disabled||t.disabled,l={...t,pressed:o,disabled:i},c=A.useRef(null);return a.rovingFocus?e.jsx(Ml,{asChild:!0,...n,focusable:!i,active:o,ref:c,children:e.jsx($i,{...l,ref:s})}):e.jsx($i,{...l,ref:s})});Rd.displayName=Ia;var $i=A.forwardRef((t,s)=>{const{__scopeToggleGroup:r,value:a,...n}=t,o=Ed(Ia,r),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?i:void 0;return e.jsx(Vo,{...l,...n,ref:s,onPressedChange:c=>{c?o.onItemActivate(a):o.onItemDeactivate(a)}})}),Pd=Fo,Ad=Rd;const Md=la("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Xx=d.forwardRef(({className:t,variant:s,size:r,...a},n)=>e.jsx(_d,{ref:n,className:q(Md({variant:s,size:r,className:t})),...a}));Xx.displayName=_d.displayName;const Id=d.createContext({size:"default",variant:"default"}),fr=d.forwardRef(({className:t,variant:s,size:r,children:a,...n},o)=>e.jsx(Pd,{ref:o,className:q("flex items-center justify-center gap-1",t),...n,children:e.jsx(Id.Provider,{value:{variant:s,size:r},children:a})}));fr.displayName=Pd.displayName;const wt=d.forwardRef(({className:t,children:s,variant:r,size:a,...n},o)=>{const i=d.useContext(Id);return e.jsx(Ad,{ref:o,className:q(Md({variant:i.variant||r,size:i.size||a}),t),...n,children:s})});wt.displayName=Ad.displayName;function Li(t,[s,r]){return Math.min(r,Math.max(s,t))}function qo(t){const s=d.useRef({value:t,previous:t});return d.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Jx=[" ","Enter","ArrowUp","ArrowDown"],eg=[" ","Enter"],ir="Select",[on,ln,tg]=_l(ir),[Vr,Zy]=Gs(ir,[tg,Wa]),cn=Wa(),[sg,Zs]=Vr(ir),[rg,ag]=Vr(ir),Dd=t=>{const{__scopeSelect:s,children:r,open:a,defaultOpen:n,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:m,name:h,autoComplete:p,disabled:b,required:v,form:w}=t,x=cn(s),[u,j]=d.useState(null),[f,y]=d.useState(null),[g,N]=d.useState(!1),D=po(m),[L,$]=us({prop:a,defaultProp:n??!1,onChange:o,caller:ir}),[M,Q]=us({prop:i,defaultProp:l,onChange:c,caller:ir}),P=d.useRef(null),C=u?w||!!u.closest("form"):!0,[V,E]=d.useState(new Set),W=Array.from(V).map(K=>K.props.value).join(";");return e.jsx(Dm,{...x,children:e.jsxs(sg,{required:v,scope:s,trigger:u,onTriggerChange:j,valueNode:f,onValueNodeChange:y,valueNodeHasChildren:g,onValueNodeHasChildrenChange:N,contentId:Ka(),value:M,onValueChange:Q,open:L,onOpenChange:$,dir:D,triggerPointerDownPosRef:P,disabled:b,children:[e.jsx(on.Provider,{scope:s,children:e.jsx(rg,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(K=>{E(S=>new Set(S).add(K))},[]),onNativeOptionRemove:d.useCallback(K=>{E(S=>{const R=new Set(S);return R.delete(K),R})},[]),children:r})}),C?e.jsxs(nu,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:p,value:M,onChange:K=>Q(K.target.value),disabled:b,form:w,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from(V)]},W):null]})})};Dd.displayName=ir;var Od="SelectTrigger",$d=d.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:a=!1,...n}=t,o=cn(r),i=Zs(Od,r),l=i.disabled||a,c=nt(s,i.onTriggerChange),m=ln(r),h=d.useRef("touch"),[p,b,v]=iu(x=>{const u=m().filter(y=>!y.disabled),j=u.find(y=>y.value===i.value),f=lu(u,x,j);f!==void 0&&i.onValueChange(f.value)}),w=x=>{l||(i.onOpenChange(!0),v()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(Sl,{asChild:!0,...o,children:e.jsx(ke.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ou(i.value)?"":void 0,...n,ref:c,onClick:je(n.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:je(n.onPointerDown,x=>{h.current=x.pointerType;const u=x.target;u.hasPointerCapture(x.pointerId)&&u.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:je(n.onKeyDown,x=>{const u=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&b(x.key),!(u&&x.key===" ")&&Jx.includes(x.key)&&(w(),x.preventDefault())})})})});$d.displayName=Od;var Ld="SelectValue",Vd=d.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:n,children:o,placeholder:i="",...l}=t,c=Zs(Ld,r),{onValueNodeHasChildrenChange:m}=c,h=o!==void 0,p=nt(s,c.onValueNodeChange);return ms(()=>{m(h)},[m,h]),e.jsx(ke.span,{...l,ref:p,style:{pointerEvents:"none"},children:ou(c.value)?e.jsx(e.Fragment,{children:i}):o})});Vd.displayName=Ld;var ng="SelectIcon",Fd=d.forwardRef((t,s)=>{const{__scopeSelect:r,children:a,...n}=t;return e.jsx(ke.span,{"aria-hidden":!0,...n,ref:s,children:a||""})});Fd.displayName=ng;var og="SelectPortal",qd=t=>e.jsx(Cl,{asChild:!0,...t});qd.displayName=og;var lr="SelectContent",zd=d.forwardRef((t,s)=>{const r=Zs(lr,t.__scopeSelect),[a,n]=d.useState();if(ms(()=>{n(new DocumentFragment)},[]),!r.open){const o=a;return o?Qa.createPortal(e.jsx(Bd,{scope:t.__scopeSelect,children:e.jsx(on.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(Ud,{...t,ref:s})});zd.displayName=lr;var Vt=10,[Bd,Ks]=Vr(lr),ig="SelectContentImpl",lg=Im("SelectContent.RemoveScroll"),Ud=d.forwardRef((t,s)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:m,alignOffset:h,arrowPadding:p,collisionBoundary:b,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:u,...j}=t,f=Zs(lr,r),[y,g]=d.useState(null),[N,D]=d.useState(null),L=nt(s,H=>g(H)),[$,M]=d.useState(null),[Q,P]=d.useState(null),C=ln(r),[V,E]=d.useState(!1),W=d.useRef(!1);d.useEffect(()=>{if(y)return Rm(y)},[y]),Pm();const K=d.useCallback(H=>{const[Ce,...Qe]=C().map(Ie=>Ie.ref.current),[Me]=Qe.slice(-1),Ee=document.activeElement;for(const Ie of H)if(Ie===Ee||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Ce&&N&&(N.scrollTop=0),Ie===Me&&N&&(N.scrollTop=N.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Ee))return},[C,N]),S=d.useCallback(()=>K([$,y]),[K,$,y]);d.useEffect(()=>{V&&S()},[V,S]);const{onOpenChange:R,triggerPointerDownPosRef:k}=f;d.useEffect(()=>{if(y){let H={x:0,y:0};const Ce=Me=>{var Ee,Ie;H={x:Math.abs(Math.round(Me.pageX)-(((Ee=k.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Ie=k.current)==null?void 0:Ie.y)??0))}},Qe=Me=>{H.x<=10&&H.y<=10?Me.preventDefault():y.contains(Me.target)||R(!1),document.removeEventListener("pointermove",Ce),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[y,R,k]),d.useEffect(()=>{const H=()=>R(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[R]);const[U,te]=iu(H=>{const Ce=C().filter(Ee=>!Ee.disabled),Qe=Ce.find(Ee=>Ee.ref.current===document.activeElement),Me=lu(Ce,H,Qe);Me&&setTimeout(()=>Me.ref.current.focus())}),re=d.useCallback((H,Ce,Qe)=>{const Me=!W.current&&!Qe;(f.value!==void 0&&f.value===Ce||Me)&&(M(H),Me&&(W.current=!0))},[f.value]),ce=d.useCallback(()=>y==null?void 0:y.focus(),[y]),me=d.useCallback((H,Ce,Qe)=>{const Me=!W.current&&!Qe;(f.value!==void 0&&f.value===Ce||Me)&&P(H)},[f.value]),Le=a==="popper"?to:Hd,Ke=Le===to?{side:l,sideOffset:c,align:m,alignOffset:h,arrowPadding:p,collisionBoundary:b,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:u}:{};return e.jsx(Bd,{scope:r,content:y,viewport:N,onViewportChange:D,itemRefCallback:re,selectedItem:$,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:S,selectedItemText:Q,position:a,isPositioned:V,searchRef:U,children:e.jsx(Am,{as:lg,allowPinchZoom:!0,children:e.jsx(Mm,{asChild:!0,trapped:f.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:je(n,H=>{var Ce;(Ce=f.trigger)==null||Ce.focus({preventScroll:!0}),H.preventDefault()}),children:e.jsx(kl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(Le,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:H=>H.preventDefault(),...j,...Ke,onPlaced:()=>E(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:je(j.onKeyDown,H=>{const Ce=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Ce&&H.key.length===1&&te(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Me=C().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Ee=H.target,Ie=Me.indexOf(Ee);Me=Me.slice(Ie+1)}setTimeout(()=>K(Me)),H.preventDefault()}})})})})})})});Ud.displayName=ig;var cg="SelectItemAlignedPosition",Hd=d.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:a,...n}=t,o=Zs(lr,r),i=Ks(lr,r),[l,c]=d.useState(null),[m,h]=d.useState(null),p=nt(s,L=>h(L)),b=ln(r),v=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:u,selectedItemText:j,focusSelectedItem:f}=i,y=d.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&m&&x&&u&&j){const L=o.trigger.getBoundingClientRect(),$=m.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),Q=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ee=Q.left-$.left,Ie=M.left-Ee,kt=L.left-Ie,Et=L.width+kt,xs=Math.max(Et,$.width),gs=window.innerWidth-Vt,Qs=Li(Ie,[Vt,Math.max(Vt,gs-xs)]);l.style.minWidth=Et+"px",l.style.left=Qs+"px"}else{const Ee=$.right-Q.right,Ie=window.innerWidth-M.right-Ee,kt=window.innerWidth-L.right-Ie,Et=L.width+kt,xs=Math.max(Et,$.width),gs=window.innerWidth-Vt,Qs=Li(Ie,[Vt,Math.max(Vt,gs-xs)]);l.style.minWidth=Et+"px",l.style.right=Qs+"px"}const P=b(),C=window.innerHeight-Vt*2,V=x.scrollHeight,E=window.getComputedStyle(m),W=parseInt(E.borderTopWidth,10),K=parseInt(E.paddingTop,10),S=parseInt(E.borderBottomWidth,10),R=parseInt(E.paddingBottom,10),k=W+K+V+R+S,U=Math.min(u.offsetHeight*5,k),te=window.getComputedStyle(x),re=parseInt(te.paddingTop,10),ce=parseInt(te.paddingBottom,10),me=L.top+L.height/2-Vt,Le=C-me,Ke=u.offsetHeight/2,H=u.offsetTop+Ke,Ce=W+K+H,Qe=k-Ce;if(Ce<=me){const Ee=P.length>0&&u===P[P.length-1].ref.current;l.style.bottom="0px";const Ie=m.clientHeight-x.offsetTop-x.offsetHeight,kt=Math.max(Le,Ke+(Ee?ce:0)+Ie+S),Et=Ce+kt;l.style.height=Et+"px"}else{const Ee=P.length>0&&u===P[0].ref.current;l.style.top="0px";const kt=Math.max(me,W+x.offsetTop+(Ee?re:0)+Ke)+Qe;l.style.height=kt+"px",x.scrollTop=Ce-me+x.offsetTop}l.style.margin=`${Vt}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=C+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[b,o.trigger,o.valueNode,l,m,x,u,j,o.dir,a]);ms(()=>y(),[y]);const[g,N]=d.useState();ms(()=>{m&&N(window.getComputedStyle(m).zIndex)},[m]);const D=d.useCallback(L=>{L&&w.current===!0&&(y(),f==null||f(),w.current=!1)},[y,f]);return e.jsx(ug,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:g},children:e.jsx(ke.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Hd.displayName=cg;var dg="SelectPopperPosition",to=d.forwardRef((t,s)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=Vt,...o}=t,i=cn(r);return e.jsx(El,{...i,...o,ref:s,align:a,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});to.displayName=dg;var[ug,zo]=Vr(lr,{}),so="SelectViewport",Gd=d.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:a,...n}=t,o=Ks(so,r),i=zo(so,r),l=nt(s,o.onViewportChange),c=d.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(on.Slot,{scope:r,children:e.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:je(n.onScroll,m=>{const h=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:b}=i;if(b!=null&&b.current&&p){const v=Math.abs(c.current-h.scrollTop);if(v>0){const w=window.innerHeight-Vt*2,x=parseFloat(p.style.minHeight),u=parseFloat(p.style.height),j=Math.max(x,u);if(j<w){const f=j+v,y=Math.min(w,f),g=f-y;p.style.height=y+"px",p.style.bottom==="0px"&&(h.scrollTop=g>0?g:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Gd.displayName=so;var Wd="SelectGroup",[mg,hg]=Vr(Wd),fg=d.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=Ka();return e.jsx(mg,{scope:r,id:n,children:e.jsx(ke.div,{role:"group","aria-labelledby":n,...a,ref:s})})});fg.displayName=Wd;var Zd="SelectLabel",Kd=d.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=hg(Zd,r);return e.jsx(ke.div,{id:n.id,...a,ref:s})});Kd.displayName=Zd;var Da="SelectItem",[pg,Qd]=Vr(Da),Yd=d.forwardRef((t,s)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:o,...i}=t,l=Zs(Da,r),c=Ks(Da,r),m=l.value===a,[h,p]=d.useState(o??""),[b,v]=d.useState(!1),w=nt(s,f=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,f,a,n)}),x=Ka(),u=d.useRef("touch"),j=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(pg,{scope:r,value:a,disabled:n,textId:x,isSelected:m,onItemTextChange:d.useCallback(f=>{p(y=>y||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(on.ItemSlot,{scope:r,value:a,disabled:n,textValue:h,children:e.jsx(ke.div,{role:"option","aria-labelledby":x,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:w,onFocus:je(i.onFocus,()=>v(!0)),onBlur:je(i.onBlur,()=>v(!1)),onClick:je(i.onClick,()=>{u.current!=="mouse"&&j()}),onPointerUp:je(i.onPointerUp,()=>{u.current==="mouse"&&j()}),onPointerDown:je(i.onPointerDown,f=>{u.current=f.pointerType}),onPointerMove:je(i.onPointerMove,f=>{var y;u.current=f.pointerType,n?(y=c.onItemLeave)==null||y.call(c):u.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(i.onPointerLeave,f=>{var y;f.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:je(i.onKeyDown,f=>{var g;((g=c.searchRef)==null?void 0:g.current)!==""&&f.key===" "||(eg.includes(f.key)&&j(),f.key===" "&&f.preventDefault())})})})})});Yd.displayName=Da;var Ur="SelectItemText",Xd=d.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:n,...o}=t,i=Zs(Ur,r),l=Ks(Ur,r),c=Qd(Ur,r),m=ag(Ur,r),[h,p]=d.useState(null),b=nt(s,j=>p(j),c.onItemTextChange,j=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,j,c.value,c.disabled)}),v=h==null?void 0:h.textContent,w=d.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:u}=m;return ms(()=>(x(w),()=>u(w)),[x,u,w]),e.jsxs(e.Fragment,{children:[e.jsx(ke.span,{id:c.textId,...o,ref:b}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Qa.createPortal(o.children,i.valueNode):null]})});Xd.displayName=Ur;var Jd="SelectItemIndicator",eu=d.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return Qd(Jd,r).isSelected?e.jsx(ke.span,{"aria-hidden":!0,...a,ref:s}):null});eu.displayName=Jd;var ro="SelectScrollUpButton",tu=d.forwardRef((t,s)=>{const r=Ks(ro,t.__scopeSelect),a=zo(ro,t.__scopeSelect),[n,o]=d.useState(!1),i=nt(s,a.onScrollButtonChange);return ms(()=>{if(r.viewport&&r.isPositioned){let l=function(){const m=c.scrollTop>0;o(m)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?e.jsx(ru,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});tu.displayName=ro;var ao="SelectScrollDownButton",su=d.forwardRef((t,s)=>{const r=Ks(ao,t.__scopeSelect),a=zo(ao,t.__scopeSelect),[n,o]=d.useState(!1),i=nt(s,a.onScrollButtonChange);return ms(()=>{if(r.viewport&&r.isPositioned){let l=function(){const m=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<m;o(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?e.jsx(ru,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});su.displayName=ao;var ru=d.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=t,o=Ks("SelectScrollButton",r),i=d.useRef(null),l=ln(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),ms(()=>{var h;const m=l().find(p=>p.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),e.jsx(ke.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:je(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:je(n.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:je(n.onPointerLeave,()=>{c()})})}),xg="SelectSeparator",au=d.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return e.jsx(ke.div,{"aria-hidden":!0,...a,ref:s})});au.displayName=xg;var no="SelectArrow",gg=d.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=cn(r),o=Zs(no,r),i=Ks(no,r);return o.open&&i.position==="popper"?e.jsx(Tl,{...n,...a,ref:s}):null});gg.displayName=no;var vg="SelectBubbleInput",nu=d.forwardRef(({__scopeSelect:t,value:s,...r},a)=>{const n=d.useRef(null),o=nt(a,n),i=qo(s);return d.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==s&&h){const p=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(p)}},[i,s]),e.jsx(ke.select,{...r,style:{...Jl,...r.style},ref:o,defaultValue:s})});nu.displayName=vg;function ou(t){return t===""||t===void 0}function iu(t){const s=Kr(t),r=d.useRef(""),a=d.useRef(0),n=d.useCallback(i=>{const l=r.current+i;s(l),function c(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),o=d.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,o]}function lu(t,s,r){const n=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,o=r?t.indexOf(r):-1;let i=yg(t,Math.max(o,0));n.length===1&&(i=i.filter(m=>m!==r));const c=i.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function yg(t,s){return t.map((r,a)=>t[(s+a)%t.length])}var bg=Dd,cu=$d,jg=Vd,wg=Fd,Ng=qd,du=zd,_g=Gd,uu=Kd,mu=Yd,Cg=Xd,Sg=eu,hu=tu,fu=su,pu=au;const ct=bg,dt=jg,it=d.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(cu,{ref:a,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(wg,{asChild:!0,children:e.jsx(bc,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=cu.displayName;const xu=d.forwardRef(({className:t,...s},r)=>e.jsx(hu,{ref:r,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ch,{className:"h-4 w-4"})}));xu.displayName=hu.displayName;const gu=d.forwardRef(({className:t,...s},r)=>e.jsx(fu,{ref:r,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(bc,{className:"h-4 w-4"})}));gu.displayName=fu.displayName;const lt=d.forwardRef(({className:t,children:s,position:r="popper",...a},n)=>e.jsx(Ng,{children:e.jsxs(du,{ref:n,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(xu,{}),e.jsx(_g,{className:q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(gu,{})]})}));lt.displayName=du.displayName;const kg=d.forwardRef(({className:t,...s},r)=>e.jsx(uu,{ref:r,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));kg.displayName=uu.displayName;const ue=d.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(mu,{ref:a,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Sg,{children:e.jsx(vr,{className:"h-4 w-4"})})}),e.jsx(Cg,{children:s})]}));ue.displayName=mu.displayName;const Eg=d.forwardRef(({className:t,...s},r)=>e.jsx(pu,{ref:r,className:q("-mx-1 my-1 h-px bg-muted",t),...s}));Eg.displayName=pu.displayName;const Wt=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:q("w-full caption-bottom text-sm",t),...s})}));Wt.displayName="Table";const Zt=d.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:q("[&_tr]:border-b",t),...s}));Zt.displayName="TableHeader";const Kt=d.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:q("[&_tr:last-child]:border-0",t),...s}));Kt.displayName="TableBody";const Tg=d.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));Tg.displayName="TableFooter";const He=d.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:q("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...s}));He.displayName="TableRow";const ee=d.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));ee.displayName="TableHead";const Y=d.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Y.displayName="TableCell";const Rg=d.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:q("mt-4 text-sm text-muted-foreground",t),...s}));Rg.displayName="TableCaption";const At=Dl,dn=Ol,Pg=Il,vu=d.forwardRef(({className:t,...s},r)=>e.jsx(xo,{ref:r,className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));vu.displayName=xo.displayName;const Nt=d.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Pg,{children:[e.jsx(vu,{}),e.jsxs(go,{ref:a,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(vo,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(To,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=go.displayName;const _t=({className:t,...s})=>e.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});_t.displayName="DialogHeader";const Ct=d.forwardRef(({className:t,...s},r)=>e.jsx(yo,{ref:r,className:q("text-lg font-semibold leading-none tracking-tight",t),...s}));Ct.displayName=yo.displayName;const Bo=d.forwardRef(({className:t,...s},r)=>e.jsx(bo,{ref:r,className:q("text-sm text-muted-foreground",t),...s}));Bo.displayName=bo.displayName;const cr=d.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));cr.displayName="Textarea";var un="Checkbox",[Ag,Ky]=Gs(un),[Mg,Uo]=Ag(un);function Ig(t){const{__scopeCheckbox:s,checked:r,children:a,defaultChecked:n,disabled:o,form:i,name:l,onCheckedChange:c,required:m,value:h="on",internal_do_not_use_render:p}=t,[b,v]=us({prop:r,defaultProp:n??!1,onChange:c,caller:un}),[w,x]=d.useState(null),[u,j]=d.useState(null),f=d.useRef(!1),y=w?!!i||!!w.closest("form"):!0,g={checked:b,disabled:o,setChecked:v,control:w,setControl:x,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:f,required:m,defaultChecked:Os(n)?!1:n,isFormControl:y,bubbleInput:u,setBubbleInput:j};return e.jsx(Mg,{scope:s,...g,children:Dg(p)?p(g):a})}var yu="CheckboxTrigger",bu=d.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...a},n)=>{const{control:o,value:i,disabled:l,checked:c,required:m,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:w}=Uo(yu,t),x=nt(n,h),u=d.useRef(c);return d.useEffect(()=>{const j=o==null?void 0:o.form;if(j){const f=()=>p(u.current);return j.addEventListener("reset",f),()=>j.removeEventListener("reset",f)}},[o,p]),e.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Os(c)?"mixed":c,"aria-required":m,"data-state":Cu(c),"data-disabled":l?"":void 0,disabled:l,value:i,...a,ref:x,onKeyDown:je(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:je(r,j=>{p(f=>Os(f)?!0:!f),w&&v&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})})});bu.displayName=yu;var Ho=d.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:m,form:h,...p}=t;return e.jsx(Ig,{__scopeCheckbox:r,checked:n,defaultChecked:o,disabled:l,required:i,onCheckedChange:m,name:a,form:h,value:c,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(bu,{...p,ref:s,__scopeCheckbox:r}),b&&e.jsx(_u,{__scopeCheckbox:r})]})})});Ho.displayName=un;var ju="CheckboxIndicator",wu=d.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:a,...n}=t,o=Uo(ju,r);return e.jsx(Ga,{present:a||Os(o.checked)||o.checked===!0,children:e.jsx(ke.span,{"data-state":Cu(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});wu.displayName=ju;var Nu="CheckboxBubbleInput",_u=d.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:i,required:l,disabled:c,name:m,value:h,form:p,bubbleInput:b,setBubbleInput:v}=Uo(Nu,t),w=nt(r,v),x=qo(o),u=$l(a);d.useEffect(()=>{const f=b;if(!f)return;const y=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(y,"checked").set,D=!n.current;if(x!==o&&N){const L=new Event("click",{bubbles:D});f.indeterminate=Os(o),N.call(f,Os(o)?!1:o),f.dispatchEvent(L)}},[b,x,o,n]);const j=d.useRef(Os(o)?!1:o);return e.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??j.current,required:l,disabled:c,name:m,value:h,form:p,...s,tabIndex:-1,ref:w,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_u.displayName=Nu;function Dg(t){return typeof t=="function"}function Os(t){return t==="indeterminate"}function Cu(t){return Os(t)?"indeterminate":t?"checked":"unchecked"}const Sa=d.forwardRef(({className:t,...s},r)=>e.jsx(Ho,{ref:r,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(wu,{className:q("flex items-center justify-center text-current"),children:e.jsx(vr,{className:"h-4 w-4"})})}));Sa.displayName=Ho.displayName;const Su=()=>{const[t,s]=d.useState([]),[r,a]=d.useState([]),[n,o]=d.useState(!1),[i,l]=d.useState(null),{toast:c}=No(),m=d.useCallback(async f=>{o(!0),l(null);try{let y=ie.from("alertas_estoque").select(`
          *,
          produtos!inner(sku, nome, categoria, unidade)
        `).order("data_criacao",{ascending:!1});(f==null?void 0:f.apenas_ativos)!==!1&&(y=y.eq("ativo",!0)),f!=null&&f.tipo_alerta&&(y=y.eq("tipo_alerta",f.tipo_alerta)),f!=null&&f.nivel_criticidade&&(y=y.eq("nivel_criticidade",f.nivel_criticidade));const{data:g,error:N}=await y;if(N){if(N.message.includes('relation "alertas_estoque" does not exist')||N.message.includes('table "alertas_estoque" does not exist')){console.warn("Tabela alertas_estoque no existe. Retornando lista vazia."),s([]);return}throw N}const D=(g==null?void 0:g.map(L=>({...L,produto:L.produtos})))||[];s(D)}catch(y){const g=y instanceof Error?y.message:"Erro ao carregar alertas";l(g),console.error("Erro ao carregar alertas:",y),g.includes("does not exist")||c({title:"Erro",description:g,variant:"destructive"})}finally{o(!1)}},[c]),h=d.useCallback(async f=>{o(!0),l(null);try{let y=ie.from("vw_lotes_vencimento").select("*").order("dias_para_vencimento");f!=null&&f.status_vencimento&&(y=y.eq("status_vencimento",f.status_vencimento)),f!=null&&f.dias_limite&&(y=y.lte("dias_para_vencimento",f.dias_limite));const{data:g,error:N}=await y;if(N){if(N.message.includes('relation "vw_lotes_vencimento" does not exist')||N.message.includes('view "vw_lotes_vencimento" does not exist')){console.warn("View vw_lotes_vencimento no existe. Retornando lista vazia."),a([]);return}throw N}a(g||[])}catch(y){const g=y instanceof Error?y.message:"Erro ao carregar lotes";l(g),console.error("Erro ao carregar lotes:",y),g.includes("does not exist")||c({title:"Erro",description:g,variant:"destructive"})}finally{o(!1)}},[c]),p=d.useCallback(async(f,y)=>{o(!0),l(null);try{const{error:g}=await ie.from("alertas_estoque").update({ativo:!1,data_resolucao:new Date().toISOString(),observacoes:y}).eq("id",f);if(g)throw g;c({title:"Sucesso",description:"Alerta resolvido com sucesso"}),await m()}catch(g){const N=g instanceof Error?g.message:"Erro ao resolver alerta";throw l(N),c({title:"Erro",description:N,variant:"destructive"}),g}finally{o(!1)}},[c,m]),b=d.useCallback(async(f,y)=>{o(!0),l(null);try{const{error:g}=await ie.from("alertas_estoque").update({ativo:!1,data_resolucao:new Date().toISOString(),observacoes:y}).in("id",f);if(g)throw g;c({title:"Sucesso",description:`${f.length} alertas resolvidos com sucesso`}),await m()}catch(g){const N=g instanceof Error?g.message:"Erro ao resolver alertas";throw l(N),c({title:"Erro",description:N,variant:"destructive"}),g}finally{o(!1)}},[c,m]),v=d.useCallback(async()=>{try{const{data:f,error:y}=await ie.from("alertas_estoque").select("tipo_alerta, nivel_criticidade").eq("ativo",!0);if(y){if(y.message.includes('relation "alertas_estoque" does not exist')||y.message.includes('table "alertas_estoque" does not exist'))return console.warn("Tabela alertas_estoque no existe. Retornando contadores zerados."),{total:0,criticos:0,altos:0,medios:0,baixos:0,estoque_minimo:0,estoque_maximo:0,produto_vencido:0,produto_vencendo:0};throw y}return{total:(f==null?void 0:f.length)||0,criticos:(f==null?void 0:f.filter(N=>N.nivel_criticidade==="critico").length)||0,altos:(f==null?void 0:f.filter(N=>N.nivel_criticidade==="alto").length)||0,medios:(f==null?void 0:f.filter(N=>N.nivel_criticidade==="medio").length)||0,baixos:(f==null?void 0:f.filter(N=>N.nivel_criticidade==="baixo").length)||0,estoque_minimo:(f==null?void 0:f.filter(N=>N.tipo_alerta==="estoque_minimo").length)||0,estoque_maximo:(f==null?void 0:f.filter(N=>N.tipo_alerta==="estoque_maximo").length)||0,produto_vencido:(f==null?void 0:f.filter(N=>N.tipo_alerta==="produto_vencido").length)||0,produto_vencendo:(f==null?void 0:f.filter(N=>N.tipo_alerta==="produto_vencendo").length)||0}}catch(f){return console.error("Erro ao obter contadores:",f),{total:0,criticos:0,altos:0,medios:0,baixos:0,estoque_minimo:0,estoque_maximo:0,produto_vencido:0,produto_vencendo:0}}},[]),w=d.useCallback(async f=>{o(!0),l(null);try{const{error:y}=await ie.from("alertas_estoque").insert(f);if(y)throw y;c({title:"Sucesso",description:"Alerta criado com sucesso"}),await m()}catch(y){const g=y instanceof Error?y.message:"Erro ao criar alerta";throw l(g),c({title:"Erro",description:g,variant:"destructive"}),y}finally{o(!1)}},[c,m]),x=d.useCallback(async f=>{try{const{data:y,error:g}=await ie.from("alertas_estoque").select("*").eq("produto_id",f).eq("ativo",!0).order("data_criacao",{ascending:!1});if(g)throw g;return y||[]}catch(y){return console.error("Erro ao obter alertas do produto:",y),[]}},[]),u=d.useCallback(f=>t.some(y=>y.produto_id===f&&y.ativo),[t]),j=d.useCallback(f=>{const y=t.filter(N=>N.produto_id===f&&N.ativo);if(y.length===0)return null;const g=["critico","alto","medio","baixo"];for(const N of g)if(y.some(D=>D.nivel_criticidade===N))return N;return null},[t]);return d.useEffect(()=>{const f=ie.channel("alertas_estoque_changes").on("postgres_changes",{event:"*",schema:"public",table:"alertas_estoque"},y=>{console.log("Mudana em alertas_estoque:",y),m()}).subscribe();return()=>{ie.removeChannel(f)}},[m]),d.useEffect(()=>{m(),h()},[m,h]),{alertas:t,lotesVencimento:r,loading:n,error:i,carregarAlertas:m,carregarLotesVencimento:h,resolverAlerta:p,resolverMultiplosAlertas:b,obterContadoresAlertas:v,criarAlertaManual:w,obterAlertasPorProduto:x,produtoTemAlertas:u,obterCriticidadeProduto:j}},Og=()=>{const t=Mt(),[s,r]=d.useState(""),[a,n]=d.useState(""),[o,i]=d.useState([]),[l,c]=d.useState(!1),[m,h]=d.useState(""),[p,b]=d.useState(t?"cards":"table");d.useEffect(()=>{t&&b("cards")},[t]);const{alertas:v,lotesVencimento:w,loading:x,carregarAlertas:u,carregarLotesVencimento:j,resolverAlerta:f,resolverMultiplosAlertas:y,obterContadoresAlertas:g}=Su(),N=v.filter(S=>{const R=!s||s==="todos"||S.tipo_alerta===s,k=!a||a==="todas"||S.nivel_criticidade===a;return R&&k}),D=w.filter(S=>S.status_vencimento==="VENCIDO"),L=w.filter(S=>S.status_vencimento==="VENCENDO_30_DIAS"),$=w.filter(S=>S.status_vencimento==="VENCENDO_60_DIAS"),M=S=>{switch(S){case"critico":return e.jsx(yt,{className:"h-4 w-4 text-red-500"});case"alto":return e.jsx(Sh,{className:"h-4 w-4 text-orange-500"});case"medio":return e.jsx(hi,{className:"h-4 w-4 text-yellow-500"});case"baixo":return e.jsx(di,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(hi,{className:"h-4 w-4"})}},Q=S=>{switch(S){case"critico":return"destructive";case"alto":return"secondary";case"medio":return"outline";case"baixo":return"default";default:return"default"}},P=S=>{switch(S){case"VENCIDO":return"destructive";case"VENCENDO_30_DIAS":return"secondary";case"VENCENDO_60_DIAS":return"outline";default:return"default"}},C=S=>new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),V=S=>{i(R=>R.includes(S)?R.filter(k=>k!==S):[...R,S])},E=()=>{o.length===N.length?i([]):i(N.map(S=>S.id))},W=async()=>{try{o.length===1?await f(o[0],m):await y(o,m),i([]),h(""),c(!1)}catch(S){console.error("Erro ao resolver alertas:",S)}},K=async()=>{await u(),await j()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Alertas de Estoque"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitoramento e gesto de alertas automticos"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(le,{onClick:K,variant:"outline",size:"sm",children:[e.jsx(or,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),o.length>0&&e.jsxs(le,{onClick:()=>c(!0),size:"sm",children:[e.jsx(vr,{className:"h-4 w-4 mr-2"}),"Resolver (",o.length,")"]})]})]}),e.jsxs(Wx,{defaultValue:"alertas",className:"space-y-4",children:[e.jsxs(wd,{children:[e.jsx(Jn,{value:"alertas",children:"Alertas Ativos"}),e.jsx(Jn,{value:"vencimento",children:"Lotes Vencendo"})]}),e.jsxs(eo,{value:"alertas",className:"space-y-4",children:[e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"h-5 w-5"}),"Filtros"]})}),e.jsx(oe,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs(ct,{value:s,onValueChange:r,children:[e.jsx(it,{className:"w-full md:w-48",children:e.jsx(dt,{placeholder:"Tipo de alerta"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todos",children:"Todos os tipos"}),e.jsx(ue,{value:"estoque_minimo",children:"Estoque Mnimo"}),e.jsx(ue,{value:"estoque_maximo",children:"Estoque Mximo"}),e.jsx(ue,{value:"produto_vencido",children:"Produto Vencido"}),e.jsx(ue,{value:"produto_vencendo",children:"Produto Vencendo"})]})]}),e.jsxs(ct,{value:a,onValueChange:n,children:[e.jsx(it,{className:"w-full md:w-48",children:e.jsx(dt,{placeholder:"Criticidade"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todas",children:"Todas as criticidades"}),e.jsx(ue,{value:"critico",children:"Crtico"}),e.jsx(ue,{value:"alto",children:"Alto"}),e.jsx(ue,{value:"medio",children:"Mdio"}),e.jsx(ue,{value:"baixo",children:"Baixo"})]})]})]})})]}),!t&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(fr,{type:"single",value:p,onValueChange:S=>S&&b(S),children:[e.jsx(wt,{value:"cards","aria-label":"Visualizao em cards",children:e.jsx(Dr,{className:"h-4 w-4"})}),e.jsx(wt,{value:"table","aria-label":"Visualizao em tabela",children:e.jsx(Or,{className:"h-4 w-4"})})]})}),e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Alertas Ativos"}),e.jsxs(bt,{children:[N.length," de ",v.length," alertas"]})]}),e.jsx(oe,{children:p==="cards"||t?e.jsx("div",{className:t?"grid grid-cols-1 gap-4":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x?e.jsx("div",{className:"col-span-full text-center py-8",children:"Carregando alertas..."}):N.length===0?e.jsx("div",{className:"col-span-full",children:e.jsx(ne,{children:e.jsxs(oe,{className:t?"p-8 text-center":"p-12 text-center",children:[e.jsx(yt,{className:t?"h-12 w-12 mx-auto text-muted-foreground mb-4":"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:t?"text-lg font-semibold mb-2":"text-xl font-semibold mb-2",children:"Nenhum alerta encontrado"}),e.jsx("p",{className:t?"text-sm text-muted-foreground":"text-muted-foreground",children:v.length===0?"No h alertas ativos no sistema.":"Tente ajustar os filtros para encontrar alertas."})]})})}):N.map(S=>{var R,k;return e.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ve,{className:t?"p-4 pb-2":"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[M(S.nivel_criticidade),e.jsx(we,{variant:Q(S.nivel_criticidade),children:S.nivel_criticidade})]}),e.jsx(ye,{className:t?"text-base line-clamp-2":"text-lg line-clamp-2",children:(R=S.produto)==null?void 0:R.nome}),e.jsx("p",{className:t?"text-xs text-muted-foreground font-mono":"text-sm text-muted-foreground font-mono",children:(k=S.produto)==null?void 0:k.sku})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Sa,{checked:o.includes(S.id),onCheckedChange:()=>V(S.id)}),e.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{i([S.id]),c(!0)},title:"Resolver alerta",children:e.jsx(vr,{className:"h-4 w-4"})})]})]})}),e.jsx(oe,{className:t?"p-4 pt-0":"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Tipo:"}),e.jsx(we,{variant:"outline",className:t?"text-xs":void 0,children:S.tipo_alerta.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Qtd Atual:"}),e.jsx("span",{className:t?"text-sm font-medium":"font-medium",children:S.quantidade_atual})]}),S.quantidade_referencia&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Qtd Ref:"}),e.jsx("span",{className:t?"text-sm font-medium":"font-medium",children:S.quantidade_referencia})]}),e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:t?"text-xs text-muted-foreground line-clamp-2":"text-sm text-muted-foreground line-clamp-2",title:S.mensagem,children:S.mensagem})}),e.jsx("div",{className:"flex justify-between items-center text-xs text-muted-foreground mt-2",children:e.jsx("span",{children:C(S.data_criacao)})})]})})]},S.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{className:"w-12",children:e.jsx(Sa,{checked:o.length===N.length&&N.length>0,onCheckedChange:E})}),e.jsx(ee,{children:"Criticidade"}),e.jsx(ee,{children:"Produto"}),e.jsx(ee,{children:"Tipo"}),e.jsx(ee,{children:"Quantidade"}),e.jsx(ee,{children:"Mensagem"}),e.jsx(ee,{children:"Data"}),e.jsx(ee,{className:"text-center",children:"Aes"})]})}),e.jsx(Kt,{children:x?e.jsx(He,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Carregando..."})}):N.length===0?e.jsx(He,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Nenhum alerta encontrado"})}):N.map(S=>{var R,k;return e.jsxs(He,{children:[e.jsx(Y,{children:e.jsx(Sa,{checked:o.includes(S.id),onCheckedChange:()=>V(S.id)})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[M(S.nivel_criticidade),e.jsx(we,{variant:Q(S.nivel_criticidade),children:S.nivel_criticidade})]})}),e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:(R=S.produto)==null?void 0:R.nome}),e.jsx("div",{className:"text-sm text-muted-foreground",children:(k=S.produto)==null?void 0:k.sku})]})}),e.jsx(Y,{children:e.jsx(we,{variant:"outline",children:S.tipo_alerta.replace("_"," ")})}),e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.quantidade_atual}),S.quantidade_referencia&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Ref: ",S.quantidade_referencia]})]})}),e.jsx(Y,{className:"max-w-xs",children:e.jsx("p",{className:"text-sm truncate",title:S.mensagem,children:S.mensagem})}),e.jsx(Y,{children:e.jsx("div",{className:"text-sm",children:C(S.data_criacao)})}),e.jsx(Y,{className:"text-center",children:e.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{i([S.id]),c(!0)},children:e.jsx(vr,{className:"h-4 w-4"})})})]},S.id)})})]})})})]})]}),e.jsxs(eo,{value:"vencimento",className:"space-y-4",children:[D.length>0&&e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-red-600",children:"Lotes Vencidos"}),e.jsxs(bt,{children:[D.length," lotes vencidos requerem ao imediata"]})]}),e.jsx(oe,{children:p==="cards"||t?e.jsx("div",{className:t?"grid grid-cols-1 gap-4":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(S=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow border-red-200",children:[e.jsx(ve,{className:t?"p-4 pb-2":"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:t?"text-base line-clamp-2":"text-lg line-clamp-2",children:S.produto_nome}),e.jsx("p",{className:t?"text-xs text-muted-foreground font-mono":"text-sm text-muted-foreground font-mono",children:S.sku})]}),e.jsx(we,{variant:P(S.status_vencimento),className:"text-red-600",children:"VENCIDO"})]})}),e.jsx(oe,{className:t?"p-4 pt-0":"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Lote:"}),e.jsx("span",{className:t?"text-sm font-mono font-medium":"font-mono font-medium",children:S.numero_lote})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Vencimento:"}),e.jsx("span",{className:t?"text-sm font-medium text-red-600":"font-medium text-red-600",children:new Date(S.data_validade).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Quantidade:"}),e.jsx("span",{className:t?"text-sm font-medium":"font-medium",children:S.quantidade_total})]})]})})]},S.lote_id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Produto"}),e.jsx(ee,{children:"Lote"}),e.jsx(ee,{children:"Data Vencimento"}),e.jsx(ee,{children:"Quantidade"}),e.jsx(ee,{children:"Status"})]})}),e.jsx(Kt,{children:D.map(S=>e.jsxs(He,{children:[e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.produto_nome}),e.jsx("div",{className:"text-sm text-muted-foreground",children:S.sku})]})}),e.jsx(Y,{className:"font-mono",children:S.numero_lote}),e.jsx(Y,{children:new Date(S.data_validade).toLocaleDateString("pt-BR")}),e.jsx(Y,{children:S.quantidade_total}),e.jsx(Y,{children:e.jsx(we,{variant:P(S.status_vencimento),children:"VENCIDO"})})]},S.lote_id))})]})})})]}),L.length>0&&e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-orange-600",children:"Vencendo em 30 dias"}),e.jsxs(bt,{children:[L.length," lotes vencendo nos prximos 30 dias"]})]}),e.jsx(oe,{children:p==="cards"||t?e.jsx("div",{className:t?"grid grid-cols-1 gap-4":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(S=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow border-orange-200",children:[e.jsx(ve,{className:t?"p-4 pb-2":"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:t?"text-base line-clamp-2":"text-lg line-clamp-2",children:S.produto_nome}),e.jsx("p",{className:t?"text-xs text-muted-foreground font-mono":"text-sm text-muted-foreground font-mono",children:S.sku})]}),e.jsxs(we,{variant:"secondary",className:"text-orange-600",children:[S.dias_para_vencimento," dias"]})]})}),e.jsx(oe,{className:t?"p-4 pt-0":"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Lote:"}),e.jsx("span",{className:t?"text-sm font-mono font-medium":"font-mono font-medium",children:S.numero_lote})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Vencimento:"}),e.jsx("span",{className:t?"text-sm font-medium text-orange-600":"font-medium text-orange-600",children:new Date(S.data_validade).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Quantidade:"}),e.jsx("span",{className:t?"text-sm font-medium":"font-medium",children:S.quantidade_total})]})]})})]},S.lote_id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Produto"}),e.jsx(ee,{children:"Lote"}),e.jsx(ee,{children:"Data Vencimento"}),e.jsx(ee,{children:"Dias Restantes"}),e.jsx(ee,{children:"Quantidade"})]})}),e.jsx(Kt,{children:L.map(S=>e.jsxs(He,{children:[e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.produto_nome}),e.jsx("div",{className:"text-sm text-muted-foreground",children:S.sku})]})}),e.jsx(Y,{className:"font-mono",children:S.numero_lote}),e.jsx(Y,{children:new Date(S.data_validade).toLocaleDateString("pt-BR")}),e.jsx(Y,{children:e.jsxs(we,{variant:"secondary",children:[S.dias_para_vencimento," dias"]})}),e.jsx(Y,{children:S.quantidade_total})]},S.lote_id))})]})})})]}),$.length>0&&e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-yellow-600",children:"Vencendo em 60 dias"}),e.jsxs(bt,{children:[$.length," lotes vencendo nos prximos 60 dias"]})]}),e.jsx(oe,{children:p==="cards"||t?e.jsx("div",{className:t?"grid grid-cols-1 gap-4":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(S=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow border-yellow-200",children:[e.jsx(ve,{className:t?"p-4 pb-2":"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:t?"text-base line-clamp-2":"text-lg line-clamp-2",children:S.produto_nome}),e.jsx("p",{className:t?"text-xs text-muted-foreground font-mono":"text-sm text-muted-foreground font-mono",children:S.sku})]}),e.jsxs(we,{variant:"outline",className:"text-yellow-600",children:[S.dias_para_vencimento," dias"]})]})}),e.jsx(oe,{className:t?"p-4 pt-0":"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Lote:"}),e.jsx("span",{className:t?"text-sm font-mono font-medium":"font-mono font-medium",children:S.numero_lote})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Vencimento:"}),e.jsx("span",{className:t?"text-sm font-medium text-yellow-600":"font-medium text-yellow-600",children:new Date(S.data_validade).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Quantidade:"}),e.jsx("span",{className:t?"text-sm font-medium":"font-medium",children:S.quantidade_total})]})]})})]},S.lote_id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Produto"}),e.jsx(ee,{children:"Lote"}),e.jsx(ee,{children:"Data Vencimento"}),e.jsx(ee,{children:"Dias Restantes"}),e.jsx(ee,{children:"Quantidade"})]})}),e.jsx(Kt,{children:$.map(S=>e.jsxs(He,{children:[e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.produto_nome}),e.jsx("div",{className:"text-sm text-muted-foreground",children:S.sku})]})}),e.jsx(Y,{className:"font-mono",children:S.numero_lote}),e.jsx(Y,{children:new Date(S.data_validade).toLocaleDateString("pt-BR")}),e.jsx(Y,{children:e.jsxs(we,{variant:"outline",children:[S.dias_para_vencimento," dias"]})}),e.jsx(Y,{children:S.quantidade_total})]},S.lote_id))})]})})})]}),w.length===0&&e.jsx(ne,{children:e.jsxs(oe,{className:"text-center py-8",children:[e.jsx(di,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Nenhum lote prximo ao vencimento"}),e.jsx("p",{className:"text-muted-foreground",children:"Todos os lotes esto dentro do prazo de validade"})]})})]})]}),e.jsx(At,{open:l,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsxs(_t,{children:[e.jsx(Ct,{children:"Resolver Alertas"}),e.jsx(Bo,{children:o.length===1?"Resolver 1 alerta selecionado":`Resolver ${o.length} alertas selecionados`})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Observaes (opcional)"}),e.jsx(cr,{placeholder:"Descreva a ao tomada para resolver o alerta...",value:m,onChange:S=>h(S.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(le,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(le,{onClick:W,children:"Resolver Alertas"})]})]})]})})]})},ku=()=>{const[t,s]=d.useState([]),[r,a]=d.useState([]),[n,o]=d.useState(!1),[i,l]=d.useState(null),{toast:c}=No(),m=d.useCallback(async u=>{o(!0),l(null);try{let j=ie.from("vw_estoque_consolidado").select("*").order("produto_nome");u!=null&&u.categoria&&(j=j.eq("categoria",u.categoria)),u!=null&&u.status_estoque&&(j=j.eq("status_estoque",u.status_estoque)),u!=null&&u.busca&&(j=j.or(`produto_nome.ilike.%${u.busca}%,sku.ilike.%${u.busca}%`));const{data:f,error:y}=await j;if(y)throw y;s(f||[])}catch(j){const f=j instanceof Error?j.message:"Erro ao carregar estoque";l(f),c({title:"Erro",description:f,variant:"destructive"})}finally{o(!1)}},[c]),h=d.useCallback(async(u,j=50)=>{o(!0),l(null);try{let f=ie.from("historico_estoque").select(`
          *,
          produtos!inner(nome, sku),
          lotes(numero_lote),
          localizacoes(codigo, descricao),
          profiles(full_name)
        `).order("data_operacao",{ascending:!1}).limit(j);u&&(f=f.eq("produto_id",u));const{data:y,error:g}=await f;if(g)throw g;a(y||[])}catch(f){const y=f instanceof Error?f.message:"Erro ao carregar histrico";l(y),c({title:"Erro",description:y,variant:"destructive"})}finally{o(!1)}},[c]),p=d.useCallback(async u=>{o(!0),l(null);try{if(u.quantidade<=0)throw new Error("Quantidade deve ser maior que zero");if(u.tipo==="transferencia"&&(!u.localizacao_origem_id||!u.localizacao_destino_id))throw new Error("Transferncia requer localizao de origem e destino");if(u.tipo==="saida"&&!u.localizacao_origem_id)throw new Error("Sada requer localizao de origem");if(u.tipo==="entrada"&&!u.localizacao_destino_id)throw new Error("Entrada requer localizao de destino");if(["saida","transferencia"].includes(u.tipo)){const{data:f}=await ie.from("estoque_localizacao").select("quantidade").eq("produto_id",u.produto_id).eq("localizacao_id",u.localizacao_origem_id).eq("lote_id",u.lote_id).single();if(!f||f.quantidade<u.quantidade)throw new Error("Estoque insuficiente para a operao")}const{error:j}=await ie.from("movimentacoes").insert({produto_id:u.produto_id,lote_id:u.lote_id,localizacao_origem_id:u.localizacao_origem_id,localizacao_destino_id:u.localizacao_destino_id,tipo:u.tipo,quantidade:u.quantidade,motivo:u.motivo,documento_referencia:u.documento_referencia});if(j)throw j;c({title:"Sucesso",description:"Movimentao executada com sucesso"}),await m()}catch(j){const f=j instanceof Error?j.message:"Erro ao executar movimentao";throw l(f),c({title:"Erro",description:f,variant:"destructive"}),j}finally{o(!1)}},[c,m]),b=d.useCallback(async u=>{try{const{data:j,error:f}=await ie.rpc("calcular_estoque_produto",{produto_uuid:u});if(f)throw f;return j||0}catch(j){return console.error("Erro ao calcular estoque:",j),0}},[]),v=d.useCallback(async()=>{try{const{data:u,error:j}=await ie.from("vw_estoque_consolidado").select("*").in("status_estoque",["CRITICO","BAIXO"]).order("quantidade_total");if(j)throw j;return u||[]}catch(u){return console.error("Erro ao obter produtos crticos:",u),[]}},[]),w=d.useCallback(async()=>{try{const{data:u,error:j}=await ie.from("vw_estoque_consolidado").select("*");if(j)throw j;return{totalItensEstoque:(u==null?void 0:u.reduce((y,g)=>y+(g.quantidade_total||0),0))||0,totalProdutos:(u==null?void 0:u.length)||0,valorTotalEstoque:(u==null?void 0:u.reduce((y,g)=>y+(g.valor_total_estoque||0),0))||0,produtosCriticos:(u==null?void 0:u.filter(y=>y.status_estoque==="CRITICO").length)||0,produtosBaixos:(u==null?void 0:u.filter(y=>y.status_estoque==="BAIXO").length)||0,produtosExcesso:(u==null?void 0:u.filter(y=>y.status_estoque==="EXCESSO").length)||0,produtosNormais:(u==null?void 0:u.filter(y=>y.status_estoque==="NORMAL").length)||0}}catch(u){return console.error("Erro ao obter estatsticas:",u),{totalItensEstoque:0,totalProdutos:0,valorTotalEstoque:0,produtosCriticos:0,produtosBaixos:0,produtosExcesso:0,produtosNormais:0}}},[]),x=d.useCallback(async()=>{try{const{data:u,error:j}=await ie.rpc("executar_verificacao_estoque");if(j)throw j;return c({title:"Verificao Concluda",description:u||"Verificao de estoque executada com sucesso"}),u}catch(u){const j=u instanceof Error?u.message:"Erro na verificao";throw c({title:"Erro",description:j,variant:"destructive"}),u}},[c]);return d.useEffect(()=>{m()},[m]),{estoqueConsolidado:t,historicoEstoque:r,loading:n,error:i,carregarEstoqueConsolidado:m,carregarHistoricoEstoque:h,executarMovimentacao:p,calcularEstoqueProduto:b,obterProdutosCriticos:v,obterEstatisticasEstoque:w,executarVerificacaoEstoque:x}},$g=()=>{const[t,s]=d.useState("semanal"),r=Mt(),[a,n]=d.useState({totalProdutos:0,totalLocalizacoes:0,valorEstoque:0,movimentacoesHoje:0,produtosAbaixoEstoqueMinimo:0,almoxarifadosAtivos:0}),[o,i]=d.useState({totalItensEstoque:0,totalProdutos:0,valorTotalEstoque:0,produtosCriticos:0,produtosBaixos:0,produtosExcesso:0,produtosNormais:0}),[l,c]=d.useState([]),[m,h]=d.useState([]),[p,b]=d.useState([]),[v,w]=d.useState([]),[x,u]=d.useState([]),{obterEstatisticasEstoque:j}=ku(),f=M=>{const Q=new Date;let P,C,V,E;switch(M){case"semanal":P=new Date(Q.getTime()-7*24*60*60*1e3),C=7,V={weekday:"short"},E="ltimos 7 dias";break;case"mensal":P=new Date(Q.getTime()-30*24*60*60*1e3),C=30,V={day:"2-digit",month:"2-digit"},E="ltimos 30 dias";break;case"trimestral":P=new Date(Q.getTime()-90*24*60*60*1e3),C=90,V={day:"2-digit",month:"2-digit"},E="ltimos 90 dias";break;case"anual":P=new Date(Q.getTime()-365*24*60*60*1e3),C=365,V={month:"short",year:"2-digit"},E="ltimos 12 meses";break;default:P=new Date(Q.getTime()-30*24*60*60*1e3),C=30,V={day:"2-digit",month:"2-digit"},E="ltimos 30 dias"}return{dataInicio:P,dias:C,formatoData:V,descricao:E}},y=[{valor:"semanal",label:r?"Sem.":"Semanal"},{valor:"mensal",label:r?"Men.":"Mensal"},{valor:"trimestral",label:r?"Tri.":"Trimestral"},{valor:"anual",label:"Anual"}];d.useEffect(()=>{g()},[t]);const g=async()=>{try{const{count:M}=await ie.from("produtos").select("*",{count:"exact",head:!0}).eq("status","ativo"),{count:Q}=await ie.from("localizacoes").select("*",{count:"exact",head:!0}).eq("ativo",!0),{data:P}=await ie.from("estoque_localizacao").select("quantidade, produtos!inner(custo_unitario)");let C=0;P&&(C=P.reduce((U,te)=>{var re;return U+te.quantidade*(((re=te.produtos)==null?void 0:re.custo_unitario)||0)},0));const V=new Date().toISOString().split("T")[0],{count:E}=await ie.from("movimentacoes").select("*",{count:"exact",head:!0}).gte("realizada_em",`${V}T00:00:00`),{data:W}=await ie.from("produtos").select("id, sku, nome, estoque_minimo");let K=0;if(W)for(const U of W){const{data:te}=await ie.from("estoque_localizacao").select("quantidade").eq("produto_id",U.id);((te==null?void 0:te.reduce((ce,me)=>ce+Number(me.quantidade),0))||0)<(U.estoque_minimo||0)&&K++}const{count:S}=await ie.from("almoxarifados").select("*",{count:"exact",head:!0}).eq("ativo",!0);n({totalProdutos:M||0,totalLocalizacoes:Q||0,valorEstoque:C,movimentacoesHoje:E||0,produtosAbaixoEstoqueMinimo:K,almoxarifadosAtivos:S||0});const{data:R}=await ie.from("movimentacoes").select("*, produtos(sku, nome), profiles(nome_completo)").order("realizada_em",{ascending:!1}).limit(5);c(R||[]);const k=await j();i(k),await N()}catch(M){const Q=String((M==null?void 0:M.message)||"").toLowerCase();(M==null?void 0:M.name)==="AbortError"||Q.includes("abort")||console.error("Erro ao carregar dados do dashboard:",M)}},N=async()=>{try{const{dataInicio:M,dias:Q,formatoData:P,descricao:C}=f(t),{data:V}=await ie.from("movimentacoes").select("tipo, quantidade").gte("realizada_em",M.toISOString());if(V){const S=V.reduce((R,k)=>{const U=k.tipo;return R[U]||(R[U]={name:D(U),value:0,color:$(U)}),R[U].value+=k.quantidade,R},{});h(Object.values(S))}const{data:E}=await ie.from("movimentacoes").select("realizada_em, quantidade").gte("realizada_em",M.toISOString()).order("realizada_em",{ascending:!0});if(E){const S=[];for(let k=Q-1;k>=0;k--){const U=new Date(Date.now()-k*24*60*60*1e3),te=U.toLocaleDateString("pt-BR",P);S.push({name:te,value:0,date:U.toISOString().split("T")[0]})}const R=E.reduce((k,U)=>{const te=new Date(U.realizada_em).toISOString().split("T")[0],re=k.find(ce=>ce.date===te);return re&&(re.value+=U.quantidade),k},S);b(R)}const{data:W}=await ie.from("movimentacoes").select("produto_id, quantidade, produtos!inner(nome, sku)").gte("realizada_em",M.toISOString());if(W){const S=W.reduce((k,U)=>{const te=U.produto_id;return k[te]||(k[te]={name:U.produtos.nome,sku:U.produtos.sku,value:0}),k[te].value+=U.quantidade,k},{}),R=Object.values(S).sort((k,U)=>U.value-k.value).slice(0,5);w(R)}const{data:K}=await ie.from("estoque_localizacao").select("quantidade, produtos!inner(categoria)").not("produtos.categoria","is",null);if(K){const S=K.reduce((R,k)=>{const U=k.produtos.categoria||"Sem categoria";return R[U]||(R[U]={name:U,value:0}),R[U].value+=k.quantidade,R},{});u(Object.values(S))}}catch(M){console.error("Erro ao carregar dados dos grficos:",M)}},D=M=>({entrada:"Entrada",saida:"Sada",transferencia:"Transferncia",ajuste:"Ajuste",devolucao:"Devoluo"})[M]||M,L=M=>({entrada:"default",saida:"destructive",transferencia:"secondary",ajuste:"outline",devolucao:"secondary"})[M]||"default",$=M=>({entrada:"#22c55e",saida:"#ef4444",transferencia:"#3b82f6",ajuste:"#f59e0b",devolucao:"#8b5cf6"})[M]||"#6b7280";return e.jsxs("div",{className:`space-y-6 ${r?"px-2":""}`,children:[e.jsx("div",{className:`
        w-full overflow-hidden rounded-lg shadow-sm bg-slate-900
        ${r?"h-[140px]":"h-[180px] sm:h-[210px] md:h-[240px] lg:h-[270px]"}
      `,children:e.jsx(Fx,{backgroundImage:qx,className:"w-full h-full"})}),e.jsxs("div",{className:r?"text-center":"",children:[e.jsx("h1",{className:`font-bold tracking-tight ${r?"text-2xl":"text-3xl"}`,children:"Dashboard"}),e.jsx("p",{className:`text-muted-foreground ${r?"text-sm mt-1":""}`,children:"Viso geral do almoxarifado em tempo real"})]}),e.jsxs("div",{className:`
        grid gap-4
        ${r?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-3"}
      `,children:[e.jsx(Bt,{title:"Itens em Estoque",value:o.totalItensEstoque,icon:e.jsx(Ge,{className:"h-5 w-5"}),description:"Total itens em estoque",format:"number"}),e.jsx(Bt,{title:"Produtos Registrados",value:a.totalProdutos,icon:e.jsx(Ge,{className:"h-5 w-5"}),description:"Produtos ativos no sistema",format:"number"}),e.jsx(Bt,{title:"Localizaes Ativas",value:a.totalLocalizacoes,icon:e.jsx(rs,{className:"h-5 w-5"}),description:`Em ${a.almoxarifadosAtivos} almoxarifados`}),e.jsx(Bt,{title:"Valor do Estoque",value:a.valorEstoque,icon:e.jsx(ko,{className:"h-5 w-5"}),description:"Valor total inventariado",format:"currency"}),e.jsx(Bt,{title:"Movimentaes Hoje",value:a.movimentacoesHoje,previousValue:a.movimentacoesHoje>0?Math.max(0,a.movimentacoesHoje-2):0,icon:e.jsx(Yr,{className:"h-5 w-5"}),description:"Operaes realizadas",format:"number"}),e.jsx(Bt,{title:"Alertas de Estoque",value:a.produtosAbaixoEstoqueMinimo,icon:e.jsx(yt,{className:"h-5 w-5"}),description:"Produtos abaixo do mnimo",format:"number"})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:`
          flex items-center justify-between
          ${r?"flex-col gap-3":""}
        `,children:[e.jsx("h2",{className:`font-bold tracking-tight ${r?"text-xl text-center":"text-2xl"}`,children:"Anlise Temporal"}),e.jsx("div",{className:`
            flex gap-1 p-1 bg-muted rounded-lg
            ${r?"w-full justify-center":"gap-2"}
          `,children:y.map(M=>e.jsx(le,{variant:t===M.valor?"default":"ghost",size:"sm",onClick:()=>s(M.valor),className:`
                  transition-all duration-200
                  ${r?"flex-1 text-xs px-2":""}
                  ${t===M.valor?"bg-primary text-primary-foreground shadow-sm":"hover:bg-background"}
                `,children:M.label},M.valor))})]}),e.jsxs("div",{className:`
          grid gap-6
          ${r?"grid-cols-1":"md:grid-cols-2"}
        `,children:[e.jsx(ld,{title:"Movimentaes por Tempo",description:`Quantidades de movimentaes - ${f(t).descricao}`,data:p,dataKey:"value",nameKey:"name",height:r?280:350,color:"hsl(var(--primary))",showDots:!0,formatValue:M=>`${M} itens`}),e.jsx(Ma,{title:"Movimentaes por Tipo",description:f(t).descricao,data:m,height:r?280:300,innerRadius:r?40:60})]}),e.jsxs("div",{className:`
          grid gap-6
          ${r?"grid-cols-1":"md:grid-cols-2"}
        `,children:[e.jsx(id,{title:"Produtos Mais Movimentados",description:`Top 5 - ${f(t).descricao}`,data:v,dataKey:"value",nameKey:"name",height:r?280:300}),e.jsx(Ma,{title:"Estoque por Categoria",description:"Distribuio atual",data:x,height:r?280:300,showLegend:!r})]})]}),e.jsxs("div",{className:`
        grid gap-4
        ${r?"grid-cols-1":"md:grid-cols-3"}
      `,children:[e.jsx(Ca,{data:p.map(M=>({value:M.value})),label:"Tendncia Semanal",currentValue:a.movimentacoesHoje,previousValue:Math.max(0,a.movimentacoesHoje-1),format:"number",color:"hsl(var(--primary))"}),e.jsx(Ca,{data:[{value:a.valorEstoque*.95},{value:a.valorEstoque*.98},{value:a.valorEstoque*1.02},{value:a.valorEstoque}],label:"Valor do Estoque",currentValue:a.valorEstoque,previousValue:a.valorEstoque*.98,format:"currency",color:"#22c55e"}),e.jsx(Ca,{data:[{value:97.2},{value:97.8},{value:98.1},{value:98.5}],label:"Acurcia",currentValue:98.5,previousValue:98.1,format:"percentage",color:"#3b82f6"})]}),e.jsxs(ne,{className:"shadow-md",children:[e.jsxs(ve,{children:[e.jsx(ye,{className:r?"text-lg":"",children:"ltimas Movimentaes"}),e.jsx(bt,{className:r?"text-sm":"",children:"Operaes mais recentes no sistema"})]}),e.jsx(oe,{children:l.length===0?e.jsx("p",{className:`
              text-muted-foreground text-center py-8
              ${r?"text-sm":""}
            `,children:"Nenhuma movimentao registrada ainda"}):e.jsx("div",{className:"space-y-4",children:l.map(M=>{var Q,P,C;return e.jsxs("div",{className:`
                    flex items-center justify-between border border-border rounded-lg hover:bg-muted/50 transition-colors
                    ${r?"p-3 flex-col gap-2":"p-4"}
                  `,children:[e.jsxs("div",{className:`${r?"w-full":"flex-1"}`,children:[e.jsxs("div",{className:`
                      flex items-center gap-2 mb-1
                      ${r?"flex-wrap":""}
                    `,children:[e.jsx(we,{variant:L(M.tipo),children:D(M.tipo)}),e.jsx("span",{className:`font-medium ${r?"text-sm":""}`,children:(Q=M.produtos)==null?void 0:Q.sku})]}),e.jsx("p",{className:`text-muted-foreground ${r?"text-xs":"text-sm"}`,children:(P=M.produtos)==null?void 0:P.nome}),e.jsxs("p",{className:"text-muted-foreground mt-1 text-xs",children:["Por ",(C=M.profiles)==null?void 0:C.nome_completo," "," ",new Date(M.realizada_em).toLocaleString("pt-BR")]})]}),e.jsx("div",{className:`text-right ${r?"w-full text-center":""}`,children:e.jsxs("p",{className:`font-semibold ${r?"text-sm":""}`,children:[M.quantidade," UN"]})})]},M.id)})})})]}),e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:`
            flex items-center gap-2
            ${r?"text-lg flex-col text-center":""}
          `,children:[e.jsx(yt,{className:"h-5 w-5"}),"Alertas de Estoque"]}),e.jsx(bt,{className:r?"text-sm text-center":"",children:"Monitoramento de alertas crticos e produtos que requerem ateno"})]}),e.jsx(oe,{children:e.jsx(Og,{})})]})]})},de=d.forwardRef(({className:t,type:s,...r},a)=>e.jsx("input",{type:s,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r}));de.displayName="Input";var Lg="Label",Eu=d.forwardRef((t,s)=>e.jsx(ke.label,{...t,ref:s,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Eu.displayName=Lg;var Tu=Eu;const Vg=la("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=d.forwardRef(({className:t,...s},r)=>e.jsx(Tu,{ref:r,className:q(Vg(),t),...s}));Ye.displayName=Tu.displayName;const Fg="/armazem-vivo/assets/armazem-inteligente-tablet-DsQ7LgDW.jpg",qg=`
@keyframes float {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-10vh) rotate(720deg);
    opacity: 0;
  }
}
`,Ru=document.createElement("style");Ru.textContent=qg;document.head.appendChild(Ru);const zg=()=>{const[t,s]=d.useState(!1),[r,a]=d.useState(!0),[n,o]=d.useState(""),[i,l]=d.useState(""),[c,m]=d.useState(""),[h,p]=d.useState("login"),b=Oo(),v=hr(),w=Mt();if(d.useEffect(()=>{const j=async()=>{var y,g;try{const{data:{session:N}}=await ie.auth.getSession();if(N){let D=null;try{D=sessionStorage.getItem("auth:redirectTo")}catch{}const L=((g=(y=v.state)==null?void 0:y.from)==null?void 0:g.pathname)||D||"/";if(b(L,{replace:!0}),D)try{sessionStorage.removeItem("auth:redirectTo")}catch{}}}catch(N){console.error("Erro ao verificar autenticao:",N)}finally{a(!1)}},{data:{subscription:f}}=ie.auth.onAuthStateChange((y,g)=>{y==="SIGNED_IN"&&g&&setTimeout(()=>{var L,$;let N=null;try{N=sessionStorage.getItem("auth:redirectTo")}catch{}const D=(($=(L=v.state)==null?void 0:L.from)==null?void 0:$.pathname)||N||"/";if(b(D,{replace:!0}),N)try{sessionStorage.removeItem("auth:redirectTo")}catch{}},100)});return j(),()=>f.unsubscribe()},[b,v]),r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_a,{className:"h-8 w-8 animate-spin mx-auto text-indigo-600"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando..."})]})});const x=async j=>{if(j.preventDefault(),!n.trim()||!i.trim()){Ne.error("Por favor, preencha todos os campos");return}s(!0);try{const{data:f,error:y}=await ie.auth.signInWithPassword({email:n.trim(),password:i});if(y)throw y.message.includes("Invalid login credentials")?new Error("E-mail ou senha incorretos"):y;f.user&&Ne.success("Login realizado com sucesso!")}catch(f){Ne.error(f.message||"Erro ao fazer login")}finally{s(!1)}},u=async j=>{if(j.preventDefault(),!n.trim()||!i.trim()||!c.trim()){Ne.error("Por favor, preencha todos os campos");return}if(i.length<6){Ne.error("A senha deve ter pelo menos 6 caracteres");return}s(!0);try{const{data:f,error:y}=await ie.auth.signUp({email:n.trim(),password:i,options:{data:{nome_completo:c.trim()},emailRedirectTo:`${window.location.origin}/`}});if(y)throw y.message.includes("User already registered")?new Error("Este e-mail j est cadastrado"):y;f.user&&(Ne.success("Conta criada com sucesso! Voc j pode fazer login."),o(""),l(""),m(""))}catch(f){Ne.error(f.message||"Erro ao criar conta")}finally{s(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:`url(${Fg})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a192f]/90 via-[#0a192f]/75 to-[#0a192f]/90 z-[1]"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden z-[2]",children:Array.from({length:12}).map((j,f)=>e.jsx("div",{className:"absolute bg-white/20 rounded-full",style:{width:`${Math.floor(Math.random()*5)+3}px`,height:`${Math.floor(Math.random()*5)+3}px`,left:`${Math.floor(Math.random()*100)}%`,animation:`float ${Math.floor(Math.random()*25)+15}s infinite linear`,animationDelay:`-${Math.floor(Math.random()*12)}s`}},f))}),e.jsxs("div",{className:`
        w-full bg-white rounded-2xl shadow-xl overflow-hidden relative z-[3]
        ${w?"max-w-sm":"max-w-md"}
      `,children:[e.jsxs("div",{className:`
          text-center bg-gradient-to-r from-indigo-500 to-purple-600 text-white
          ${w?"p-6":"p-8"}
        `,children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:e.jsx(gr,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:`font-bold text-white mt-4 ${w?"text-2xl":"text-3xl"}`,children:"Sistema WMS"}),e.jsx("p",{className:`text-indigo-100 mt-1 ${w?"text-sm":"text-base"}`,children:"Gesto Inteligente de Almoxarifado"})]}),e.jsxs("div",{className:"flex border-b bg-gray-50",children:[e.jsx("button",{className:`
              w-1/2 font-semibold text-center transition-all duration-300 border-b-2
              ${w?"py-3 text-sm":"py-4 text-base"}
              ${h==="login"?"text-indigo-600 border-indigo-600 bg-white":"text-gray-500 border-transparent hover:text-gray-700"}
            `,onClick:()=>p("login"),children:"Entrar"}),e.jsx("button",{className:`
              w-1/2 font-semibold text-center transition-all duration-300 border-b-2
              ${w?"py-3 text-sm":"py-4 text-base"}
              ${h==="register"?"text-indigo-600 border-indigo-600 bg-white":"text-gray-500 border-transparent hover:text-gray-700"}
            `,onClick:()=>p("register"),children:"Cadastrar"})]}),e.jsx("div",{className:w?"p-6":"p-8",children:h==="login"?e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(Ye,{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"E-mail"}),e.jsx(de,{type:"email",id:"email",className:`
                    w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all
                    ${w?"px-3 py-2.5 text-base":"px-4 py-3"}
                  `,value:n,onChange:j=>o(j.target.value),required:!0,autoComplete:"email"})]}),e.jsxs("div",{children:[e.jsx(Ye,{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700",children:"Senha"}),e.jsx(de,{type:"password",id:"password",className:`
                    w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all
                    ${w?"px-3 py-2.5 text-base":"px-4 py-3"}
                  `,value:i,onChange:j=>l(j.target.value),required:!0,autoComplete:"current-password"})]}),e.jsx(le,{type:"submit",className:`
                  w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 
                  text-white font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 
                  focus:ring-indigo-500 transition-all duration-300 shadow-lg hover:shadow-xl
                  ${w?"py-2.5 text-base":"py-3"}
                `,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]}):e.jsxs("form",{onSubmit:u,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(Ye,{htmlFor:"nome",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nome Completo"}),e.jsx(de,{type:"text",id:"nome",className:`
                    w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all
                    ${w?"px-3 py-2.5 text-base":"px-4 py-3"}
                  `,value:c,onChange:j=>m(j.target.value),required:!0,autoComplete:"name"})]}),e.jsxs("div",{children:[e.jsx(Ye,{htmlFor:"email-register",className:"block mb-2 text-sm font-medium text-gray-700",children:"E-mail"}),e.jsx(de,{type:"email",id:"email-register",className:`
                    w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all
                    ${w?"px-3 py-2.5 text-base":"px-4 py-3"}
                  `,value:n,onChange:j=>o(j.target.value),required:!0,autoComplete:"email"})]}),e.jsxs("div",{children:[e.jsx(Ye,{htmlFor:"password-register",className:"block mb-2 text-sm font-medium text-gray-700",children:"Senha (mnimo 6 caracteres)"}),e.jsx(de,{type:"password",id:"password-register",className:`
                    w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all
                    ${w?"px-3 py-2.5 text-base":"px-4 py-3"}
                  `,value:i,onChange:j=>l(j.target.value),required:!0,minLength:6,autoComplete:"new-password"})]}),e.jsx(le,{type:"submit",className:`
                  w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 
                  text-white font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 
                  focus:ring-indigo-500 transition-all duration-300 shadow-lg hover:shadow-xl
                  ${w?"py-2.5 text-base":"py-3"}
                `,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]})}),e.jsx("div",{className:`
          text-center text-gray-500 bg-gray-50 border-t
          ${w?"py-4 px-6 text-xs":"py-6 px-8 text-sm"}
        `,children:e.jsx("p",{children:" 2024 Sistema WMS - Gesto Inteligente"})})]})]})},zs=$m,Bs=Lm,Bg=d.forwardRef(({className:t,inset:s,children:r,...a},n)=>e.jsxs(Ll,{ref:n,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",s&&"pl-8",t),...a,children:[r,e.jsx(_h,{className:"ml-auto h-4 w-4"})]}));Bg.displayName=Ll.displayName;const Ug=d.forwardRef(({className:t,...s},r)=>e.jsx(Vl,{ref:r,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Ug.displayName=Vl.displayName;const hs=d.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(Om,{children:e.jsx(Fl,{ref:a,sideOffset:s,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));hs.displayName=Fl.displayName;const Ue=d.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(ql,{ref:a,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s&&"pl-8",t),...r}));Ue.displayName=ql.displayName;const Hg=d.forwardRef(({className:t,children:s,checked:r,...a},n)=>e.jsxs(zl,{ref:n,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Bl,{children:e.jsx(vr,{className:"h-4 w-4"})})}),s]}));Hg.displayName=zl.displayName;const Gg=d.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Ul,{ref:a,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Bl,{children:e.jsx(kh,{className:"h-2 w-2 fill-current"})})}),s]}));Gg.displayName=Ul.displayName;const Wg=d.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(Hl,{ref:a,className:q("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));Wg.displayName=Hl.displayName;const Zg=d.forwardRef(({className:t,...s},r)=>e.jsx(Gl,{ref:r,className:q("-mx-1 my-1 h-px bg-muted",t),...s}));Zg.displayName=Gl.displayName;var Pu="AlertDialog",[Kg,Qy]=Gs(Pu,[Wl]),ps=Wl(),Au=t=>{const{__scopeAlertDialog:s,...r}=t,a=ps(s);return e.jsx(Dl,{...a,...r,modal:!0})};Au.displayName=Pu;var Qg="AlertDialogTrigger",Yg=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=ps(r);return e.jsx(Ol,{...n,...a,ref:s})});Yg.displayName=Qg;var Xg="AlertDialogPortal",Mu=t=>{const{__scopeAlertDialog:s,...r}=t,a=ps(s);return e.jsx(Il,{...a,...r})};Mu.displayName=Xg;var Jg="AlertDialogOverlay",Iu=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=ps(r);return e.jsx(xo,{...n,...a,ref:s})});Iu.displayName=Jg;var br="AlertDialogContent",[ev,tv]=Kg(br),sv=Rl("AlertDialogContent"),Du=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:a,...n}=t,o=ps(r),i=d.useRef(null),l=nt(s,i),c=d.useRef(null);return e.jsx(Vm,{contentName:br,titleName:Ou,docsSlug:"alert-dialog",children:e.jsx(ev,{scope:r,cancelRef:c,children:e.jsxs(go,{role:"alertdialog",...o,...n,ref:l,onOpenAutoFocus:je(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(sv,{children:a}),e.jsx(av,{contentRef:i})]})})})});Du.displayName=br;var Ou="AlertDialogTitle",$u=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=ps(r);return e.jsx(yo,{...n,...a,ref:s})});$u.displayName=Ou;var Lu="AlertDialogDescription",Vu=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=ps(r);return e.jsx(bo,{...n,...a,ref:s})});Vu.displayName=Lu;var rv="AlertDialogAction",Fu=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=ps(r);return e.jsx(vo,{...n,...a,ref:s})});Fu.displayName=rv;var qu="AlertDialogCancel",zu=d.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:n}=tv(qu,r),o=ps(r),i=nt(s,n);return e.jsx(vo,{...o,...a,ref:i})});zu.displayName=qu;var av=({contentRef:t})=>{const s=`\`${br}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${br}\` by passing a \`${Lu}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${br}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},nv=Au,ov=Mu,Bu=Iu,Uu=Du,Hu=Fu,Gu=zu,Wu=$u,Zu=Vu;const Go=nv,iv=ov,Ku=d.forwardRef(({className:t,...s},r)=>e.jsx(Bu,{className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Ku.displayName=Bu.displayName;const mn=d.forwardRef(({className:t,...s},r)=>e.jsxs(iv,{children:[e.jsx(Ku,{}),e.jsx(Uu,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));mn.displayName=Uu.displayName;const hn=({className:t,...s})=>e.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...s});hn.displayName="AlertDialogHeader";const fn=({className:t,...s})=>e.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});fn.displayName="AlertDialogFooter";const pn=d.forwardRef(({className:t,...s},r)=>e.jsx(Wu,{ref:r,className:q("text-lg font-semibold",t),...s}));pn.displayName=Wu.displayName;const xn=d.forwardRef(({className:t,...s},r)=>e.jsx(Zu,{ref:r,className:q("text-sm text-muted-foreground",t),...s}));xn.displayName=Zu.displayName;const gn=d.forwardRef(({className:t,...s},r)=>e.jsx(Hu,{ref:r,className:q($o(),t),...s}));gn.displayName=Hu.displayName;const vn=d.forwardRef(({className:t,...s},r)=>e.jsx(Gu,{ref:r,className:q($o({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));vn.displayName=Gu.displayName;var ua=t=>t.type==="checkbox",Js=t=>t instanceof Date,ft=t=>t==null;const Qu=t=>typeof t=="object";var tt=t=>!ft(t)&&!Array.isArray(t)&&Qu(t)&&!Js(t),Yu=t=>tt(t)&&t.target?ua(t.target)?t.target.checked:t.target.value:t,lv=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Xu=(t,s)=>t.has(lv(s)),cv=t=>{const s=t.constructor&&t.constructor.prototype;return tt(s)&&s.hasOwnProperty("isPrototypeOf")},Wo=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ot(t){let s;const r=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(Wo&&(t instanceof Blob||a))&&(r||tt(t)))if(s=r?[]:{},!r&&!cv(t))s=t;else for(const n in t)t.hasOwnProperty(n)&&(s[n]=ot(t[n]));else return t;return s}var yn=t=>/^\w*$/.test(t),et=t=>t===void 0,Zo=t=>Array.isArray(t)?t.filter(Boolean):[],Ko=t=>Zo(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Z=(t,s,r)=>{if(!s||!tt(t))return r;const a=(yn(s)?[s]:Ko(s)).reduce((n,o)=>ft(n)?n:n[o],t);return et(a)||a===t?et(t[s])?r:t[s]:a},jt=t=>typeof t=="boolean",qe=(t,s,r)=>{let a=-1;const n=yn(s)?[s]:Ko(s),o=n.length,i=o-1;for(;++a<o;){const l=n[a];let c=r;if(a!==i){const m=t[l];c=tt(m)||Array.isArray(m)?m:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Oa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ut={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Qo=A.createContext(null);Qo.displayName="HookFormContext";const bn=()=>A.useContext(Qo),dv=t=>{const{children:s,...r}=t;return A.createElement(Qo.Provider,{value:r},s)};var Ju=(t,s,r,a=!0)=>{const n={defaultValues:s._defaultValues};for(const o in t)Object.defineProperty(n,o,{get:()=>{const i=o;return s._proxyFormState[i]!==Ut.all&&(s._proxyFormState[i]=!a||Ut.all),r&&(r[i]=!0),t[i]}});return n};const Yo=typeof window<"u"?A.useLayoutEffect:A.useEffect;function uv(t){const s=bn(),{control:r=s.control,disabled:a,name:n,exact:o}=t||{},[i,l]=A.useState(r._formState),c=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Yo(()=>r._subscribe({name:n,formState:c.current,exact:o,callback:m=>{!a&&l({...r._formState,...m})}}),[n,a,o]),A.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),A.useMemo(()=>Ju(i,r,c.current,!1),[i,r])}var ts=t=>typeof t=="string",em=(t,s,r,a,n)=>ts(t)?(a&&s.watch.add(t),Z(r,t,n)):Array.isArray(t)?t.map(o=>(a&&s.watch.add(o),Z(r,o))):(a&&(s.watchAll=!0),r),oo=t=>ft(t)||!Qu(t);function ds(t,s,r=new WeakSet){if(oo(t)||oo(s))return t===s;if(Js(t)&&Js(s))return t.getTime()===s.getTime();const a=Object.keys(t),n=Object.keys(s);if(a.length!==n.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const o of a){const i=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=s[o];if(Js(i)&&Js(l)||tt(i)&&tt(l)||Array.isArray(i)&&Array.isArray(l)?!ds(i,l,r):i!==l)return!1}}return!0}function mv(t){const s=bn(),{control:r=s.control,name:a,defaultValue:n,disabled:o,exact:i,compute:l}=t||{},c=A.useRef(n),m=A.useRef(l),h=A.useRef(void 0);m.current=l;const p=A.useMemo(()=>r._getWatch(a,c.current),[r,a]),[b,v]=A.useState(m.current?m.current(p):p);return Yo(()=>r._subscribe({name:a,formState:{values:!0},exact:i,callback:w=>{if(!o){const x=em(a,r._names,w.values||r._formValues,!1,c.current);if(m.current){const u=m.current(x);ds(u,h.current)||(v(u),h.current=u)}else v(x)}}}),[r,o,a,i]),A.useEffect(()=>r._removeUnmounted()),b}function hv(t){const s=bn(),{name:r,disabled:a,control:n=s.control,shouldUnregister:o,defaultValue:i}=t,l=Xu(n._names.array,r),c=A.useMemo(()=>Z(n._formValues,r,Z(n._defaultValues,r,i)),[n,r,i]),m=mv({control:n,name:r,defaultValue:c,exact:!0}),h=uv({control:n,name:r,exact:!0}),p=A.useRef(t),b=A.useRef(n.register(r,{...t.rules,value:m,...jt(t.disabled)?{disabled:t.disabled}:{}}));p.current=t;const v=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!Z(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Z(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Z(h.validatingFields,r)},error:{enumerable:!0,get:()=>Z(h.errors,r)}}),[h,r]),w=A.useCallback(f=>b.current.onChange({target:{value:Yu(f),name:r},type:Oa.CHANGE}),[r]),x=A.useCallback(()=>b.current.onBlur({target:{value:Z(n._formValues,r),name:r},type:Oa.BLUR}),[r,n._formValues]),u=A.useCallback(f=>{const y=Z(n._fields,r);y&&f&&(y._f.ref={focus:()=>f.focus&&f.focus(),select:()=>f.select&&f.select(),setCustomValidity:g=>f.setCustomValidity(g),reportValidity:()=>f.reportValidity()})},[n._fields,r]),j=A.useMemo(()=>({name:r,value:m,...jt(a)||h.disabled?{disabled:h.disabled||a}:{},onChange:w,onBlur:x,ref:u}),[r,a,h.disabled,w,x,u,m]);return A.useEffect(()=>{const f=n._options.shouldUnregister||o;n.register(r,{...p.current.rules,...jt(p.current.disabled)?{disabled:p.current.disabled}:{}});const y=(g,N)=>{const D=Z(n._fields,g);D&&D._f&&(D._f.mount=N)};if(y(r,!0),f){const g=ot(Z(n._options.defaultValues,r));qe(n._defaultValues,r,g),et(Z(n._formValues,r))&&qe(n._formValues,r,g)}return!l&&n.register(r),()=>{(l?f&&!n._state.action:f)?n.unregister(r):y(r,!1)}},[r,n,l,o]),A.useEffect(()=>{n._setDisabledField({disabled:a,name:r})},[a,r,n]),A.useMemo(()=>({field:j,formState:h,fieldState:v}),[j,h,v])}const fv=t=>t.render(hv(t));var tm=(t,s,r,a,n)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:n||!0}}:{},Wr=t=>Array.isArray(t)?t:[t],Vi=()=>{let t=[];return{get observers(){return t},next:n=>{for(const o of t)o.next&&o.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(o=>o!==n)}}),unsubscribe:()=>{t=[]}}},gt=t=>tt(t)&&!Object.keys(t).length,Xo=t=>t.type==="file",Ht=t=>typeof t=="function",$a=t=>{if(!Wo)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},sm=t=>t.type==="select-multiple",Jo=t=>t.type==="radio",pv=t=>Jo(t)||ua(t),$n=t=>$a(t)&&t.isConnected;function xv(t,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)t=et(t)?a++:t[s[a++]];return t}function gv(t){for(const s in t)if(t.hasOwnProperty(s)&&!et(t[s]))return!1;return!0}function st(t,s){const r=Array.isArray(s)?s:yn(s)?[s]:Ko(s),a=r.length===1?t:xv(t,r),n=r.length-1,o=r[n];return a&&delete a[o],n!==0&&(tt(a)&&gt(a)||Array.isArray(a)&&gv(a))&&st(t,r.slice(0,-1)),t}var rm=t=>{for(const s in t)if(Ht(t[s]))return!0;return!1};function La(t,s={}){const r=Array.isArray(t);if(tt(t)||r)for(const a in t)Array.isArray(t[a])||tt(t[a])&&!rm(t[a])?(s[a]=Array.isArray(t[a])?[]:{},La(t[a],s[a])):ft(t[a])||(s[a]=!0);return s}function am(t,s,r){const a=Array.isArray(t);if(tt(t)||a)for(const n in t)Array.isArray(t[n])||tt(t[n])&&!rm(t[n])?et(s)||oo(r[n])?r[n]=Array.isArray(t[n])?La(t[n],[]):{...La(t[n])}:am(t[n],ft(s)?{}:s[n],r[n]):r[n]=!ds(t[n],s[n]);return r}var zr=(t,s)=>am(t,s,La(s));const Fi={value:!1,isValid:!1},qi={value:!0,isValid:!0};var nm=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?qi:{value:t[0].value,isValid:!0}:qi:Fi}return Fi},om=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>et(t)?t:s?t===""?NaN:t&&+t:r&&ts(t)?new Date(t):a?a(t):t;const zi={isValid:!1,value:null};var im=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,zi):zi;function Bi(t){const s=t.ref;return Xo(s)?s.files:Jo(s)?im(t.refs).value:sm(s)?[...s.selectedOptions].map(({value:r})=>r):ua(s)?nm(t.refs).value:om(et(s.value)?t.ref.value:s.value,t)}var vv=(t,s,r,a)=>{const n={};for(const o of t){const i=Z(s,o);i&&qe(n,o,i._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:a}},Va=t=>t instanceof RegExp,Br=t=>et(t)?t:Va(t)?t.source:tt(t)?Va(t.value)?t.value.source:t.value:t,Ui=t=>({isOnSubmit:!t||t===Ut.onSubmit,isOnBlur:t===Ut.onBlur,isOnChange:t===Ut.onChange,isOnAll:t===Ut.all,isOnTouch:t===Ut.onTouched});const Hi="AsyncFunction";var yv=t=>!!t&&!!t.validate&&!!(Ht(t.validate)&&t.validate.constructor.name===Hi||tt(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===Hi)),bv=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Gi=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const Zr=(t,s,r,a)=>{for(const n of r||Object.keys(t)){const o=Z(t,n);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&s(i.refs[0],n)&&!a)return!0;if(i.ref&&s(i.ref,i.name)&&!a)return!0;if(Zr(l,s))break}else if(tt(l)&&Zr(l,s))break}}};function Wi(t,s,r){const a=Z(t,r);if(a||yn(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),i=Z(s,o),l=Z(t,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};if(l&&l.root&&l.root.type)return{name:`${o}.root`,error:l.root};n.pop()}return{name:r}}var jv=(t,s,r,a)=>{r(t);const{name:n,...o}=t;return gt(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(i=>s[i]===(!a||Ut.all))},wv=(t,s,r)=>!t||!s||t===s||Wr(t).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),Nv=(t,s,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(s||t):(r?a.isOnBlur:n.isOnBlur)?!t:(r?a.isOnChange:n.isOnChange)?t:!0,_v=(t,s)=>!Zo(Z(t,s)).length&&st(t,s),Cv=(t,s,r)=>{const a=Wr(Z(t,r));return qe(a,"root",s[r]),qe(t,r,a),t},ka=t=>ts(t);function Zi(t,s,r="validate"){if(ka(t)||Array.isArray(t)&&t.every(ka)||jt(t)&&!t)return{type:r,message:ka(t)?t:"",ref:s}}var pr=t=>tt(t)&&!Va(t)?t:{value:t,message:""},Ki=async(t,s,r,a,n,o)=>{const{ref:i,refs:l,required:c,maxLength:m,minLength:h,min:p,max:b,pattern:v,validate:w,name:x,valueAsNumber:u,mount:j}=t._f,f=Z(r,x);if(!j||s.has(x))return{};const y=l?l[0]:i,g=C=>{n&&y.reportValidity&&(y.setCustomValidity(jt(C)?"":C||""),y.reportValidity())},N={},D=Jo(i),L=ua(i),$=D||L,M=(u||Xo(i))&&et(i.value)&&et(f)||$a(i)&&i.value===""||f===""||Array.isArray(f)&&!f.length,Q=tm.bind(null,x,a,N),P=(C,V,E,W=is.maxLength,K=is.minLength)=>{const S=C?V:E;N[x]={type:C?W:K,message:S,ref:i,...Q(C?W:K,S)}};if(o?!Array.isArray(f)||!f.length:c&&(!$&&(M||ft(f))||jt(f)&&!f||L&&!nm(l).isValid||D&&!im(l).isValid)){const{value:C,message:V}=ka(c)?{value:!!c,message:c}:pr(c);if(C&&(N[x]={type:is.required,message:V,ref:y,...Q(is.required,V)},!a))return g(V),N}if(!M&&(!ft(p)||!ft(b))){let C,V;const E=pr(b),W=pr(p);if(!ft(f)&&!isNaN(f)){const K=i.valueAsNumber||f&&+f;ft(E.value)||(C=K>E.value),ft(W.value)||(V=K<W.value)}else{const K=i.valueAsDate||new Date(f),S=U=>new Date(new Date().toDateString()+" "+U),R=i.type=="time",k=i.type=="week";ts(E.value)&&f&&(C=R?S(f)>S(E.value):k?f>E.value:K>new Date(E.value)),ts(W.value)&&f&&(V=R?S(f)<S(W.value):k?f<W.value:K<new Date(W.value))}if((C||V)&&(P(!!C,E.message,W.message,is.max,is.min),!a))return g(N[x].message),N}if((m||h)&&!M&&(ts(f)||o&&Array.isArray(f))){const C=pr(m),V=pr(h),E=!ft(C.value)&&f.length>+C.value,W=!ft(V.value)&&f.length<+V.value;if((E||W)&&(P(E,C.message,V.message),!a))return g(N[x].message),N}if(v&&!M&&ts(f)){const{value:C,message:V}=pr(v);if(Va(C)&&!f.match(C)&&(N[x]={type:is.pattern,message:V,ref:i,...Q(is.pattern,V)},!a))return g(V),N}if(w){if(Ht(w)){const C=await w(f,r),V=Zi(C,y);if(V&&(N[x]={...V,...Q(is.validate,V.message)},!a))return g(V.message),N}else if(tt(w)){let C={};for(const V in w){if(!gt(C)&&!a)break;const E=Zi(await w[V](f,r),y,V);E&&(C={...E,...Q(V,E.message)},g(E.message),a&&(N[x]=C))}if(!gt(C)&&(N[x]={ref:y,...C},!a))return N}}return g(!0),N};const Sv={mode:Ut.onSubmit,reValidateMode:Ut.onChange,shouldFocusError:!0};function kv(t={}){let s={...Sv,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ht(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},n=tt(s.defaultValues)||tt(s.values)?ot(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:ot(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const b={array:Vi(),state:Vi()},v=s.criteriaMode===Ut.all,w=_=>T=>{clearTimeout(m),m=setTimeout(_,T)},x=async _=>{if(!s.disabled&&(h.isValid||p.isValid||_)){const T=s.resolver?gt((await L()).errors):await M(a,!0);T!==r.isValid&&b.state.next({isValid:T})}},u=(_,T)=>{!s.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((_||Array.from(l.mount)).forEach(I=>{I&&(T?qe(r.validatingFields,I,T):st(r.validatingFields,I))}),b.state.next({validatingFields:r.validatingFields,isValidating:!gt(r.validatingFields)}))},j=(_,T=[],I,G,B=!0,z=!0)=>{if(G&&I&&!s.disabled){if(i.action=!0,z&&Array.isArray(Z(a,_))){const J=I(Z(a,_),G.argA,G.argB);B&&qe(a,_,J)}if(z&&Array.isArray(Z(r.errors,_))){const J=I(Z(r.errors,_),G.argA,G.argB);B&&qe(r.errors,_,J),_v(r.errors,_)}if((h.touchedFields||p.touchedFields)&&z&&Array.isArray(Z(r.touchedFields,_))){const J=I(Z(r.touchedFields,_),G.argA,G.argB);B&&qe(r.touchedFields,_,J)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=zr(n,o)),b.state.next({name:_,isDirty:P(_,T),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qe(o,_,T)},f=(_,T)=>{qe(r.errors,_,T),b.state.next({errors:r.errors})},y=_=>{r.errors=_,b.state.next({errors:r.errors,isValid:!1})},g=(_,T,I,G)=>{const B=Z(a,_);if(B){const z=Z(o,_,et(I)?Z(n,_):I);et(z)||G&&G.defaultChecked||T?qe(o,_,T?z:Bi(B._f)):E(_,z),i.mount&&x()}},N=(_,T,I,G,B)=>{let z=!1,J=!1;const Se={name:_};if(!s.disabled){if(!I||G){(h.isDirty||p.isDirty)&&(J=r.isDirty,r.isDirty=Se.isDirty=P(),z=J!==Se.isDirty);const ze=ds(Z(n,_),T);J=!!Z(r.dirtyFields,_),ze?st(r.dirtyFields,_):qe(r.dirtyFields,_,!0),Se.dirtyFields=r.dirtyFields,z=z||(h.dirtyFields||p.dirtyFields)&&J!==!ze}if(I){const ze=Z(r.touchedFields,_);ze||(qe(r.touchedFields,_,I),Se.touchedFields=r.touchedFields,z=z||(h.touchedFields||p.touchedFields)&&ze!==I)}z&&B&&b.state.next(Se)}return z?Se:{}},D=(_,T,I,G)=>{const B=Z(r.errors,_),z=(h.isValid||p.isValid)&&jt(T)&&r.isValid!==T;if(s.delayError&&I?(c=w(()=>f(_,I)),c(s.delayError)):(clearTimeout(m),c=null,I?qe(r.errors,_,I):st(r.errors,_)),(I?!ds(B,I):B)||!gt(G)||z){const J={...G,...z&&jt(T)?{isValid:T}:{},errors:r.errors,name:_};r={...r,...J},b.state.next(J)}},L=async _=>{u(_,!0);const T=await s.resolver(o,s.context,vv(_||l.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return u(_),T},$=async _=>{const{errors:T}=await L(_);if(_)for(const I of _){const G=Z(T,I);G?qe(r.errors,I,G):st(r.errors,I)}else r.errors=T;return T},M=async(_,T,I={valid:!0})=>{for(const G in _){const B=_[G];if(B){const{_f:z,...J}=B;if(z){const Se=l.array.has(z.name),ze=B._f&&yv(B._f);ze&&h.validatingFields&&u([G],!0);const xt=await Ki(B,l.disabled,o,v,s.shouldUseNativeValidation&&!T,Se);if(ze&&h.validatingFields&&u([G]),xt[z.name]&&(I.valid=!1,T))break;!T&&(Z(xt,z.name)?Se?Cv(r.errors,xt,z.name):qe(r.errors,z.name,xt[z.name]):st(r.errors,z.name))}!gt(J)&&await M(J,T,I)}}return I.valid},Q=()=>{for(const _ of l.unMount){const T=Z(a,_);T&&(T._f.refs?T._f.refs.every(I=>!$n(I)):!$n(T._f.ref))&&H(_)}l.unMount=new Set},P=(_,T)=>!s.disabled&&(_&&T&&qe(o,_,T),!ds(U(),n)),C=(_,T,I)=>em(_,l,{...i.mount?o:et(T)?n:ts(_)?{[_]:T}:T},I,T),V=_=>Zo(Z(i.mount?o:n,_,s.shouldUnregister?Z(n,_,[]):[])),E=(_,T,I={})=>{const G=Z(a,_);let B=T;if(G){const z=G._f;z&&(!z.disabled&&qe(o,_,om(T,z)),B=$a(z.ref)&&ft(T)?"":T,sm(z.ref)?[...z.ref.options].forEach(J=>J.selected=B.includes(J.value)):z.refs?ua(z.ref)?z.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(B)?J.checked=!!B.find(Se=>Se===J.value):J.checked=B===J.value||!!B)}):z.refs.forEach(J=>J.checked=J.value===B):Xo(z.ref)?z.ref.value="":(z.ref.value=B,z.ref.type||b.state.next({name:_,values:ot(o)})))}(I.shouldDirty||I.shouldTouch)&&N(_,B,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&k(_)},W=(_,T,I)=>{for(const G in T){if(!T.hasOwnProperty(G))return;const B=T[G],z=_+"."+G,J=Z(a,z);(l.array.has(_)||tt(B)||J&&!J._f)&&!Js(B)?W(z,B,I):E(z,B,I)}},K=(_,T,I={})=>{const G=Z(a,_),B=l.array.has(_),z=ot(T);qe(o,_,z),B?(b.array.next({name:_,values:ot(o)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&I.shouldDirty&&b.state.next({name:_,dirtyFields:zr(n,o),isDirty:P(_,z)})):G&&!G._f&&!ft(z)?W(_,z,I):E(_,z,I),Gi(_,l)&&b.state.next({...r,name:_}),b.state.next({name:i.mount?_:void 0,values:ot(o)})},S=async _=>{i.mount=!0;const T=_.target;let I=T.name,G=!0;const B=Z(a,I),z=ze=>{G=Number.isNaN(ze)||Js(ze)&&isNaN(ze.getTime())||ds(ze,Z(o,I,ze))},J=Ui(s.mode),Se=Ui(s.reValidateMode);if(B){let ze,xt;const as=T.type?Bi(B._f):Yu(_),Qt=_.type===Oa.BLUR||_.type===Oa.FOCUS_OUT,pa=!bv(B._f)&&!s.resolver&&!Z(r.errors,I)&&!B._f.deps||Nv(Qt,Z(r.touchedFields,I),r.isSubmitted,Se,J),Ys=Gi(I,l,Qt);qe(o,I,as),Qt?(B._f.onBlur&&B._f.onBlur(_),c&&c(0)):B._f.onChange&&B._f.onChange(_);const Yt=N(I,as,Qt),xa=!gt(Yt)||Ys;if(!Qt&&b.state.next({name:I,type:_.type,values:ot(o)}),pa)return(h.isValid||p.isValid)&&(s.mode==="onBlur"?Qt&&x():Qt||x()),xa&&b.state.next({name:I,...Ys?{}:Yt});if(!Qt&&Ys&&b.state.next({...r}),s.resolver){const{errors:ns}=await L([I]);if(z(as),G){const Sn=Wi(r.errors,a,I),ga=Wi(ns,a,Sn.name||I);ze=ga.error,I=ga.name,xt=gt(ns)}}else u([I],!0),ze=(await Ki(B,l.disabled,o,v,s.shouldUseNativeValidation))[I],u([I]),z(as),G&&(ze?xt=!1:(h.isValid||p.isValid)&&(xt=await M(a,!0)));G&&(B._f.deps&&k(B._f.deps),D(I,xt,ze,Yt))}},R=(_,T)=>{if(Z(r.errors,T)&&_.focus)return _.focus(),1},k=async(_,T={})=>{let I,G;const B=Wr(_);if(s.resolver){const z=await $(et(_)?_:B);I=gt(z),G=_?!B.some(J=>Z(z,J)):I}else _?(G=(await Promise.all(B.map(async z=>{const J=Z(a,z);return await M(J&&J._f?{[z]:J}:J)}))).every(Boolean),!(!G&&!r.isValid)&&x()):G=I=await M(a);return b.state.next({...!ts(_)||(h.isValid||p.isValid)&&I!==r.isValid?{}:{name:_},...s.resolver||!_?{isValid:I}:{},errors:r.errors}),T.shouldFocus&&!G&&Zr(a,R,_?B:l.mount),G},U=_=>{const T={...i.mount?o:n};return et(_)?T:ts(_)?Z(T,_):_.map(I=>Z(T,I))},te=(_,T)=>({invalid:!!Z((T||r).errors,_),isDirty:!!Z((T||r).dirtyFields,_),error:Z((T||r).errors,_),isValidating:!!Z(r.validatingFields,_),isTouched:!!Z((T||r).touchedFields,_)}),re=_=>{_&&Wr(_).forEach(T=>st(r.errors,T)),b.state.next({errors:_?r.errors:{}})},ce=(_,T,I)=>{const G=(Z(a,_,{_f:{}})._f||{}).ref,B=Z(r.errors,_)||{},{ref:z,message:J,type:Se,...ze}=B;qe(r.errors,_,{...ze,...T,ref:G}),b.state.next({name:_,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&G&&G.focus&&G.focus()},me=(_,T)=>Ht(_)?b.state.subscribe({next:I=>"values"in I&&_(C(void 0,T),I)}):C(_,T,!0),Le=_=>b.state.subscribe({next:T=>{wv(_.name,T.name,_.exact)&&jv(T,_.formState||h,Qs,_.reRenderRoot)&&_.callback({values:{...o},...r,...T,defaultValues:n})}}).unsubscribe,Ke=_=>(i.mount=!0,p={...p,..._.formState},Le({..._,formState:p})),H=(_,T={})=>{for(const I of _?Wr(_):l.mount)l.mount.delete(I),l.array.delete(I),T.keepValue||(st(a,I),st(o,I)),!T.keepError&&st(r.errors,I),!T.keepDirty&&st(r.dirtyFields,I),!T.keepTouched&&st(r.touchedFields,I),!T.keepIsValidating&&st(r.validatingFields,I),!s.shouldUnregister&&!T.keepDefaultValue&&st(n,I);b.state.next({values:ot(o)}),b.state.next({...r,...T.keepDirty?{isDirty:P()}:{}}),!T.keepIsValid&&x()},Ce=({disabled:_,name:T})=>{(jt(_)&&i.mount||_||l.disabled.has(T))&&(_?l.disabled.add(T):l.disabled.delete(T))},Qe=(_,T={})=>{let I=Z(a,_);const G=jt(T.disabled)||jt(s.disabled);return qe(a,_,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:_}},name:_,mount:!0,...T}}),l.mount.add(_),I?Ce({disabled:jt(T.disabled)?T.disabled:s.disabled,name:_}):g(_,!0,T.value),{...G?{disabled:T.disabled||s.disabled}:{},...s.progressive?{required:!!T.required,min:Br(T.min),max:Br(T.max),minLength:Br(T.minLength),maxLength:Br(T.maxLength),pattern:Br(T.pattern)}:{},name:_,onChange:S,onBlur:S,ref:B=>{if(B){Qe(_,T),I=Z(a,_);const z=et(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,J=pv(z),Se=I._f.refs||[];if(J?Se.find(ze=>ze===z):z===I._f.ref)return;qe(a,_,{_f:{...I._f,...J?{refs:[...Se.filter($n),z,...Array.isArray(Z(n,_))?[{}]:[]],ref:{type:z.type,name:_}}:{ref:z}}}),g(_,!1,void 0,z)}else I=Z(a,_,{}),I._f&&(I._f.mount=!1),(s.shouldUnregister||T.shouldUnregister)&&!(Xu(l.array,_)&&i.action)&&l.unMount.add(_)}}},Me=()=>s.shouldFocusError&&Zr(a,R,l.mount),Ee=_=>{jt(_)&&(b.state.next({disabled:_}),Zr(a,(T,I)=>{const G=Z(a,I);G&&(T.disabled=G._f.disabled||_,Array.isArray(G._f.refs)&&G._f.refs.forEach(B=>{B.disabled=G._f.disabled||_}))},0,!1))},Ie=(_,T)=>async I=>{let G;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let B=ot(o);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:z,values:J}=await L();r.errors=z,B=ot(J)}else await M(a);if(l.disabled.size)for(const z of l.disabled)st(B,z);if(st(r.errors,"root"),gt(r.errors)){b.state.next({errors:{}});try{await _(B,I)}catch(z){G=z}}else T&&await T({...r.errors},I),Me(),setTimeout(Me);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gt(r.errors)&&!G,submitCount:r.submitCount+1,errors:r.errors}),G)throw G},kt=(_,T={})=>{Z(a,_)&&(et(T.defaultValue)?K(_,ot(Z(n,_))):(K(_,T.defaultValue),qe(n,_,ot(T.defaultValue))),T.keepTouched||st(r.touchedFields,_),T.keepDirty||(st(r.dirtyFields,_),r.isDirty=T.defaultValue?P(_,ot(Z(n,_))):P()),T.keepError||(st(r.errors,_),h.isValid&&x()),b.state.next({...r}))},Et=(_,T={})=>{const I=_?ot(_):n,G=ot(I),B=gt(_),z=B?n:G;if(T.keepDefaultValues||(n=I),!T.keepValues){if(T.keepDirtyValues){const J=new Set([...l.mount,...Object.keys(zr(n,o))]);for(const Se of Array.from(J))Z(r.dirtyFields,Se)?qe(z,Se,Z(o,Se)):K(Se,Z(z,Se))}else{if(Wo&&et(_))for(const J of l.mount){const Se=Z(a,J);if(Se&&Se._f){const ze=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if($a(ze)){const xt=ze.closest("form");if(xt){xt.reset();break}}}}if(T.keepFieldsRef)for(const J of l.mount)K(J,Z(z,J));else a={}}o=s.shouldUnregister?T.keepDefaultValues?ot(n):{}:ot(z),b.array.next({values:{...z}}),b.state.next({values:{...z}})}l={mount:T.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!h.isValid||!!T.keepIsValid||!!T.keepDirtyValues,i.watch=!!s.shouldUnregister,b.state.next({submitCount:T.keepSubmitCount?r.submitCount:0,isDirty:B?!1:T.keepDirty?r.isDirty:!!(T.keepDefaultValues&&!ds(_,n)),isSubmitted:T.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:T.keepDirtyValues?T.keepDefaultValues&&o?zr(n,o):r.dirtyFields:T.keepDefaultValues&&_?zr(n,_):T.keepDirty?r.dirtyFields:{},touchedFields:T.keepTouched?r.touchedFields:{},errors:T.keepErrors?r.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xs=(_,T)=>Et(Ht(_)?_(o):_,T),gs=(_,T={})=>{const I=Z(a,_),G=I&&I._f;if(G){const B=G.refs?G.refs[0]:G.ref;B.focus&&(B.focus(),T.shouldSelect&&Ht(B.select)&&B.select())}},Qs=_=>{r={...r,..._}},fa={control:{register:Qe,unregister:H,getFieldState:te,handleSubmit:Ie,setError:ce,_subscribe:Le,_runSchema:L,_focusError:Me,_getWatch:C,_getDirty:P,_setValid:x,_setFieldArray:j,_setDisabledField:Ce,_setErrors:y,_getFieldArray:V,_reset:Et,_resetDefaultValues:()=>Ht(s.defaultValues)&&s.defaultValues().then(_=>{xs(_,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:Ee,_subjects:b,_proxyFormState:h,get _fields(){return a},get _formValues(){return o},get _state(){return i},set _state(_){i=_},get _defaultValues(){return n},get _names(){return l},set _names(_){l=_},get _formState(){return r},get _options(){return s},set _options(_){s={...s,..._}}},subscribe:Ke,trigger:k,register:Qe,handleSubmit:Ie,watch:me,setValue:K,getValues:U,reset:xs,resetField:kt,clearErrors:re,unregister:H,setError:ce,setFocus:gs,getFieldState:te};return{...fa,formControl:fa}}function jn(t={}){const s=A.useRef(void 0),r=A.useRef(void 0),[a,n]=A.useState({isDirty:!1,isValidating:!1,isLoading:Ht(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ht(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:a},t.defaultValues&&!Ht(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...l}=kv(t);s.current={...l,formState:a}}const o=s.current.control;return o._options=t,Yo(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),o._formState.isReady=!0,i},[o]),A.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),A.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),A.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),A.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),A.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==a.isDirty&&o._subjects.state.next({isDirty:i})}},[o,a.isDirty]),A.useEffect(()=>{t.values&&!ds(t.values,r.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=t.values,n(i=>({...i}))):o._resetDefaultValues()},[o,t.values]),A.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),s.current.formState=Ju(a,o),s.current}const Qi=(t,s,r)=>{if(t&&"reportValidity"in t){const a=Z(r,s);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},lm=(t,s)=>{for(const r in s.fields){const a=s.fields[r];a&&a.ref&&"reportValidity"in a.ref?Qi(a.ref,r,t):a.refs&&a.refs.forEach(n=>Qi(n,r,t))}},Ev=(t,s)=>{s.shouldUseNativeValidation&&lm(t,s);const r={};for(const a in t){const n=Z(s.fields,a),o=Object.assign(t[a]||{},{ref:n&&n.ref});if(Tv(s.names||Object.keys(t),a)){const i=Object.assign({},Z(r,a));qe(i,"root",o),qe(r,a,i)}else qe(r,a,o)}return r},Tv=(t,s)=>t.some(r=>r.startsWith(s+"."));var Rv=function(t,s){for(var r={};t.length;){var a=t[0],n=a.code,o=a.message,i=a.path.join(".");if(!r[i])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:o,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return t.push(p)})}),s){var c=r[i].types,m=c&&c[a.code];r[i]=tm(i,s,r,n,m?[].concat(m,a.message):a.message)}t.shift()}return r},wn=function(t,s,r){return r===void 0&&(r={}),function(a,n,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](a,s)).then(function(m){return o.shouldUseNativeValidation&&lm({},o),{errors:{},values:r.raw?a:m}})}catch(m){return l(m)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:Ev(Rv(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},$e;(function(t){t.assertEqual=n=>{};function s(n){}t.assertIs=s;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const o={};for(const i of n)o[i]=i;return o},t.getValidEnumValues=n=>{const o=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),i={};for(const l of o)i[l]=n[l];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(o){return n[o]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const o=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&o.push(i);return o},t.find=(n,o)=>{for(const i of n)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,o=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=a,t.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})($e||($e={}));var Yi;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(Yi||(Yi={}));const se=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ss=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},F=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(o){return o.message},a={_errors:[]},n=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)a._errors.push(r(i));else{let l=a,c=0;for(;c<i.path.length;){const m=i.path[c];c===i.path.length-1?(l[m]=l[m]||{_errors:[]},l[m]._errors.push(r(i))):l[m]=l[m]||{_errors:[]},l=l[m],c++}}};return n(this),a}static assert(s){if(!(s instanceof fs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},a=[];for(const n of this.issues)if(n.path.length>0){const o=n.path[0];r[o]=r[o]||[],r[o].push(s(n))}else a.push(s(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}fs.create=t=>new fs(t);const io=(t,s)=>{let r;switch(t.code){case F.invalid_type:t.received===se.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,$e.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${$e.joinValues(t.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$e.joinValues(t.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${$e.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:$e.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case F.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case F.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=s.defaultError,$e.assertNever(t)}return{message:r}};let Pv=io;function Av(){return Pv}const Mv=t=>{const{data:s,path:r,errorMaps:a,issueData:n}=t,o=[...r,...n.path||[]],i={...n,path:o};if(n.message!==void 0)return{...n,path:o,message:n.message};let l="";const c=a.filter(m=>!!m).slice().reverse();for(const m of c)l=m(i,{data:s,defaultError:l}).message;return{...n,path:o,message:l}};function X(t,s){const r=Av(),a=Mv({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===io?void 0:io].filter(n=>!!n)});t.common.issues.push(a)}class St{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const a=[];for(const n of r){if(n.status==="aborted")return fe;n.status==="dirty"&&s.dirty(),a.push(n.value)}return{status:s.value,value:a}}static async mergeObjectAsync(s,r){const a=[];for(const n of r){const o=await n.key,i=await n.value;a.push({key:o,value:i})}return St.mergeObjectSync(s,a)}static mergeObjectSync(s,r){const a={};for(const n of r){const{key:o,value:i}=n;if(o.status==="aborted"||i.status==="aborted")return fe;o.status==="dirty"&&s.dirty(),i.status==="dirty"&&s.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(a[o.value]=i.value)}return{status:s.value,value:a}}}const fe=Object.freeze({status:"aborted"}),Hr=t=>({status:"dirty",value:t}),It=t=>({status:"valid",value:t}),Xi=t=>t.status==="aborted",Ji=t=>t.status==="dirty",Rr=t=>t.status==="valid",Fa=t=>typeof Promise<"u"&&t instanceof Promise;var ae;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(ae||(ae={}));class Us{constructor(s,r,a,n){this._cachedPath=[],this.parent=s,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const el=(t,s)=>{if(Rr(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fs(t.common.issues);return this._error=r,this._error}}};function _e(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:a,description:n}=t;if(s&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:n}:{errorMap:(i,l)=>{const{message:c}=t;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class Ae{get description(){return this._def.description}_getType(s){return Ss(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Ss(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new St,ctx:{common:s.parent.common,data:s.data,parsedType:Ss(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(Fa(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const a=this.safeParse(s,r);if(a.success)return a.data;throw a.error}safeParse(s,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ss(s)},n=this._parseSync({data:s,path:a.path,parent:a});return el(a,n)}"~validate"(s){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ss(s)};if(!this["~standard"].async)try{const o=this._parseSync({data:s,path:[],parent:r});return Rr(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(n=(a=o==null?void 0:o.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(o=>Rr(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(s,r){const a=await this.safeParseAsync(s,r);if(a.success)return a.data;throw a.error}async safeParseAsync(s,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ss(s)},n=this._parse({data:s,path:a.path,parent:a}),o=await(Fa(n)?n:Promise.resolve(n));return el(a,o)}refine(s,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,o)=>{const i=s(n),l=()=>o.addIssue({code:F.custom,...a(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(s,r){return this._refinement((a,n)=>s(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(s){return new Mr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $s.create(this,this._def)}nullable(){return Ir.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ss.create(this)}promise(){return Ua.create(this,this._def)}or(s){return za.create([this,s],this._def)}and(s){return Ba.create(this,s,this._def)}transform(s){return new Mr({..._e(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new uo({..._e(this._def),innerType:this,defaultValue:r,typeName:pe.ZodDefault})}brand(){return new sy({typeName:pe.ZodBranded,type:this,..._e(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new mo({..._e(this._def),innerType:this,catchValue:r,typeName:pe.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return ei.create(this,s)}readonly(){return ho.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Iv=/^c[^\s-]{8,}$/i,Dv=/^[0-9a-z]+$/,Ov=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$v=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lv=/^[a-z0-9_-]{21}$/i,Vv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ln;const Bv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kv=new RegExp(`^${cm}$`);function dm(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function Qv(t){return new RegExp(`^${dm(t)}$`)}function Yv(t){let s=`${cm}T${dm(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function Xv(t,s){return!!((s==="v4"||!s)&&Bv.test(t)||(s==="v6"||!s)&&Hv.test(t))}function Jv(t,s){if(!Vv.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||s&&n.alg!==s)}catch{return!1}}function ey(t,s){return!!((s==="v4"||!s)&&Uv.test(t)||(s==="v6"||!s)&&Gv.test(t))}class Ms extends Ae{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==se.string){const o=this._getOrReturnCtx(s);return X(o,{code:F.invalid_type,expected:se.string,received:o.parsedType}),fe}const a=new St;let n;for(const o of this._def.checks)if(o.kind==="min")s.data.length<o.value&&(n=this._getOrReturnCtx(s,n),X(n,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="max")s.data.length>o.value&&(n=this._getOrReturnCtx(s,n),X(n,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="length"){const i=s.data.length>o.value,l=s.data.length<o.value;(i||l)&&(n=this._getOrReturnCtx(s,n),i?X(n,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&X(n,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if(o.kind==="email")qv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"email",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="emoji")Ln||(Ln=new RegExp(zv,"u")),Ln.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"emoji",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="uuid")$v.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"uuid",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="nanoid")Lv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"nanoid",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid")Iv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"cuid",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid2")Dv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"cuid2",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="ulid")Ov.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"ulid",code:F.invalid_string,message:o.message}),a.dirty());else if(o.kind==="url")try{new URL(s.data)}catch{n=this._getOrReturnCtx(s,n),X(n,{validation:"url",code:F.invalid_string,message:o.message}),a.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"regex",code:F.invalid_string,message:o.message}),a.dirty())):o.kind==="trim"?s.data=s.data.trim():o.kind==="includes"?s.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty()):o.kind==="toLowerCase"?s.data=s.data.toLowerCase():o.kind==="toUpperCase"?s.data=s.data.toUpperCase():o.kind==="startsWith"?s.data.startsWith(o.value)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty()):o.kind==="endsWith"?s.data.endsWith(o.value)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty()):o.kind==="datetime"?Yv(o).test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:"datetime",message:o.message}),a.dirty()):o.kind==="date"?Kv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:"date",message:o.message}),a.dirty()):o.kind==="time"?Qv(o).test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{code:F.invalid_string,validation:"time",message:o.message}),a.dirty()):o.kind==="duration"?Fv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"duration",code:F.invalid_string,message:o.message}),a.dirty()):o.kind==="ip"?Xv(s.data,o.version)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"ip",code:F.invalid_string,message:o.message}),a.dirty()):o.kind==="jwt"?Jv(s.data,o.alg)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"jwt",code:F.invalid_string,message:o.message}),a.dirty()):o.kind==="cidr"?ey(s.data,o.version)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"cidr",code:F.invalid_string,message:o.message}),a.dirty()):o.kind==="base64"?Wv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"base64",code:F.invalid_string,message:o.message}),a.dirty()):o.kind==="base64url"?Zv.test(s.data)||(n=this._getOrReturnCtx(s,n),X(n,{validation:"base64url",code:F.invalid_string,message:o.message}),a.dirty()):$e.assertNever(o);return{status:a.value,value:s.data}}_regex(s,r,a){return this.refinement(n=>s.test(n),{validation:r,code:F.invalid_string,...ae.errToObj(a)})}_addCheck(s){return new Ms({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...ae.errToObj(s)})}url(s){return this._addCheck({kind:"url",...ae.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...ae.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...ae.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...ae.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...ae.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...ae.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...ae.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...ae.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...ae.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...ae.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...ae.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...ae.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...ae.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...ae.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...ae.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...ae.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...ae.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...ae.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...ae.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...ae.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...ae.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...ae.errToObj(r)})}nonempty(s){return this.min(1,ae.errToObj(s))}trim(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Ms.create=t=>new Ms({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});function ty(t,s){const r=(t.toString().split(".")[1]||"").length,a=(s.toString().split(".")[1]||"").length,n=r>a?r:a,o=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(s.toFixed(n).replace(".",""));return o%i/10**n}class Pr extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==se.number){const o=this._getOrReturnCtx(s);return X(o,{code:F.invalid_type,expected:se.number,received:o.parsedType}),fe}let a;const n=new St;for(const o of this._def.checks)o.kind==="int"?$e.isInteger(s.data)||(a=this._getOrReturnCtx(s,a),X(a,{code:F.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty()):o.kind==="min"?(o.inclusive?s.data<o.value:s.data<=o.value)&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?s.data>o.value:s.data>=o.value)&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="multipleOf"?ty(s.data,o.value)!==0&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):o.kind==="finite"?Number.isFinite(s.data)||(a=this._getOrReturnCtx(s,a),X(a,{code:F.not_finite,message:o.message}),n.dirty()):$e.assertNever(o);return{status:n.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,a,n){return new Pr({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:a,message:ae.toString(n)}]})}_addCheck(s){return new Pr({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:ae.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:ae.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&$e.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(s===null||a.value<s)&&(s=a.value)}return Number.isFinite(r)&&Number.isFinite(s)}}Pr.create=t=>new Pr({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class sa extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==se.bigint)return this._getInvalidInput(s);let a;const n=new St;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?s.data<o.value:s.data<=o.value)&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?s.data>o.value:s.data>=o.value)&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="multipleOf"?s.data%o.value!==BigInt(0)&&(a=this._getOrReturnCtx(s,a),X(a,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):$e.assertNever(o);return{status:n.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return X(r,{code:F.invalid_type,expected:se.bigint,received:r.parsedType}),fe}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,a,n){return new sa({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:a,message:ae.toString(n)}]})}_addCheck(s){return new sa({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}sa.create=t=>new sa({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});class lo extends Ae{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==se.boolean){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.boolean,received:a.parsedType}),fe}return It(s.data)}}lo.create=t=>new lo({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class qa extends Ae{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==se.date){const o=this._getOrReturnCtx(s);return X(o,{code:F.invalid_type,expected:se.date,received:o.parsedType}),fe}if(Number.isNaN(s.data.getTime())){const o=this._getOrReturnCtx(s);return X(o,{code:F.invalid_date}),fe}const a=new St;let n;for(const o of this._def.checks)o.kind==="min"?s.data.getTime()<o.value&&(n=this._getOrReturnCtx(s,n),X(n,{code:F.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),a.dirty()):o.kind==="max"?s.data.getTime()>o.value&&(n=this._getOrReturnCtx(s,n),X(n,{code:F.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),a.dirty()):$e.assertNever(o);return{status:a.value,value:new Date(s.data.getTime())}}_addCheck(s){return new qa({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:ae.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:ae.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}qa.create=t=>new qa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,..._e(t)});class tl extends Ae{_parse(s){if(this._getType(s)!==se.symbol){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.symbol,received:a.parsedType}),fe}return It(s.data)}}tl.create=t=>new tl({typeName:pe.ZodSymbol,..._e(t)});class sl extends Ae{_parse(s){if(this._getType(s)!==se.undefined){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.undefined,received:a.parsedType}),fe}return It(s.data)}}sl.create=t=>new sl({typeName:pe.ZodUndefined,..._e(t)});class rl extends Ae{_parse(s){if(this._getType(s)!==se.null){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.null,received:a.parsedType}),fe}return It(s.data)}}rl.create=t=>new rl({typeName:pe.ZodNull,..._e(t)});class al extends Ae{constructor(){super(...arguments),this._any=!0}_parse(s){return It(s.data)}}al.create=t=>new al({typeName:pe.ZodAny,..._e(t)});class nl extends Ae{constructor(){super(...arguments),this._unknown=!0}_parse(s){return It(s.data)}}nl.create=t=>new nl({typeName:pe.ZodUnknown,..._e(t)});class Hs extends Ae{_parse(s){const r=this._getOrReturnCtx(s);return X(r,{code:F.invalid_type,expected:se.never,received:r.parsedType}),fe}}Hs.create=t=>new Hs({typeName:pe.ZodNever,..._e(t)});class ol extends Ae{_parse(s){if(this._getType(s)!==se.undefined){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.void,received:a.parsedType}),fe}return It(s.data)}}ol.create=t=>new ol({typeName:pe.ZodVoid,..._e(t)});class ss extends Ae{_parse(s){const{ctx:r,status:a}=this._processInputParams(s),n=this._def;if(r.parsedType!==se.array)return X(r,{code:F.invalid_type,expected:se.array,received:r.parsedType}),fe;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(i||l)&&(X(r,{code:i?F.too_big:F.too_small,minimum:l?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(X(r,{code:F.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(X(r,{code:F.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>n.type._parseAsync(new Us(r,i,r.path,l)))).then(i=>St.mergeArray(a,i));const o=[...r.data].map((i,l)=>n.type._parseSync(new Us(r,i,r.path,l)));return St.mergeArray(a,o)}get element(){return this._def.type}min(s,r){return new ss({...this._def,minLength:{value:s,message:ae.toString(r)}})}max(s,r){return new ss({...this._def,maxLength:{value:s,message:ae.toString(r)}})}length(s,r){return new ss({...this._def,exactLength:{value:s,message:ae.toString(r)}})}nonempty(s){return this.min(1,s)}}ss.create=(t,s)=>new ss({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,..._e(s)});function xr(t){if(t instanceof Je){const s={};for(const r in t.shape){const a=t.shape[r];s[r]=$s.create(xr(a))}return new Je({...t._def,shape:()=>s})}else return t instanceof ss?new ss({...t._def,type:xr(t.element)}):t instanceof $s?$s.create(xr(t.unwrap())):t instanceof Ir?Ir.create(xr(t.unwrap())):t instanceof dr?dr.create(t.items.map(s=>xr(s))):t}class Je extends Ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=$e.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==se.object){const m=this._getOrReturnCtx(s);return X(m,{code:F.invalid_type,expected:se.object,received:m.parsedType}),fe}const{status:a,ctx:n}=this._processInputParams(s),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Hs&&this._def.unknownKeys==="strip"))for(const m in n.data)i.includes(m)||l.push(m);const c=[];for(const m of i){const h=o[m],p=n.data[m];c.push({key:{status:"valid",value:m},value:h._parse(new Us(n,p,n.path,m)),alwaysSet:m in n.data})}if(this._def.catchall instanceof Hs){const m=this._def.unknownKeys;if(m==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:n.data[h]}});else if(m==="strict")l.length>0&&(X(n,{code:F.unrecognized_keys,keys:l}),a.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const h of l){const p=n.data[h];c.push({key:{status:"valid",value:h},value:m._parse(new Us(n,p,n.path,h)),alwaysSet:h in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const m=[];for(const h of c){const p=await h.key,b=await h.value;m.push({key:p,value:b,alwaysSet:h.alwaysSet})}return m}).then(m=>St.mergeObjectSync(a,m)):St.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(s){return ae.errToObj,new Je({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,a)=>{var o,i;const n=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:ae.errToObj(s).message??n}:{message:n}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(s){return new Je({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Je({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:pe.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Je({...this._def,catchall:s})}pick(s){const r={};for(const a of $e.objectKeys(s))s[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Je({...this._def,shape:()=>r})}omit(s){const r={};for(const a of $e.objectKeys(this.shape))s[a]||(r[a]=this.shape[a]);return new Je({...this._def,shape:()=>r})}deepPartial(){return xr(this)}partial(s){const r={};for(const a of $e.objectKeys(this.shape)){const n=this.shape[a];s&&!s[a]?r[a]=n:r[a]=n.optional()}return new Je({...this._def,shape:()=>r})}required(s){const r={};for(const a of $e.objectKeys(this.shape))if(s&&!s[a])r[a]=this.shape[a];else{let o=this.shape[a];for(;o instanceof $s;)o=o._def.innerType;r[a]=o}return new Je({...this._def,shape:()=>r})}keyof(){return um($e.objectKeys(this.shape))}}Je.create=(t,s)=>new Je({shape:()=>t,unknownKeys:"strip",catchall:Hs.create(),typeName:pe.ZodObject,..._e(s)});Je.strictCreate=(t,s)=>new Je({shape:()=>t,unknownKeys:"strict",catchall:Hs.create(),typeName:pe.ZodObject,..._e(s)});Je.lazycreate=(t,s)=>new Je({shape:t,unknownKeys:"strip",catchall:Hs.create(),typeName:pe.ZodObject,..._e(s)});class za extends Ae{_parse(s){const{ctx:r}=this._processInputParams(s),a=this._def.options;function n(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new fs(l.ctx.common.issues));return X(r,{code:F.invalid_union,unionErrors:i}),fe}if(r.common.async)return Promise.all(a.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let o;const i=[];for(const c of a){const m={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:m});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:m}),m.common.issues.length&&i.push(m.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new fs(c));return X(r,{code:F.invalid_union,unionErrors:l}),fe}}get options(){return this._def.options}}za.create=(t,s)=>new za({options:t,typeName:pe.ZodUnion,..._e(s)});function co(t,s){const r=Ss(t),a=Ss(s);if(t===s)return{valid:!0,data:t};if(r===se.object&&a===se.object){const n=$e.objectKeys(s),o=$e.objectKeys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...s};for(const l of o){const c=co(t[l],s[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===se.array&&a===se.array){if(t.length!==s.length)return{valid:!1};const n=[];for(let o=0;o<t.length;o++){const i=t[o],l=s[o],c=co(i,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===se.date&&a===se.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class Ba extends Ae{_parse(s){const{status:r,ctx:a}=this._processInputParams(s),n=(o,i)=>{if(Xi(o)||Xi(i))return fe;const l=co(o.value,i.value);return l.valid?((Ji(o)||Ji(i))&&r.dirty(),{status:r.value,value:l.data}):(X(a,{code:F.invalid_intersection_types}),fe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([o,i])=>n(o,i)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Ba.create=(t,s,r)=>new Ba({left:t,right:s,typeName:pe.ZodIntersection,..._e(r)});class dr extends Ae{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==se.array)return X(a,{code:F.invalid_type,expected:se.array,received:a.parsedType}),fe;if(a.data.length<this._def.items.length)return X(a,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&a.data.length>this._def.items.length&&(X(a,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...a.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Us(a,i,a.path,l)):null}).filter(i=>!!i);return a.common.async?Promise.all(o).then(i=>St.mergeArray(r,i)):St.mergeArray(r,o)}get items(){return this._def.items}rest(s){return new dr({...this._def,rest:s})}}dr.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dr({items:t,typeName:pe.ZodTuple,rest:null,..._e(s)})};class il extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==se.map)return X(a,{code:F.invalid_type,expected:se.map,received:a.parsedType}),fe;const n=this._def.keyType,o=this._def.valueType,i=[...a.data.entries()].map(([l,c],m)=>({key:n._parse(new Us(a,l,a.path,[m,"key"])),value:o._parse(new Us(a,c,a.path,[m,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const m=await c.key,h=await c.value;if(m.status==="aborted"||h.status==="aborted")return fe;(m.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(m.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const m=c.key,h=c.value;if(m.status==="aborted"||h.status==="aborted")return fe;(m.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(m.value,h.value)}return{status:r.value,value:l}}}}il.create=(t,s,r)=>new il({valueType:s,keyType:t,typeName:pe.ZodMap,..._e(r)});class ra extends Ae{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==se.set)return X(a,{code:F.invalid_type,expected:se.set,received:a.parsedType}),fe;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(X(a,{code:F.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(X(a,{code:F.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const m=new Set;for(const h of c){if(h.status==="aborted")return fe;h.status==="dirty"&&r.dirty(),m.add(h.value)}return{status:r.value,value:m}}const l=[...a.data.values()].map((c,m)=>o._parse(new Us(a,c,a.path,m)));return a.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(s,r){return new ra({...this._def,minSize:{value:s,message:ae.toString(r)}})}max(s,r){return new ra({...this._def,maxSize:{value:s,message:ae.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}ra.create=(t,s)=>new ra({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,..._e(s)});class ll extends Ae{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ll.create=(t,s)=>new ll({getter:t,typeName:pe.ZodLazy,..._e(s)});class cl extends Ae{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return X(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:s.data}}get value(){return this._def.value}}cl.create=(t,s)=>new cl({value:t,typeName:pe.ZodLiteral,..._e(s)});function um(t,s){return new Ar({values:t,typeName:pe.ZodEnum,..._e(s)})}class Ar extends Ae{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),a=this._def.values;return X(r,{expected:$e.joinValues(a),received:r.parsedType,code:F.invalid_type}),fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),a=this._def.values;return X(r,{received:r.data,code:F.invalid_enum_value,options:a}),fe}return It(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return Ar.create(s,{...this._def,...r})}exclude(s,r=this._def){return Ar.create(this.options.filter(a=>!s.includes(a)),{...this._def,...r})}}Ar.create=um;class dl extends Ae{_parse(s){const r=$e.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(s);if(a.parsedType!==se.string&&a.parsedType!==se.number){const n=$e.objectValues(r);return X(a,{expected:$e.joinValues(n),received:a.parsedType,code:F.invalid_type}),fe}if(this._cache||(this._cache=new Set($e.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const n=$e.objectValues(r);return X(a,{received:a.data,code:F.invalid_enum_value,options:n}),fe}return It(s.data)}get enum(){return this._def.values}}dl.create=(t,s)=>new dl({values:t,typeName:pe.ZodNativeEnum,..._e(s)});class Ua extends Ae{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==se.promise&&r.common.async===!1)return X(r,{code:F.invalid_type,expected:se.promise,received:r.parsedType}),fe;const a=r.parsedType===se.promise?r.data:Promise.resolve(r.data);return It(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ua.create=(t,s)=>new Ua({type:t,typeName:pe.ZodPromise,..._e(s)});class Mr extends Ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:a}=this._processInputParams(s),n=this._def.effect||null,o={addIssue:i=>{X(a,i),i.fatal?r.abort():r.dirty()},get path(){return a.path}};if(o.addIssue=o.addIssue.bind(o),n.type==="preprocess"){const i=n.transform(a.data,o);if(a.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return fe;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?fe:c.status==="dirty"||r.value==="dirty"?Hr(c.value):c});{if(r.value==="aborted")return fe;const l=this._def.schema._parseSync({data:i,path:a.path,parent:a});return l.status==="aborted"?fe:l.status==="dirty"||r.value==="dirty"?Hr(l.value):l}}if(n.type==="refinement"){const i=l=>{const c=n.refinement(l,o);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?fe:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?fe:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Rr(i))return fe;const l=n.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>Rr(i)?Promise.resolve(n.transform(i.value,o)).then(l=>({status:r.value,value:l})):fe);$e.assertNever(n)}}Mr.create=(t,s,r)=>new Mr({schema:t,typeName:pe.ZodEffects,effect:s,..._e(r)});Mr.createWithPreprocess=(t,s,r)=>new Mr({schema:s,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,..._e(r)});class $s extends Ae{_parse(s){return this._getType(s)===se.undefined?It(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}$s.create=(t,s)=>new $s({innerType:t,typeName:pe.ZodOptional,..._e(s)});class Ir extends Ae{_parse(s){return this._getType(s)===se.null?It(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Ir.create=(t,s)=>new Ir({innerType:t,typeName:pe.ZodNullable,..._e(s)});class uo extends Ae{_parse(s){const{ctx:r}=this._processInputParams(s);let a=r.data;return r.parsedType===se.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}uo.create=(t,s)=>new uo({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,..._e(s)});class mo extends Ae{_parse(s){const{ctx:r}=this._processInputParams(s),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Fa(n)?n.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new fs(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new fs(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}mo.create=(t,s)=>new mo({innerType:t,typeName:pe.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,..._e(s)});class ul extends Ae{_parse(s){if(this._getType(s)!==se.nan){const a=this._getOrReturnCtx(s);return X(a,{code:F.invalid_type,expected:se.nan,received:a.parsedType}),fe}return{status:"valid",value:s.data}}}ul.create=t=>new ul({typeName:pe.ZodNaN,..._e(t)});class sy extends Ae{_parse(s){const{ctx:r}=this._processInputParams(s),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class ei extends Ae{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?fe:o.status==="dirty"?(r.dirty(),Hr(o.value)):this._def.out._parseAsync({data:o.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?fe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(s,r){return new ei({in:s,out:r,typeName:pe.ZodPipeline})}}class ho extends Ae{_parse(s){const r=this._def.innerType._parse(s),a=n=>(Rr(n)&&(n.value=Object.freeze(n.value)),n);return Fa(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}ho.create=(t,s)=>new ho({innerType:t,typeName:pe.ZodReadonly,..._e(s)});Je.lazycreate;var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const Fe=Ms.create,rt=Pr.create,fo=lo.create;Hs.create;const ry=ss.create,ma=Je.create;Je.strictCreate;za.create;Ba.create;dr.create;const Nn=Ar.create;Ua.create;$s.create;Ir.create;var _n="Switch",[ay,Yy]=Gs(_n),[ny,oy]=ay(_n),mm=d.forwardRef((t,s)=>{const{__scopeSwitch:r,name:a,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:m,form:h,...p}=t,[b,v]=d.useState(null),w=nt(s,y=>v(y)),x=d.useRef(!1),u=b?h||!!b.closest("form"):!0,[j,f]=us({prop:n,defaultProp:o??!1,onChange:m,caller:_n});return e.jsxs(ny,{scope:r,checked:j,disabled:l,children:[e.jsx(ke.button,{type:"button",role:"switch","aria-checked":j,"aria-required":i,"data-state":xm(j),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:je(t.onClick,y=>{f(g=>!g),u&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),u&&e.jsx(pm,{control:b,bubbles:!x.current,name:a,value:c,checked:j,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});mm.displayName=_n;var hm="SwitchThumb",fm=d.forwardRef((t,s)=>{const{__scopeSwitch:r,...a}=t,n=oy(hm,r);return e.jsx(ke.span,{"data-state":xm(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:s})});fm.displayName=hm;var iy="SwitchBubbleInput",pm=d.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:a=!0,...n},o)=>{const i=d.useRef(null),l=nt(i,o),c=qo(r),m=$l(s);return d.useEffect(()=>{const h=i.current;if(!h)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&v){const w=new Event("click",{bubbles:a});v.call(h,r),h.dispatchEvent(w)}},[c,r,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pm.displayName=iy;function xm(t){return t?"checked":"unchecked"}var gm=mm,ly=fm;const Ha=d.forwardRef(({className:t,...s},r)=>e.jsx(gm,{className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...s,ref:r,children:e.jsx(ly,{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ha.displayName=gm.displayName;const ti=dv,vm=d.createContext({}),Oe=({...t})=>e.jsx(vm.Provider,{value:{name:t.name},children:e.jsx(fv,{...t})}),Cn=()=>{const t=d.useContext(vm),s=d.useContext(ym),{getFieldState:r,formState:a}=bn(),n=r(t.name,a);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=s;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},ym=d.createContext({}),Te=d.forwardRef(({className:t,...s},r)=>{const a=d.useId();return e.jsx(ym.Provider,{value:{id:a},children:e.jsx("div",{ref:r,className:q("space-y-2",t),...s})})});Te.displayName="FormItem";const Re=d.forwardRef(({className:t,...s},r)=>{const{error:a,formItemId:n}=Cn();return e.jsx(Ye,{ref:r,className:q(a&&"text-destructive",t),htmlFor:n,...s})});Re.displayName="FormLabel";const Pe=d.forwardRef(({...t},s)=>{const{error:r,formItemId:a,formDescriptionId:n,formMessageId:o}=Cn();return e.jsx(Pl,{ref:s,id:a,"aria-describedby":r?`${n} ${o}`:`${n}`,"aria-invalid":!!r,...t})});Pe.displayName="FormControl";const cy=d.forwardRef(({className:t,...s},r)=>{const{formDescriptionId:a}=Cn();return e.jsx("p",{ref:r,id:a,className:q("text-sm text-muted-foreground",t),...s})});cy.displayName="FormDescription";const Ve=d.forwardRef(({className:t,children:s,...r},a)=>{const{error:n,formMessageId:o}=Cn(),i=n?String(n==null?void 0:n.message):s;return i?e.jsx("p",{ref:a,id:o,className:q("text-sm font-medium text-destructive",t),...r,children:i}):null});Ve.displayName="FormMessage";const dy=ma({sku:Fe().min(1,"SKU  obrigatrio").max(50,"SKU deve ter no mximo 50 caracteres"),nome:Fe().min(1,"Nome  obrigatrio").max(200,"Nome deve ter no mximo 200 caracteres"),descricao:Fe().optional(),categoria:Fe().optional(),unidade:Fe().min(1,"Unidade  obrigatria"),codigo_barras:Fe().optional(),peso_kg:rt().min(0,"Peso deve ser positivo").optional(),altura_cm:rt().min(0,"Altura deve ser positiva").optional(),largura_cm:rt().min(0,"Largura deve ser positiva").optional(),profundidade_cm:rt().min(0,"Profundidade deve ser positiva").optional(),custo_unitario:rt().min(0,"Custo deve ser positivo").optional(),preco_venda:rt().min(0,"Preo deve ser positivo").optional(),estoque_minimo:rt().min(0,"Estoque mnimo deve ser positivo").default(0),estoque_maximo:rt().min(0,"Estoque mximo deve ser positivo").optional(),controla_lote:fo().default(!1),controla_validade:fo().default(!1),status:Nn(["ativo","inativo","bloqueado"]).default("ativo")}),uy=[{value:"UN",label:"Unidade"},{value:"KG",label:"Quilograma"},{value:"G",label:"Grama"},{value:"L",label:"Litro"},{value:"ML",label:"Mililitro"},{value:"M",label:"Metro"},{value:"CM",label:"Centmetro"},{value:"M2",label:"Metro Quadrado"},{value:"M3",label:"Metro Cbico"},{value:"CX",label:"Caixa"},{value:"PC",label:"Pea"},{value:"PAR",label:"Par"}],my=["Eletrnicos","Roupas e Acessrios","Casa e Jardim","Esportes e Lazer","Livros e Mdia","Sade e Beleza","Automotivo","Ferramentas","Alimentao","Outros"];function ml({produto:t,onSuccess:s,onCancel:r}){const a=!!t,n=jn({resolver:wn(dy),defaultValues:{sku:"",nome:"",descricao:"",categoria:"",unidade:"UN",codigo_barras:"",peso_kg:void 0,altura_cm:void 0,largura_cm:void 0,profundidade_cm:void 0,custo_unitario:void 0,preco_venda:void 0,estoque_minimo:0,estoque_maximo:void 0,controla_lote:!1,controla_validade:!1,status:"ativo"}});d.useEffect(()=>{t&&n.reset({sku:t.sku||"",nome:t.nome||"",descricao:t.descricao||"",categoria:t.categoria||"",unidade:t.unidade||"UN",codigo_barras:t.codigo_barras||"",peso_kg:t.peso_kg||void 0,altura_cm:t.altura_cm||void 0,largura_cm:t.largura_cm||void 0,profundidade_cm:t.profundidade_cm||void 0,custo_unitario:t.custo_unitario||void 0,preco_venda:t.preco_venda||void 0,estoque_minimo:t.estoque_minimo||0,estoque_maximo:t.estoque_maximo||void 0,controla_lote:t.controla_lote||!1,controla_validade:t.controla_validade||!1,status:t.status||"ativo"})},[t,n]);const o=async i=>{try{const l={sku:i.sku,nome:i.nome,descricao:i.descricao||null,categoria:i.categoria||null,unidade:i.unidade,codigo_barras:i.codigo_barras||null,peso_kg:i.peso_kg||null,altura_cm:i.altura_cm||null,largura_cm:i.largura_cm||null,profundidade_cm:i.profundidade_cm||null,custo_unitario:i.custo_unitario||null,preco_venda:i.preco_venda||null,estoque_minimo:i.estoque_minimo||0,estoque_maximo:i.estoque_maximo||null,controla_lote:i.controla_lote||!1,controla_validade:i.controla_validade||!1,status:i.status,updated_at:new Date().toISOString()};if(a){const{error:c}=await ie.from("produtos").update(l).eq("id",t.id);if(c)throw c;Ne.success("Produto atualizado com sucesso!")}else{const{error:c}=await ie.from("produtos").insert([l]);if(c)throw c;Ne.success("Produto criado com sucesso!")}s()}catch(l){console.error("Erro ao salvar produto:",l),l.code==="23505"?Ne.error("SKU j existe. Escolha um SKU nico."):Ne.error("Erro ao salvar produto")}};return e.jsx(ti,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(o),className:"space-y-4 w-full max-w-full overflow-x-hidden px-1 sm:px-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(Oe,{control:n.control,name:"sku",render:({field:i})=>e.jsxs(Te,{className:"w-full",children:[e.jsx(Re,{children:"SKU *"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Ex: PROD001",...i})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"nome",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Nome *"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Nome do produto",...i})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"categoria",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Categoria"}),e.jsxs(ct,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione uma categoria"})})}),e.jsx(lt,{children:my.map(l=>e.jsx(ue,{value:l,children:l},l))})]}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"unidade",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Unidade *"}),e.jsxs(ct,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione a unidade"})})}),e.jsx(lt,{children:uy.map(l=>e.jsx(ue,{value:l.value,children:l.label},l.value))})]}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"codigo_barras",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Cdigo de Barras"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Ex: 123456789012",...i})}),e.jsx(Ve,{})]})})]}),e.jsx(Oe,{control:n.control,name:"descricao",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Descrio"}),e.jsx(Pe,{children:e.jsx(cr,{placeholder:"Descrio detalhada do produto",className:"resize-none",...i})}),e.jsx(Ve,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(Oe,{control:n.control,name:"peso_kg",render:({field:i})=>e.jsxs(Te,{className:"w-full",children:[e.jsx(Re,{className:"text-sm",children:"Peso (kg)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.001",placeholder:"0.000",className:"w-full h-9",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"altura_cm",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Altura (cm)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.01",placeholder:"0.00",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"largura_cm",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Largura (cm)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.01",placeholder:"0.00",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"profundidade_cm",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Profundidade (cm)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.01",placeholder:"0.00",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(Oe,{control:n.control,name:"custo_unitario",render:({field:i})=>e.jsxs(Te,{className:"w-full",children:[e.jsx(Re,{children:"Custo Unitrio (R$)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.01",placeholder:"0.00",className:"w-full",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"preco_venda",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Preo de Venda (R$)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",step:"0.01",placeholder:"0.00",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"estoque_minimo",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Estoque Mnimo"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",placeholder:"0",...i,onChange:l=>i.onChange(l.target.value?parseInt(l.target.value):0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:n.control,name:"estoque_maximo",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Estoque Mximo"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",placeholder:"0",...i,onChange:l=>i.onChange(l.target.value?parseInt(l.target.value):void 0)})}),e.jsx(Ve,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Oe,{control:n.control,name:"controla_lote",render:({field:i})=>e.jsxs(Te,{className:"flex flex-row items-center justify-between rounded-lg border p-4 w-full",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Re,{className:"text-base",children:"Controla Lote"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Produto requer controle de lote"})]}),e.jsx(Pe,{children:e.jsx(Ha,{checked:i.value,onCheckedChange:i.onChange})})]})}),e.jsx(Oe,{control:n.control,name:"controla_validade",render:({field:i})=>e.jsxs(Te,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Re,{className:"text-base",children:"Controla Validade"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Produto possui data de validade"})]}),e.jsx(Pe,{children:e.jsx(Ha,{checked:i.value,onCheckedChange:i.onChange})})]})}),e.jsx(Oe,{control:n.control,name:"status",render:({field:i})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Status"}),e.jsxs(ct,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione o status"})})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"ativo",children:"Ativo"}),e.jsx(ue,{value:"inativo",children:"Inativo"}),e.jsx(ue,{value:"bloqueado",children:"Bloqueado"})]})]}),e.jsx(Ve,{})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 mt-4",children:[e.jsx(le,{type:"button",variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Cancelar"}),e.jsxs(le,{type:"submit",className:"w-full sm:w-auto",children:[a?"Atualizar":"Criar"," Produto"]})]})]})})}var hy="Separator",hl="horizontal",fy=["horizontal","vertical"],bm=d.forwardRef((t,s)=>{const{decorative:r,orientation:a=hl,...n}=t,o=py(a)?a:hl,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(ke.div,{"data-orientation":o,...l,...n,ref:s})});bm.displayName=hy;function py(t){return fy.includes(t)}var jm=bm;const Gt=d.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...a},n)=>e.jsx(jm,{ref:n,decorative:r,orientation:s,className:q("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Gt.displayName=jm.displayName;function xy({produto:t,open:s,onOpenChange:r}){if(!t)return null;const a=i=>{const l={ativo:"default",inativo:"secondary",bloqueado:"destructive"},c={ativo:"Ativo",inativo:"Inativo",bloqueado:"Bloqueado"};return e.jsx(we,{variant:l[i]||"secondary",children:c[i]||i})},n=i=>i?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i):"No informado",o=i=>new Date(i).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(At,{open:s,onOpenChange:r,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Detalhes do Produto"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Informaes Bsicas"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"SKU:"}),e.jsx("p",{className:"font-mono text-sm",children:t.sku})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Nome:"}),e.jsx("p",{className:"font-medium",children:t.nome})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),e.jsx("div",{className:"mt-1",children:a(t.status)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Categoria:"}),e.jsx("p",{children:t.categoria||"No informada"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Unidade:"}),e.jsx("p",{children:t.unidade})]})]})]}),t.descricao&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Descrio:"}),e.jsx("p",{className:"text-sm mt-1",children:t.descricao})]})]}),t.foto_url&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Foto"}),e.jsx("img",{src:t.foto_url,alt:t.nome,className:"w-full max-w-xs rounded-lg border",onError:i=>{i.currentTarget.style.display="none"}})]})]}),e.jsx(Gt,{}),(t.codigo_barras||t.codigo_ean)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Nh,{className:"h-5 w-5"}),"Cdigos de Identificao"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.codigo_barras&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Cdigo de Barras:"}),e.jsx("p",{className:"font-mono text-sm",children:t.codigo_barras})]}),t.codigo_ean&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Cdigo EAN:"}),e.jsx("p",{className:"font-mono text-sm",children:t.codigo_ean})]})]})]}),e.jsx(Gt,{})]}),(t.peso_kg||t.altura_cm||t.largura_cm||t.profundidade_cm)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(jc,{className:"h-5 w-5"}),"Dimenses e Peso"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.peso_kg&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(_c,{className:"h-4 w-4"}),"Peso:"]}),e.jsxs("p",{children:[t.peso_kg," kg"]})]}),t.altura_cm&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Altura:"}),e.jsxs("p",{children:[t.altura_cm," cm"]})]}),t.largura_cm&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Largura:"}),e.jsxs("p",{children:[t.largura_cm," cm"]})]}),t.profundidade_cm&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Profundidade:"}),e.jsxs("p",{children:[t.profundidade_cm," cm"]})]})]})]}),e.jsx(Gt,{})]}),(t.custo_unitario||t.preco_venda)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(ko,{className:"h-5 w-5"}),"Informaes Financeiras"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Custo Unitrio:"}),e.jsx("p",{className:"font-medium",children:n(t.custo_unitario)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Preo de Venda:"}),e.jsx("p",{className:"font-medium",children:n(t.preco_venda)})]})]})]}),e.jsx(Gt,{})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Rh,{className:"h-5 w-5"}),"Controle de Estoque"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Mnimo:"}),e.jsx("p",{children:t.estoque_minimo||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Mximo:"}),e.jsx("p",{children:t.estoque_maximo||"No definido"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Controla Lote:"}),e.jsx(we,{variant:t.controla_lote?"default":"secondary",children:t.controla_lote?"Sim":"No"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Controla Validade:"}),e.jsx(we,{variant:t.controla_validade?"default":"secondary",children:t.controla_validade?"Sim":"No"})]})]})]})]}),e.jsx(Gt,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Informaes de Auditoria"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Criado em:"}),e.jsx("p",{className:"text-sm",children:o(t.created_at)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Atualizado em:"}),e.jsx("p",{className:"text-sm",children:o(t.updated_at)})]})]})]})]})]})})}const gy=()=>{const[t,s]=d.useState(""),[r,a]=d.useState(null),[n,o]=d.useState(!1),[i,l]=d.useState(!1),[c,m]=d.useState(!1),[h,p]=d.useState(null),[b,v]=d.useState("cards"),w=Mt(),[x,u]=d.useState([]),[j,f]=d.useState(!0),[y,g]=d.useState(null),N=async()=>{try{f(!0),g(null);const{data:E,error:W}=await ie.from("produtos").select("*").order("created_at",{ascending:!1});if(W)throw W;u(E||[])}catch(E){console.error("Erro ao carregar produtos:",E),g(E.message)}finally{f(!1)}};d.useEffect(()=>{N()},[]),d.useEffect(()=>{y&&(Ne.error("Erro ao carregar produtos"),console.error("Erro ao carregar produtos:",y))},[y]);const D=()=>{o(!1),N()},L=()=>{l(!1),a(null),N()},$=E=>{a(E),m(!0)},M=E=>{a(E),l(!0)},Q=async()=>{if(h)try{const{error:E}=await ie.from("produtos").delete().eq("id",h.id);if(E)throw E;Ne.success("Produto excludo com sucesso!"),p(null),N()}catch(E){console.error("Erro ao excluir produto:",E),Ne.error("Erro ao excluir produto")}},P=x.filter(E=>{var W,K,S;return((W=E.nome)==null?void 0:W.toLowerCase().includes(t.toLowerCase()))||((K=E.sku)==null?void 0:K.toLowerCase().includes(t.toLowerCase()))||((S=E.categoria)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))}),C=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E),V=E=>{const W={ativo:{variant:"default",label:"Ativo"},inativo:{variant:"secondary",label:"Inativo"},descontinuado:{variant:"destructive",label:"Descontinuado"}},K=W[E]||W.ativo;return e.jsx(we,{variant:K.variant,children:K.label})};return j?e.jsx("div",{className:`container mx-auto ${w?"p-4":"p-6"}`,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Carregando produtos..."})]})})}):e.jsxs("div",{className:`container mx-auto ${w?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{className:`${w?"space-y-4":"flex justify-between items-center"}`,children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`${w?"text-2xl":"text-3xl"} font-bold flex items-center gap-2`,children:[e.jsx(Ge,{className:"h-8 w-8"}),"Produtos"]}),e.jsx("p",{className:`text-muted-foreground ${w?"text-sm":""}`,children:"Gerencie o catlogo de produtos do seu armazm"})]}),e.jsxs("div",{className:`flex gap-2 ${w?"w-full":""}`,children:[e.jsxs(le,{onClick:N,variant:"outline",size:"sm",className:w?"flex-1":"",children:[e.jsx(or,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),e.jsxs(At,{open:n,onOpenChange:o,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(le,{size:"sm",className:w?"flex-1":"",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),w?"Novo":"Novo Produto"]})}),e.jsxs(Nt,{className:`${w?"w-[95vw] max-w-[95vw]":"max-w-4xl"} overflow-hidden max-h-[90vh]`,children:[e.jsx(_t,{className:"pb-2",children:e.jsx(Ct,{children:"Criar Novo Produto"})}),e.jsx("div",{className:"overflow-y-auto pr-1 max-h-[calc(90vh-80px)]",children:e.jsx(ml,{onSuccess:D,onCancel:()=>o(!1)})})]})]})]})]}),e.jsx(ne,{children:e.jsx(oe,{className:`${w?"p-4":"p-6"}`,children:e.jsxs("div",{className:`${w?"space-y-4":"flex justify-between items-center gap-4"}`,children:[e.jsxs("div",{className:`relative ${w?"w-full":"flex-1 max-w-sm"}`,children:[e.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(de,{placeholder:"Buscar produtos...",value:t,onChange:E=>s(E.target.value),className:`pl-10 ${w?"text-base":""}`})]}),!w&&e.jsxs(fr,{type:"single",value:b,onValueChange:E=>E&&v(E),children:[e.jsx(wt,{value:"cards","aria-label":"Visualizao em cards",children:e.jsx(Dr,{className:"h-4 w-4"})}),e.jsx(wt,{value:"table","aria-label":"Visualizao em tabela",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})})}),e.jsxs("div",{className:`grid ${w?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-4 gap-4"}`,children:[e.jsx(ne,{children:e.jsx(oe,{className:`${w?"p-4":"p-6"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:`${w?"text-xs":"text-sm"} font-medium text-muted-foreground`,children:"Total"}),e.jsx("p",{className:`${w?"text-lg":"text-2xl"} font-bold`,children:x.length})]})]})})}),e.jsx(ne,{children:e.jsx(oe,{className:`${w?"p-4":"p-6"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:`${w?"text-xs":"text-sm"} font-medium text-muted-foreground`,children:"Ativos"}),e.jsx("p",{className:`${w?"text-lg":"text-2xl"} font-bold`,children:x.filter(E=>E.status==="ativo").length})]})]})})}),e.jsx(ne,{children:e.jsx(oe,{className:`${w?"p-4":"p-6"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yt,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:`${w?"text-xs":"text-sm"} font-medium text-muted-foreground`,children:"Baixo Estoque"}),e.jsx("p",{className:`${w?"text-lg":"text-2xl"} font-bold`,children:x.filter(E=>E.estoque_minimo&&E.estoque_atual<=E.estoque_minimo).length})]})]})})}),e.jsx(ne,{children:e.jsx(oe,{className:`${w?"p-4":"p-6"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:`${w?"text-xs":"text-sm"} font-medium text-muted-foreground`,children:"Categorias"}),e.jsx("p",{className:`${w?"text-lg":"text-2xl"} font-bold`,children:new Set(x.map(E=>E.categoria).filter(Boolean)).size})]})]})})})]}),b==="cards"||w?e.jsx("div",{className:`grid ${w?"grid-cols-1 gap-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}`,children:P.map(E=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ve,{className:`${w?"p-4 pb-2":"pb-3"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:`${w?"text-base":"text-lg"} line-clamp-2`,children:E.nome}),e.jsx("p",{className:`${w?"text-xs":"text-sm"} text-muted-foreground font-mono`,children:E.sku})]}),e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>$(E),children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ver detalhes"]}),e.jsxs(Ue,{onClick:()=>M(E),children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>p(E),className:"text-destructive",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})}),e.jsx(oe,{className:`${w?"p-4 pt-0":"pt-0"}`,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${w?"text-xs":"text-sm"} text-muted-foreground`,children:"Categoria:"}),e.jsx(we,{variant:"outline",className:w?"text-xs":"",children:E.categoria||"Sem categoria"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${w?"text-xs":"text-sm"} text-muted-foreground`,children:"Status:"}),V(E.status)]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${w?"text-xs":"text-sm"} text-muted-foreground`,children:"Valor:"}),e.jsx("span",{className:`${w?"text-sm":""} font-medium`,children:C(E.valor_unitario||0)})]}),E.estoque_minimo&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${w?"text-xs":"text-sm"} text-muted-foreground`,children:"Est. Mn:"}),e.jsx("span",{className:`${w?"text-sm":""} font-medium`,children:E.estoque_minimo})]})]})})]},E.id))}):e.jsx(ne,{children:e.jsx(oe,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"SKU"}),e.jsx(ee,{children:"Nome"}),e.jsx(ee,{children:"Categoria"}),e.jsx(ee,{children:"Status"}),e.jsx(ee,{className:"text-right",children:"Valor"}),e.jsx(ee,{className:"text-right",children:"Est. Mn"}),e.jsx(ee,{className:"text-center",children:"Aes"})]})}),e.jsx(Kt,{children:P.map(E=>e.jsxs(He,{children:[e.jsx(Y,{className:"font-mono text-sm",children:E.sku}),e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:E.nome}),e.jsx("div",{className:"text-sm text-muted-foreground",children:E.unidade_medida})]})}),e.jsx(Y,{children:e.jsx(we,{variant:"outline",children:E.categoria||"Sem categoria"})}),e.jsx(Y,{children:V(E.status)}),e.jsx(Y,{className:"text-right",children:C(E.valor_unitario||0)}),e.jsx(Y,{className:"text-right",children:E.estoque_minimo||""}),e.jsx(Y,{className:"text-center",children:e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>$(E),children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ver detalhes"]}),e.jsxs(Ue,{onClick:()=>M(E),children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>p(E),className:"text-destructive",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},E.id))})]})})})}),P.length===0&&!j&&e.jsx(ne,{children:e.jsxs(oe,{className:`${w?"p-8":"p-12"} text-center`,children:[e.jsx(Ge,{className:`${w?"h-12 w-12":"h-16 w-16"} mx-auto text-muted-foreground mb-4`}),e.jsx("h3",{className:`${w?"text-lg":"text-xl"} font-semibold mb-2`,children:t?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),e.jsx("p",{className:`text-muted-foreground mb-4 ${w?"text-sm":""}`,children:t?"Tente ajustar os termos de busca ou limpar os filtros.":"Comece criando seu primeiro produto para gerenciar o estoque."}),!t&&e.jsxs(le,{onClick:()=>o(!0),children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Criar primeiro produto"]})]})}),e.jsx(At,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsx(Ct,{children:"Editar Produto"})}),r&&e.jsx(ml,{produto:r,onSuccess:L,onCancel:()=>l(!1)})]})}),r&&e.jsx(xy,{produto:r,open:c,onOpenChange:m}),e.jsx(Go,{open:!!h,onOpenChange:()=>p(null),children:e.jsxs(mn,{children:[e.jsxs(hn,{children:[e.jsx(pn,{children:"Confirmar Excluso"}),e.jsxs(xn,{children:['Tem certeza que deseja excluir o produto "',h==null?void 0:h.nome,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(fn,{children:[e.jsx(vn,{children:"Cancelar"}),e.jsx(gn,{onClick:Q,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})},vy=ma({codigo:Fe().min(1,"Cdigo  obrigatrio").max(50,"Cdigo deve ter no mximo 50 caracteres"),tipo:Nn(["picking","bulk","quarentena"],{required_error:"Tipo  obrigatrio"}),almoxarifado_id:Fe().min(1,"Almoxarifado  obrigatrio"),rua:Fe().optional(),prateleira:Fe().optional(),nivel:Fe().optional(),box:Fe().optional(),capacidade_maxima:rt().min(0,"Capacidade deve ser positiva").optional(),capacidade_peso:rt().min(0,"Capacidade de peso deve ser positiva").optional(),altura:rt().min(0,"Altura deve ser positiva").optional(),largura:rt().min(0,"Largura deve ser positiva").optional(),profundidade:rt().min(0,"Profundidade deve ser positiva").optional(),temperatura_min:rt().optional(),temperatura_max:rt().optional(),observacoes:Fe().optional(),ativo:fo().default(!0)});function fl({localizacao:t,onSuccess:s}){const[r,a]=d.useState(!1),[n,o]=d.useState([]),i=!!t,{register:l,handleSubmit:c,setValue:m,watch:h,formState:{errors:p}}=jn({resolver:wn(vy),defaultValues:{codigo:(t==null?void 0:t.codigo)||"",tipo:(t==null?void 0:t.tipo)||"picking",almoxarifado_id:(t==null?void 0:t.almoxarifado_id)||"",rua:(t==null?void 0:t.rua)||"",prateleira:(t==null?void 0:t.prateleira)||"",nivel:(t==null?void 0:t.nivel)||"",box:(t==null?void 0:t.box)||"",capacidade_maxima:(t==null?void 0:t.capacidade_maxima)||void 0,capacidade_peso:(t==null?void 0:t.capacidade_peso)||void 0,altura:(t==null?void 0:t.altura)||void 0,largura:(t==null?void 0:t.largura)||void 0,profundidade:(t==null?void 0:t.profundidade)||void 0,temperatura_min:(t==null?void 0:t.temperatura_min)||void 0,temperatura_max:(t==null?void 0:t.temperatura_max)||void 0,observacoes:(t==null?void 0:t.observacoes)||"",ativo:(t==null?void 0:t.ativo)??!0}});d.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:x,error:u}=await ie.from("almoxarifados").select("id, nome").eq("ativo",!0).order("nome");if(u)throw u;o(x||[])}catch(x){console.error("Erro ao carregar almoxarifados:",x),Ne.error("Erro ao carregar almoxarifados")}},v=async x=>{a(!0);try{const u={codigo:x.codigo,tipo:x.tipo,almoxarifado_id:x.almoxarifado_id,rua:x.rua||null,prateleira:x.prateleira||null,nivel:x.nivel||null,box:x.box||null,capacidade_maxima:x.capacidade_maxima||null,capacidade_peso:x.capacidade_peso||null,altura:x.altura||null,largura:x.largura||null,profundidade:x.profundidade||null,temperatura_min:x.temperatura_min??null,temperatura_max:x.temperatura_max??null,observacoes:x.observacoes||null,ativo:x.ativo??!0,updated_at:new Date().toISOString()};if(i){const{error:j}=await ie.from("localizacoes").update(u).eq("id",t.id);if(j)throw j;Ne.success("Localizao atualizada com sucesso!")}else{const{error:j}=await ie.from("localizacoes").insert([u]);if(j)throw j;Ne.success("Localizao criada com sucesso!")}s()}catch(u){console.error("Erro ao salvar localizao:",u),Ne.error(u.message||"Erro ao salvar localizao")}finally{a(!1)}},w=[{value:"picking",label:"Picking"},{value:"bulk",label:"Bulk/Estoque"},{value:"quarentena",label:"Quarentena"}];return e.jsxs("form",{onSubmit:c(v),className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-5 w-5"}),"Informaes Bsicas"]})}),e.jsxs(oe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"codigo",children:"Cdigo *"}),e.jsx(de,{id:"codigo",...l("codigo"),placeholder:"Ex: A01-01-01"}),p.codigo&&e.jsx("p",{className:"text-sm text-red-600",children:p.codigo.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"tipo",children:"Tipo *"}),e.jsxs(ct,{value:h("tipo"),onValueChange:x=>m("tipo",x),children:[e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione o tipo"})}),e.jsx(lt,{children:w.map(x=>e.jsx(ue,{value:x.value,children:x.label},x.value))})]}),p.tipo&&e.jsx("p",{className:"text-sm text-red-600",children:p.tipo.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"almoxarifado_id",children:"Almoxarifado *"}),e.jsxs(ct,{value:h("almoxarifado_id"),onValueChange:x=>m("almoxarifado_id",x),children:[e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione o almoxarifado"})}),e.jsx(lt,{children:n.map(x=>e.jsx(ue,{value:x.id,children:x.nome},x.id))})]}),p.almoxarifado_id&&e.jsx("p",{className:"text-sm text-red-600",children:p.almoxarifado_id.message})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ha,{id:"ativo",checked:h("ativo"),onCheckedChange:x=>m("ativo",x)}),e.jsx(Ye,{htmlFor:"ativo",children:"Localizao ativa"})]})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Endereamento"})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"rua",children:"Rua"}),e.jsx(de,{id:"rua",...l("rua"),placeholder:"Ex: A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"prateleira",children:"Prateleira"}),e.jsx(de,{id:"prateleira",...l("prateleira"),placeholder:"Ex: 01"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"nivel",children:"Nvel"}),e.jsx(de,{id:"nivel",...l("nivel"),placeholder:"Ex: 01"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"box",children:"Box"}),e.jsx(de,{id:"box",...l("box"),placeholder:"Ex: A"})]})]})})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Capacidade e Dimenses"})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"capacidade_maxima",children:"Capacidade Mxima (unidades)"}),e.jsx(de,{id:"capacidade_maxima",type:"number",step:"1",min:"0",...l("capacidade_maxima",{valueAsNumber:!0}),placeholder:"Ex: 100"}),p.capacidade_maxima&&e.jsx("p",{className:"text-sm text-red-600",children:p.capacidade_maxima.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"capacidade_peso",children:"Capacidade de Peso (kg)"}),e.jsx(de,{id:"capacidade_peso",type:"number",step:"0.01",min:"0",...l("capacidade_peso",{valueAsNumber:!0}),placeholder:"Ex: 1000.50"}),p.capacidade_peso&&e.jsx("p",{className:"text-sm text-red-600",children:p.capacidade_peso.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(de,{id:"altura",type:"number",step:"0.01",min:"0",...l("altura",{valueAsNumber:!0}),placeholder:"Ex: 200.5"}),p.altura&&e.jsx("p",{className:"text-sm text-red-600",children:p.altura.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"largura",children:"Largura (cm)"}),e.jsx(de,{id:"largura",type:"number",step:"0.01",min:"0",...l("largura",{valueAsNumber:!0}),placeholder:"Ex: 120.5"}),p.largura&&e.jsx("p",{className:"text-sm text-red-600",children:p.largura.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"profundidade",children:"Profundidade (cm)"}),e.jsx(de,{id:"profundidade",type:"number",step:"0.01",min:"0",...l("profundidade",{valueAsNumber:!0}),placeholder:"Ex: 80.5"}),p.profundidade&&e.jsx("p",{className:"text-sm text-red-600",children:p.profundidade.message})]})]})})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Controle de Temperatura"})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"temperatura_min",children:"Temperatura Mnima (C)"}),e.jsx(de,{id:"temperatura_min",type:"number",step:"0.1",...l("temperatura_min",{valueAsNumber:!0}),placeholder:"Ex: -18.0"}),p.temperatura_min&&e.jsx("p",{className:"text-sm text-red-600",children:p.temperatura_min.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"temperatura_max",children:"Temperatura Mxima (C)"}),e.jsx(de,{id:"temperatura_max",type:"number",step:"0.1",...l("temperatura_max",{valueAsNumber:!0}),placeholder:"Ex: 25.0"}),p.temperatura_max&&e.jsx("p",{className:"text-sm text-red-600",children:p.temperatura_max.message})]})]})})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Observaes"})}),e.jsx(oe,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"observacoes",children:"Observaes"}),e.jsx(cr,{id:"observacoes",...l("observacoes"),placeholder:"Informaes adicionais sobre a localizao...",rows:3})]})})]}),e.jsx(Gt,{}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsxs(le,{type:"submit",disabled:r,children:[r&&e.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Atualizar":"Criar"," Localizao"]})})]})}function yy({localizacao:t,open:s,onOpenChange:r}){if(!t)return null;const a=c=>new Date(c).toLocaleString("pt-BR"),n=(c,m="")=>c==null?"No informado":`${c.toLocaleString("pt-BR")}${m}`,o=c=>({picking:"Picking",bulk:"Bulk/Estoque",recebimento:"Recebimento",expedicao:"Expedio",quarentena:"Quarentena"})[c]||c,i=c=>({picking:"bg-blue-100 text-blue-800",bulk:"bg-green-100 text-green-800",recebimento:"bg-purple-100 text-purple-800",expedicao:"bg-orange-100 text-orange-800",quarentena:"bg-red-100 text-red-800"})[c]||"bg-gray-100 text-gray-800",l=()=>{const c=[t.rua,t.prateleira,t.nivel,t.box].filter(Boolean);return c.length>0?c.join("-"):"No definido"};return e.jsx(At,{open:s,onOpenChange:r,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-5 w-5"}),"Detalhes da Localizao"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Informaes Bsicas"]})}),e.jsxs(oe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cdigo"}),e.jsx("p",{className:"text-lg font-mono",children:t.codigo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo"}),e.jsx(we,{className:i(t.tipo),children:o(t.tipo)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx(we,{variant:t.ativo?"default":"secondary",children:t.ativo?"Ativa":"Inativa"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereo Completo"}),e.jsx("p",{className:"text-lg font-mono",children:l()})]})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Endereamento"})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rua"}),e.jsx("p",{className:"text-base",children:t.rua||"No definida"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Prateleira"}),e.jsx("p",{className:"text-base",children:t.prateleira||"No definida"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nvel"}),e.jsx("p",{className:"text-base",children:t.nivel||"No definido"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Posio"}),e.jsx("p",{className:"text-base",children:t.posicao||"No definida"})]})]})})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(jc,{className:"h-4 w-4"}),"Capacidade"]})}),e.jsx(oe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(_c,{className:"h-4 w-4"}),"Capacidade"]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Mxima (unidades):"}),e.jsx("span",{className:"text-sm font-medium",children:n(t.capacidade_maxima)})]})})]})})})]}),(t.temperatura_min!==null||t.temperatura_max!==null)&&e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ph,{className:"h-4 w-4"}),"Controle de Temperatura"]})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Temperatura Mnima:"}),e.jsx("span",{className:"text-sm font-medium",children:n(t.temperatura_min,"C")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Temperatura Mxima:"}),e.jsx("span",{className:"text-sm font-medium",children:n(t.temperatura_max,"C")})]})]})})]}),t.observacoes&&e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Observaes"})}),e.jsx(oe,{children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.observacoes})})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4"}),"Informaes de Auditoria"]})}),e.jsx(oe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Criado em"}),e.jsx("p",{className:"text-sm",children:a(t.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Atualizado em"}),e.jsx("p",{className:"text-sm",children:a(t.updated_at)})]})]})})]})]})]})})}const by=()=>{const[t,s]=d.useState([]),[r,a]=d.useState(""),[n,o]=d.useState(!0),[i,l]=d.useState(null),[c,m]=d.useState(!1),[h,p]=d.useState(!1),[b,v]=d.useState(!1),[w,x]=d.useState(null),[u,j]=d.useState("cards"),f=Mt();d.useEffect(()=>{y()},[]);const y=async()=>{o(!0);try{const{data:C,error:V}=await ie.from("localizacoes").select("*, almoxarifados(nome, codigo)").order("codigo",{ascending:!0});if(V)throw V;s(C||[])}catch(C){const V=String((C==null?void 0:C.message)||"").toLowerCase();(C==null?void 0:C.name)==="AbortError"||V.includes("abort")||(Ne.error("Erro ao carregar localizaes"),console.error("Erro ao carregar localizaes:",C))}finally{o(!1)}},g=()=>{m(!1),y()},N=()=>{p(!1),l(null),y()},D=C=>{l(C),v(!0)},L=C=>{l(C),p(!0)},$=async()=>{if(w)try{const{error:C}=await ie.from("localizacoes").delete().eq("id",w.id);if(C)throw C;Ne.success("Localizao excluda com sucesso!"),x(null),y()}catch(C){console.error("Erro ao excluir localizao:",C),Ne.error("Erro ao excluir localizao")}},M=t.filter(C=>C.codigo.toLowerCase().includes(r.toLowerCase())||C.rua.toLowerCase().includes(r.toLowerCase())),Q=C=>({picking:"Picking",bulk:"Bulk",quarentena:"Quarentena",expedicao:"Expedio"})[C]||C,P=C=>({picking:"default",bulk:"secondary",quarentena:"destructive",expedicao:"outline"})[C]||"default";return e.jsxs("div",{className:`container mx-auto ${f?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{className:`${f?"space-y-4":"flex items-center justify-between"}`,children:[e.jsxs("div",{children:[e.jsx("h1",{className:`${f?"text-2xl":"text-3xl"} font-bold tracking-tight`,children:"Localizaes"}),e.jsx("p",{className:`text-muted-foreground ${f?"text-sm":""}`,children:"Gerencie os endereos do almoxarifado"})]}),e.jsxs(At,{open:c,onOpenChange:m,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(le,{className:`gap-2 ${f?"w-full":""}`,size:f?"sm":"default",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Nova Localizao"]})}),e.jsxs(Nt,{className:`${f?"max-w-[95vw] max-h-[95vh]":"max-w-4xl max-h-[90vh]"} overflow-y-auto`,children:[e.jsx(_t,{children:e.jsx(Ct,{className:`${f?"text-lg":""}`,children:"Criar Nova Localizao"})}),e.jsx(fl,{onSuccess:g})]})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{className:`${f?"p-4 pb-2":""}`,children:e.jsxs("div",{className:`${f?"space-y-3":"flex items-center justify-between"}`,children:[e.jsx(ye,{className:"text-lg",children:"Pesquisar Localizaes"}),!f&&e.jsxs(fr,{type:"single",value:u,onValueChange:C=>C&&j(C),className:"border rounded-md",children:[e.jsxs(wt,{value:"cards","aria-label":"Visualizao em cards",className:"gap-2",children:[e.jsx(Dr,{className:"h-4 w-4"}),"Cards"]}),e.jsxs(wt,{value:"table","aria-label":"Visualizao em tabela",className:"gap-2",children:[e.jsx(Or,{className:"h-4 w-4"}),"Tabela"]})]})]})}),e.jsx(oe,{className:`${f?"p-4 pt-2":""}`,children:e.jsxs("div",{className:"relative",children:[e.jsx(ca,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(de,{placeholder:"Buscar por cdigo ou rua...",value:r,onChange:C=>a(C.target.value),className:`pl-10 ${f?"text-base":""}`})]})})]}),n?e.jsx("div",{className:`text-center ${f?"py-8":"py-12"} text-muted-foreground`,children:"Carregando localizaes..."}):M.length===0?e.jsx(ne,{children:e.jsxs(oe,{className:`flex flex-col items-center justify-center ${f?"py-8":"py-12"}`,children:[e.jsx(rs,{className:`${f?"h-8 w-8":"h-12 w-12"} text-muted-foreground mb-4`}),e.jsx("p",{className:`text-muted-foreground text-center mb-4 ${f?"text-sm":""}`,children:r?"Nenhuma localizao encontrada com este termo":"Nenhuma localizao cadastrada ainda"}),!r&&e.jsxs(le,{className:"gap-2",onClick:()=>m(!0),size:f?"sm":"default",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Cadastrar Primeira Localizao"]})]})}):f||u==="cards"?e.jsx("div",{className:`grid gap-4 ${f?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:M.map(C=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ve,{className:`${f?"p-4 pb-2":"pb-3"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ye,{className:`${f?"text-base":"text-lg"} font-semibold`,children:C.codigo}),e.jsx(we,{variant:P(C.tipo),className:`${f?"text-xs":""}`,children:Q(C.tipo)})]}),e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>D(C),children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),"Ver Detalhes"]}),e.jsxs(Ue,{onClick:()=>L(C),children:[e.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>x(C),className:"text-destructive",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]})}),e.jsx(oe,{className:`${f?"p-4 pt-2":"pt-0"}`,children:e.jsxs("div",{className:`space-y-${f?"1":"2"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Rua ",C.rua,", Prateleira ",C.prateleira]})]}),C.almoxarifados&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:C.almoxarifados.nome})]}),C.observacao&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:C.observacao})]})})]},C.id))}):e.jsx(ne,{children:e.jsx(oe,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Cdigo"}),e.jsx(ee,{children:"Tipo"}),e.jsx(ee,{children:"Endereo"}),e.jsx(ee,{children:"Almoxarifado"}),e.jsx(ee,{children:"Observao"}),e.jsx(ee,{className:"w-[100px]",children:"Aes"})]})}),e.jsx(Kt,{children:M.map(C=>{var V;return e.jsxs(He,{children:[e.jsx(Y,{className:"font-medium",children:C.codigo}),e.jsx(Y,{children:e.jsx(we,{variant:P(C.tipo),children:Q(C.tipo)})}),e.jsxs(Y,{children:["Rua ",C.rua,", Prateleira ",C.prateleira]}),e.jsx(Y,{children:((V=C.almoxarifados)==null?void 0:V.nome)||"-"}),e.jsx(Y,{className:"max-w-[200px] truncate",children:C.observacao||"-"}),e.jsx(Y,{children:e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>D(C),children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),"Ver Detalhes"]}),e.jsxs(Ue,{onClick:()=>L(C),children:[e.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>x(C),className:"text-destructive",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})})]},C.id)})})]})})})}),e.jsx(At,{open:h,onOpenChange:p,children:e.jsxs(Nt,{className:`${f?"max-w-[95vw] max-h-[95vh]":"max-w-4xl max-h-[90vh]"} overflow-y-auto`,children:[e.jsx(_t,{children:e.jsx(Ct,{className:`${f?"text-lg":""}`,children:"Editar Localizao"})}),i&&e.jsx(fl,{localizacao:i,onSuccess:N})]})}),e.jsx(yy,{localizacao:i,open:b,onOpenChange:v}),e.jsx(Go,{open:!!w,onOpenChange:()=>x(null),children:e.jsxs(mn,{className:`${f?"max-w-[95vw]":""}`,children:[e.jsxs(hn,{children:[e.jsx(pn,{className:`${f?"text-lg":""}`,children:"Confirmar Excluso"}),e.jsxs(xn,{className:`${f?"text-sm":""}`,children:['Tem certeza que deseja excluir a localizao "',w==null?void 0:w.codigo,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(fn,{className:`${f?"flex-col gap-2":""}`,children:[e.jsx(vn,{className:`${f?"w-full":""}`,children:"Cancelar"}),e.jsx(gn,{onClick:$,className:`${f?"w-full":""} bg-destructive hover:bg-destructive/90`,children:"Excluir"})]})]})})]})},jy=ma({numero:Fe().min(1,"Nmero do lote  obrigatrio"),produto_id:Fe().min(1,"Produto  obrigatrio"),data_fabricacao:Fe().optional(),data_validade:Fe().optional(),quantidade_inicial:rt().min(0,"Quantidade deve ser maior ou igual a zero"),quantidade_atual:rt().min(0,"Quantidade deve ser maior ou igual a zero"),custo_unitario:rt().min(0,"Custo deve ser maior ou igual a zero").optional(),fornecedor:Fe().optional(),observacoes:Fe().optional(),status:Nn(["ativo","bloqueado","vencido"]).default("ativo")}),pl=({lote:t,onSuccess:s})=>{const[r,a]=d.useState([]),[n,o]=d.useState(!1),i=jn({resolver:wn(jy),defaultValues:{numero:(t==null?void 0:t.numero)||"",produto_id:(t==null?void 0:t.produto_id)||"",data_fabricacao:(t==null?void 0:t.data_fabricacao)||"",data_validade:(t==null?void 0:t.data_validade)||"",quantidade_inicial:(t==null?void 0:t.quantidade_inicial)||0,quantidade_atual:(t==null?void 0:t.quantidade_atual)||0,custo_unitario:(t==null?void 0:t.custo_unitario)||0,fornecedor:(t==null?void 0:t.fornecedor)||"",observacoes:(t==null?void 0:t.observacoes)||"",status:(t==null?void 0:t.status)||"ativo"}});d.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:h,error:p}=await ie.from("produtos").select("id, nome, sku").eq("status","ativo").order("nome");if(p)throw p;a(h||[])}catch(h){console.error("Erro ao carregar produtos:",h),Ne.error("Erro ao carregar produtos")}},c=async h=>{o(!0);try{const p={...h,data_fabricacao:h.data_fabricacao||null,data_validade:h.data_validade||null,custo_unitario:h.custo_unitario||null,fornecedor:h.fornecedor||null,observacoes:h.observacoes||null};if(t){const{error:b}=await ie.from("lotes").update(p).eq("id",t.id);if(b)throw b;Ne.success("Lote atualizado com sucesso!")}else{const{error:b}=await ie.from("lotes").insert([p]);if(b)throw b;Ne.success("Lote criado com sucesso!")}s()}catch(p){console.error("Erro ao salvar lote:",p),Ne.error(p.message||"Erro ao salvar lote")}finally{o(!1)}},m=i.watch("data_validade");return d.useEffect(()=>{if(m){const h=new Date;new Date(m)<h?i.setValue("status","vencido"):i.getValues("status")==="vencido"&&i.setValue("status","ativo")}},[m,i]),e.jsx(ti,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Oe,{control:i.control,name:"numero",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Nmero do Lote *"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Ex: L001-2024",...h})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"produto_id",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Produto *"}),e.jsxs(ct,{onValueChange:h.onChange,defaultValue:h.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione um produto"})})}),e.jsx(lt,{children:r.map(p=>e.jsxs(ue,{value:p.id,children:[p.sku," - ",p.nome]},p.id))})]}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"data_fabricacao",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Data de Fabricao"}),e.jsx(Pe,{children:e.jsx(de,{type:"date",...h})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"data_validade",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Data de Validade"}),e.jsx(Pe,{children:e.jsx(de,{type:"date",...h})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"quantidade_inicial",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Quantidade Inicial *"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",min:"0",step:"0.01",...h,onChange:p=>h.onChange(parseFloat(p.target.value)||0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"quantidade_atual",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Quantidade Atual *"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",min:"0",step:"0.01",...h,onChange:p=>h.onChange(parseFloat(p.target.value)||0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"custo_unitario",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Custo Unitrio (R$)"}),e.jsx(Pe,{children:e.jsx(de,{type:"number",min:"0",step:"0.01",placeholder:"0,00",...h,onChange:p=>h.onChange(parseFloat(p.target.value)||0)})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"status",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Status"}),e.jsxs(ct,{onValueChange:h.onChange,defaultValue:h.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{})})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"ativo",children:"Ativo"}),e.jsx(ue,{value:"bloqueado",children:"Bloqueado"}),e.jsx(ue,{value:"vencido",children:"Vencido"})]})]}),e.jsx(Ve,{})]})})]}),e.jsx(Oe,{control:i.control,name:"fornecedor",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Fornecedor"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Nome do fornecedor",...h})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:i.control,name:"observacoes",render:({field:h})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Observaes"}),e.jsx(Pe,{children:e.jsx(cr,{placeholder:"Observaes adicionais sobre o lote...",className:"min-h-[100px]",...h})}),e.jsx(Ve,{})]})}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(le,{type:"submit",disabled:n,children:n?"Salvando...":t?"Atualizar Lote":"Criar Lote"})})]})})},wy=({lote:t,open:s,onOpenChange:r})=>{var h,p,b,v,w,x,u,j;if(!t)return null;const a=f=>f?new Date(f).toLocaleDateString("pt-BR"):"No informado",n=f=>f?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f):"No informado",o=f=>{switch(f){case"ativo":return"bg-green-100 text-green-800";case"bloqueado":return"bg-yellow-100 text-yellow-800";case"vencido":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=f=>{switch(f){case"ativo":return"Ativo";case"bloqueado":return"Bloqueado";case"vencido":return"Vencido";default:return f}},l=()=>t.data_validade?new Date(t.data_validade)<new Date:!1,m=(()=>{if(!t.data_validade)return null;const f=new Date,g=new Date(t.data_validade).getTime()-f.getTime();return Math.ceil(g/(1e3*60*60*24))})();return e.jsx(At,{open:s,onOpenChange:r,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Detalhes do Lote: ",t.numero]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(we,{className:o(t.status),children:i(t.status)}),l()&&e.jsxs(we,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(yt,{className:"h-3 w-3"}),"Vencido"]}),m!==null&&m>0&&m<=30&&e.jsxs(we,{variant:"outline",className:"flex items-center gap-1 text-orange-600 border-orange-600",children:[e.jsx(yt,{className:"h-3 w-3"}),"Vence em ",m," dias"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Produto"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:((h=t.produtos)==null?void 0:h.nome)||"Produto no encontrado"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",((p=t.produtos)==null?void 0:p.sku)||"N/A"]}),((b=t.produtos)==null?void 0:b.descricao)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.produtos.descricao})]})]}),e.jsx(Gt,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Informaes do Lote"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Data de Fabricao"}),e.jsx("p",{className:"text-sm text-gray-600",children:a(t.data_fabricacao)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Data de Validade"}),e.jsx("p",{className:"text-sm text-gray-600",children:a(t.data_validade)})]})]}),t.fornecedor&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nc,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fornecedor"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.fornecedor})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Quantidade Inicial"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[(v=t.quantidade_inicial)==null?void 0:v.toLocaleString("pt-BR")," ",((w=t.produtos)==null?void 0:w.unidade_medida)||"un"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Quantidade Atual"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[(x=t.quantidade_atual)==null?void 0:x.toLocaleString("pt-BR")," ",((u=t.produtos)==null?void 0:u.unidade_medida)||"un"]})]}),t.custo_unitario&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Custo Unitrio"}),e.jsx("p",{className:"text-sm text-gray-600",children:n(t.custo_unitario)})]})]})]})]})]}),t.custo_unitario&&t.quantidade_atual&&e.jsxs(e.Fragment,{children:[e.jsx(Gt,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Valor Total do Estoque"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n(t.custo_unitario*t.quantidade_atual)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(j=t.quantidade_atual)==null?void 0:j.toLocaleString("pt-BR"),"  ",n(t.custo_unitario)]})]})]})]}),t.observacoes&&e.jsxs(e.Fragment,{children:[e.jsx(Gt,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Observaes"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.observacoes})})]})]}),e.jsx(Gt,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Auditoria"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Criado em"}),e.jsx("p",{children:a(t.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"ltima atualizao"}),e.jsx("p",{children:a(t.updated_at)})]})]})]})]})]})})};function Ny(){const[t,s]=d.useState([]),[r,a]=d.useState(!0),[n,o]=d.useState(""),[i,l]=d.useState("todos"),[c,m]=d.useState("todos"),[h,p]=d.useState("cards"),[b,v]=d.useState(null),[w,x]=d.useState(!1),[u,j]=d.useState(!1),[f,y]=d.useState(!1),[g,N]=d.useState(null);Mt(),d.useEffect(()=>{D()},[]);const D=async()=>{try{a(!0);const{data:R,error:k}=await ie.from("lotes").select(`
          *,
          produtos (
            id,
            nome,
            sku,
            unidade
          )
        `).order("created_at",{ascending:!1});if(k)throw k;s(R||[])}catch(R){console.error("Erro ao carregar lotes:",R),Ne.error("Erro ao carregar lotes")}finally{a(!1)}},L=()=>{x(!1),D()},$=()=>{j(!1),v(null),D()},M=R=>{v(R),y(!0)},Q=R=>{v(R),j(!0)},P=async()=>{if(g)try{const{error:R}=await ie.from("lotes").delete().eq("id",g.id);if(R)throw R;Ne.success("Lote excludo com sucesso!"),N(null),D()}catch(R){console.error("Erro ao excluir lote:",R),Ne.error(R.message||"Erro ao excluir lote")}},C=R=>{switch(R){case"ativo":return"bg-green-100 text-green-800";case"bloqueado":return"bg-yellow-100 text-yellow-800";case"vencido":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=R=>{switch(R){case"ativo":return"Ativo";case"bloqueado":return"Bloqueado";case"vencido":return"Vencido";default:return R}},E=R=>R?new Date(R)<new Date:!1,W=R=>{if(!R)return null;const k=new Date,te=new Date(R).getTime()-k.getTime();return Math.ceil(te/(1e3*60*60*24))},K=t.filter(R=>{var re,ce,me,Le,Ke,H;const k=((re=R.numero)==null?void 0:re.toLowerCase().includes(n.toLowerCase()))||((me=(ce=R.produtos)==null?void 0:ce.nome)==null?void 0:me.toLowerCase().includes(n.toLowerCase()))||((Ke=(Le=R.produtos)==null?void 0:Le.sku)==null?void 0:Ke.toLowerCase().includes(n.toLowerCase()))||((H=R.fornecedor)==null?void 0:H.toLowerCase().includes(n.toLowerCase())),U=i==="todos"||R.status===i;let te=!0;if(c==="vencidos")te=E(R.data_validade);else if(c==="vencendo"){const Ce=W(R.data_validade);te=Ce!==null&&Ce>0&&Ce<=30}else if(c==="validos"){const Ce=W(R.data_validade);te=Ce===null||Ce>30}return k&&U&&te}),S=R=>R?new Date(R).toLocaleDateString("pt-BR"):"No informado";return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando lotes..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Lotes"}),e.jsx("p",{className:"text-gray-600",children:"Controle de lotes com rastreabilidade e validade"})]}),e.jsxs(At,{open:w,onOpenChange:x,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(le,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Novo Lote"]})}),e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsx(Ct,{children:"Criar Novo Lote"})}),e.jsx(pl,{onSuccess:L})]})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx(ye,{className:"text-lg",children:"Filtros e Busca"})}),e.jsxs(fr,{type:"single",value:h,onValueChange:R=>R&&p(R),className:"border rounded-lg p-1",children:[e.jsx(wt,{value:"cards","aria-label":"Visualizao em cards",size:"sm",children:e.jsx(Dr,{className:"h-4 w-4"})}),e.jsx(wt,{value:"table","aria-label":"Visualizao em tabela",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsx(oe,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(de,{placeholder:"Buscar por nmero, produto, SKU ou fornecedor...",value:n,onChange:R=>o(R.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ct,{value:i,onValueChange:l,children:[e.jsx(it,{className:"w-[140px]",children:e.jsx(dt,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todos",children:"Todos Status"}),e.jsx(ue,{value:"ativo",children:"Ativo"}),e.jsx(ue,{value:"bloqueado",children:"Bloqueado"}),e.jsx(ue,{value:"vencido",children:"Vencido"})]})]}),e.jsxs(ct,{value:c,onValueChange:m,children:[e.jsx(it,{className:"w-[140px]",children:e.jsx(dt,{placeholder:"Validade"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todos",children:"Todas"}),e.jsx(ue,{value:"validos",children:"Vlidos"}),e.jsx(ue,{value:"vencendo",children:"Vencendo (30d)"}),e.jsx(ue,{value:"vencidos",children:"Vencidos"})]})]})]})]})})]}),K.length===0?e.jsx(ne,{children:e.jsxs(oe,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Ge,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.length===0?"Nenhum lote cadastrado":"Nenhum lote encontrado"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:t.length===0?"Comece criando seu primeiro lote para controlar o estoque.":"Tente ajustar os filtros para encontrar o que procura."}),t.length===0&&e.jsxs(le,{onClick:()=>x(!0),className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Cadastrar Primeiro Lote"]})]})}):h==="cards"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(R=>{var te,re,ce,me,Le,Ke,H;const k=W(R.data_validade),U=E(R.data_validade);return e.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:R.numero}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"SKU:"})," ",(te=R.produtos)==null?void 0:te.sku]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Produto:"})," ",(re=R.produtos)==null?void 0:re.nome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Unidade:"})," ",(ce=R.produtos)==null?void 0:ce.unidade]})]})]}),e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>M(R),children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]}),e.jsxs(Ue,{onClick:()=>Q(R),children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>N(R),className:"text-red-600",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})}),e.jsxs(oe,{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(we,{className:C(R.status),children:V(R.status)}),U&&e.jsxs(we,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(yt,{className:"h-3 w-3"}),"Vencido"]}),k!==null&&k>0&&k<=30&&e.jsxs(we,{variant:"outline",className:"text-orange-600 border-orange-600",children:[e.jsx(yt,{className:"h-3 w-3 mr-1"}),k,"d"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Qtd. Atual"}),e.jsxs("p",{className:"font-semibold text-green-600",children:[(me=R.quantidade_atual)==null?void 0:me.toLocaleString("pt-BR")," ",((Le=R.produtos)==null?void 0:Le.unidade_medida)||"un"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Qtd. Inicial"}),e.jsxs("p",{className:"font-semibold text-blue-600",children:[(Ke=R.quantidade_inicial)==null?void 0:Ke.toLocaleString("pt-BR")," ",((H=R.produtos)==null?void 0:H.unidade_medida)||"un"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[R.data_fabricacao&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Is,{className:"h-3 w-3"}),"Fab: ",S(R.data_fabricacao)]}),R.data_validade&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Is,{className:"h-3 w-3"}),"Val: ",S(R.data_validade)]})]}),R.fornecedor&&e.jsxs("div",{className:"text-xs text-gray-600",children:["Fornecedor: ",R.fornecedor]})]})]},R.id)})}):e.jsx(ne,{className:"shadow-md",children:e.jsx(oe,{className:"p-0",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Lote"}),e.jsx(ee,{children:"Produto"}),e.jsx(ee,{children:"SKU"}),e.jsx(ee,{children:"Unidade"}),e.jsx(ee,{children:"Status"}),e.jsx(ee,{children:"Qtd. Atual"}),e.jsx(ee,{children:"Qtd. Inicial"}),e.jsx(ee,{children:"Validade"}),e.jsx(ee,{children:"Fornecedor"}),e.jsx(ee,{className:"text-right",children:"Aes"})]})}),e.jsx(Kt,{children:K.map(R=>{var te,re,ce,me,Le,Ke,H;const k=W(R.data_validade),U=E(R.data_validade);return e.jsxs(He,{className:"hover:bg-muted/50",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:R.numero})]})}),e.jsx(Y,{children:(te=R.produtos)==null?void 0:te.nome}),e.jsx(Y,{children:(re=R.produtos)==null?void 0:re.sku}),e.jsx(Y,{children:(ce=R.produtos)==null?void 0:ce.unidade}),e.jsx(Y,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx(we,{className:C(R.status),children:V(R.status)}),U&&e.jsxs(we,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(yt,{className:"h-3 w-3"}),"Vencido"]}),k!==null&&k>0&&k<=30&&e.jsxs(we,{variant:"outline",className:"text-orange-600 border-orange-600",children:[e.jsx(yt,{className:"h-3 w-3 mr-1"}),k,"d"]})]})}),e.jsx(Y,{children:e.jsxs("span",{className:"font-semibold text-green-600",children:[(me=R.quantidade_atual)==null?void 0:me.toLocaleString("pt-BR")," ",((Le=R.produtos)==null?void 0:Le.unidade_medida)||"un"]})}),e.jsx(Y,{children:e.jsxs("span",{className:"font-semibold text-blue-600",children:[(Ke=R.quantidade_inicial)==null?void 0:Ke.toLocaleString("pt-BR")," ",((H=R.produtos)==null?void 0:H.unidade_medida)||"un"]})}),e.jsx(Y,{children:e.jsx("div",{className:"text-sm",children:R.data_validade?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-3 w-3 text-muted-foreground"}),S(R.data_validade)]}):""})}),e.jsx(Y,{children:R.fornecedor||""}),e.jsx(Y,{className:"text-right",children:e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>M(R),children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]}),e.jsxs(Ue,{onClick:()=>Q(R),children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(Ue,{onClick:()=>N(R),className:"text-red-600",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},R.id)})})]})})}),e.jsx(At,{open:u,onOpenChange:j,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(_t,{children:e.jsx(Ct,{children:"Editar Lote"})}),b&&e.jsx(pl,{lote:b,onSuccess:$})]})}),e.jsx(wy,{lote:b,open:f,onOpenChange:y}),e.jsx(Go,{open:!!g,onOpenChange:()=>N(null),children:e.jsxs(mn,{children:[e.jsxs(hn,{children:[e.jsx(pn,{children:"Confirmar Excluso"}),e.jsxs(xn,{children:['Tem certeza que deseja excluir o lote "',g==null?void 0:g.numero,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(fn,{children:[e.jsx(vn,{children:"Cancelar"}),e.jsx(gn,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})}const _y=ma({produto_id:Fe().min(1,"Produto  obrigatrio"),lote_numero:Fe().min(1,"Nmero do lote  obrigatrio"),quantidade_esperada:rt().min(0,"Quantidade deve ser maior ou igual a zero"),quantidade_recebida:rt().min(0,"Quantidade deve ser maior ou igual a zero"),data_fabricacao:Fe().optional(),data_validade:Fe().optional(),observacoes:Fe().optional(),localizacao_sugerida:Fe().optional(),localizacao_confirmada:Fe().optional()}),Cy=ma({numero_documento:Fe().min(1,"Nmero do documento  obrigatrio"),fornecedor:Fe().min(1,"Fornecedor  obrigatrio"),data_prevista:Fe().min(1,"Data prevista  obrigatria"),observacoes:Fe().optional(),status:Nn(["pendente","em_conferencia","conferido","finalizado"]).default("pendente"),itens:ry(_y).min(1,"Pelo menos um item  obrigatrio")}),Sy=({recebimento:t,onSuccess:s,modo:r="criacao"})=>{const[a,n]=d.useState([]),[o,i]=d.useState([]),[l,c]=d.useState(!1),[m,h]=d.useState([]),p=jn({resolver:wn(Cy),defaultValues:{numero_documento:(t==null?void 0:t.numero_documento)||"",fornecedor:(t==null?void 0:t.fornecedor)||"",data_prevista:(t==null?void 0:t.data_prevista)||new Date().toISOString().split("T")[0],observacoes:(t==null?void 0:t.observacoes)||"",status:(t==null?void 0:t.status)||"pendente",itens:(t==null?void 0:t.itens)||[]}});d.useEffect(()=>{b(),v(),t!=null&&t.itens&&h(t.itens)},[t]);const b=async()=>{try{const{data:g,error:N}=await ie.from("produtos").select("id, nome, sku, unidade").eq("status","ativo").order("nome");if(N)throw N;n(g||[])}catch(g){console.error("Erro ao carregar produtos:",g),Ne.error("Erro ao carregar produtos")}},v=async()=>{try{const{data:g,error:N}=await ie.from("localizacoes").select("id, nome, rua, prateleira, nivel, posicao, status").eq("status","ativo").order("nome");if(N)throw N;i(g||[])}catch(g){console.error("Erro ao carregar localizaes:",g),Ne.error("Erro ao carregar localizaes")}},w=async g=>{var N;try{const{data:D,error:L}=await ie.from("movimentacoes").select("localizacao_id, localizacoes(id, nome, rua, prateleira, nivel, posicao)").eq("produto_id",g).eq("tipo","entrada").order("created_at",{ascending:!1}).limit(5);if(L)throw L;if(D&&D.length>0)return D[0].localizacao_id;const{data:$,error:M}=await ie.from("localizacoes").select("id").eq("status","ativo").limit(1);if(M)throw M;return((N=$==null?void 0:$[0])==null?void 0:N.id)||null}catch(D){return console.error("Erro ao sugerir localizao:",D),null}},x=()=>{const g={produto_id:"",lote_numero:"",quantidade_esperada:0,quantidade_recebida:0,data_fabricacao:"",data_validade:"",observacoes:"",localizacao_sugerida:"",localizacao_confirmada:""};h([...m,g])},u=g=>{const N=m.filter((D,L)=>L!==g);h(N),p.setValue("itens",N)},j=async(g,N,D)=>{const L=[...m];if(L[g]={...L[g],[N]:D},N==="produto_id"&&D){const $=await w(D);$&&(L[g].localizacao_sugerida=$)}h(L),p.setValue("itens",L)},f=async g=>{c(!0);try{const N={...g,itens:m,observacoes:g.observacoes||null};if(t){const{error:D}=await ie.from("recebimentos").update(N).eq("id",t.id);if(D)throw D;Ne.success("Recebimento atualizado com sucesso!")}else{const{error:D}=await ie.from("recebimentos").insert([N]);if(D)throw D;Ne.success("Recebimento criado com sucesso!")}s()}catch(N){console.error("Erro ao salvar recebimento:",N),Ne.error(N.message||"Erro ao salvar recebimento")}finally{c(!1)}},y=g=>g.quantidade_recebida-g.quantidade_esperada;return e.jsx(ti,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(f),className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Informaes do Recebimento"]})}),e.jsxs(oe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Oe,{control:p.control,name:"numero_documento",render:({field:g})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Nmero do Documento *"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Ex: NF-001234",...g})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:p.control,name:"fornecedor",render:({field:g})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Fornecedor *"}),e.jsx(Pe,{children:e.jsx(de,{placeholder:"Nome do fornecedor",...g})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:p.control,name:"data_prevista",render:({field:g})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Data Prevista *"}),e.jsx(Pe,{children:e.jsx(de,{type:"date",...g})}),e.jsx(Ve,{})]})}),e.jsx(Oe,{control:p.control,name:"status",render:({field:g})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Status"}),e.jsxs(ct,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(Pe,{children:e.jsx(it,{children:e.jsx(dt,{})})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"pendente",children:"Pendente"}),e.jsx(ue,{value:"em_conferencia",children:"Em Conferncia"}),e.jsx(ue,{value:"conferido",children:"Conferido"}),e.jsx(ue,{value:"finalizado",children:"Finalizado"})]})]}),e.jsx(Ve,{})]})})]}),e.jsx(Oe,{control:p.control,name:"observacoes",render:({field:g})=>e.jsxs(Te,{children:[e.jsx(Re,{children:"Observaes"}),e.jsx(Pe,{children:e.jsx(cr,{placeholder:"Observaes sobre o recebimento...",className:"min-h-[80px]",...g})}),e.jsx(Ve,{})]})})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ye,{children:"Itens do Recebimento"}),e.jsxs(le,{type:"button",onClick:x,size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Adicionar Item"]})]})}),e.jsxs(oe,{className:"space-y-4",children:[m.map((g,N)=>{a.find($=>$.id===g.produto_id);const D=y(g),L=D!==0;return e.jsxs(ne,{className:`border ${L?"border-orange-200 bg-orange-50":""}`,children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"font-medium",children:["Item ",N+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L&&e.jsxs(we,{variant:"outline",className:"text-orange-600 border-orange-600",children:[e.jsx(yt,{className:"h-3 w-3 mr-1"}),"Divergncia: ",D>0?"+":"",D]}),e.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(N),children:e.jsx(Eo,{className:"h-4 w-4"})})]})]})}),e.jsxs(oe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Produto *"}),e.jsxs(ct,{value:g.produto_id,onValueChange:$=>j(N,"produto_id",$),children:[e.jsx(it,{children:e.jsx(dt,{placeholder:"Selecione um produto"})}),e.jsx(lt,{children:a.map($=>e.jsxs(ue,{value:$.id,children:[$.sku," - ",$.nome]},$.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nmero do Lote *"}),e.jsx(de,{value:g.lote_numero,onChange:$=>j(N,"lote_numero",$.target.value),placeholder:"Ex: L001-2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Qtd. Esperada *"}),e.jsx(de,{type:"number",min:"0",step:"0.01",value:g.quantidade_esperada,onChange:$=>j(N,"quantidade_esperada",parseFloat($.target.value)||0)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Qtd. Recebida *"}),e.jsx(de,{type:"number",min:"0",step:"0.01",value:g.quantidade_recebida,onChange:$=>j(N,"quantidade_recebida",parseFloat($.target.value)||0),className:L?"border-orange-300":""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Data de Fabricao"}),e.jsx(de,{type:"date",value:g.data_fabricacao,onChange:$=>j(N,"data_fabricacao",$.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Data de Validade"}),e.jsx(de,{type:"date",value:g.data_validade,onChange:$=>j(N,"data_validade",$.target.value)})]})]}),(r==="putaway"||r==="conferencia")&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h5",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),"Putaway - Localizao"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Localizao Sugerida"}),e.jsxs(ct,{value:g.localizacao_sugerida,onValueChange:$=>j(N,"localizacao_sugerida",$),children:[e.jsx(it,{children:e.jsx(dt,{placeholder:"Sistema sugerir automaticamente"})}),e.jsx(lt,{children:o.map($=>e.jsxs(ue,{value:$.id,children:[$.nome," - ",$.rua,"/",$.prateleira,"/",$.nivel,"/",$.posicao]},$.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Localizao Confirmada"}),e.jsxs(ct,{value:g.localizacao_confirmada,onValueChange:$=>j(N,"localizacao_confirmada",$),children:[e.jsx(it,{children:e.jsx(dt,{placeholder:"Confirme a localizao"})}),e.jsx(lt,{children:o.map($=>e.jsxs(ue,{value:$.id,children:[$.nome," - ",$.rua,"/",$.prateleira,"/",$.nivel,"/",$.posicao]},$.id))})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Observaes"}),e.jsx(cr,{value:g.observacoes,onChange:$=>j(N,"observacoes",$.target.value),placeholder:"Observaes sobre este item...",className:"min-h-[60px]"})]})]})]},N)}),m.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Nenhum item adicionado ainda."}),e.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Item" para comear.'})]})]})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(le,{type:"submit",disabled:l||m.length===0,children:l?"Salvando...":t?"Atualizar Recebimento":"Criar Recebimento"})})]})})};function ky(){const[t,s]=d.useState([]),[r,a]=d.useState(!0),[n,o]=d.useState(""),[i,l]=d.useState("todos"),[c,m]=d.useState(!1),[h,p]=d.useState(null),[b,v]=d.useState("criacao"),[w,x]=d.useState("cards"),u=Mt();d.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0);const{data:P,error:C}=await ie.from("recebimentos").select(`
          *,
          itens:recebimento_itens(*)
        `).order("created_at",{ascending:!1});if(C)throw C;s(P||[])}catch(P){console.error("Erro ao carregar recebimentos:",P),Ne.error("Erro ao carregar recebimentos")}finally{a(!1)}},f=async P=>{try{const{error:C}=await ie.from("recebimentos").delete().eq("id",P);if(C)throw C;Ne.success("Recebimento excludo com sucesso!"),j()}catch(C){console.error("Erro ao excluir recebimento:",C),Ne.error(C.message||"Erro ao excluir recebimento")}},y=P=>({pendente:"Pendente",em_conferencia:"Em Conferncia",conferido:"Conferido",finalizado:"Finalizado"})[P]||P,g=P=>({pendente:"secondary",em_conferencia:"default",conferido:"outline",finalizado:"default"})[P]||"default",N=P=>{const V={pendente:ui,em_conferencia:Ge,conferido:An,finalizado:An}[P]||ui;return e.jsx(V,{className:"h-4 w-4"})},D=t.filter(P=>{const C=P.numero_documento.toLowerCase().includes(n.toLowerCase())||P.fornecedor.toLowerCase().includes(n.toLowerCase()),V=i==="todos"||P.status===i;return C&&V}),L=()=>{m(!1),p(null),v("criacao"),j()},$=P=>{p(P),v("criacao"),m(!0)},M=P=>{p(P),v("conferencia"),m(!0)},Q=P=>{p(P),v("putaway"),m(!0)};return r?e.jsx("div",{className:`container mx-auto ${u?"p-4":"p-6"}`,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ge,{className:"h-8 w-8 animate-pulse mx-auto mb-4"}),e.jsx("p",{children:"Carregando recebimentos..."})]})})}):e.jsxs("div",{className:`container mx-auto ${u?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{className:`${u?"space-y-4":"flex items-center justify-between"}`,children:[e.jsxs("div",{children:[e.jsx("h1",{className:`${u?"text-2xl":"text-3xl"} font-bold tracking-tight`,children:"Recebimentos"}),e.jsx("p",{className:`text-muted-foreground ${u?"text-sm":""}`,children:"Gerencie os recebimentos de mercadorias"})]}),e.jsxs(At,{open:c,onOpenChange:m,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(le,{className:`gap-2 ${u?"w-full":""}`,size:u?"sm":"default",onClick:()=>{p(null),v("criacao")},children:[e.jsx(Pt,{className:"h-4 w-4"}),"Novo Recebimento"]})}),e.jsxs(Nt,{className:`${u?"max-w-[95vw] max-h-[95vh]":"max-w-4xl max-h-[90vh]"} overflow-y-auto`,children:[e.jsx(_t,{children:e.jsx(Ct,{className:`${u?"text-lg":""}`,children:h?b==="conferencia"?"Conferir Recebimento":b==="putaway"?"Enderear Produtos":"Editar Recebimento":"Novo Recebimento"})}),e.jsx(Sy,{recebimento:h,modo:b,onSuccess:L})]})]})]}),e.jsxs(ne,{children:[e.jsx(ve,{className:`${u?"p-4 pb-2":""}`,children:e.jsxs("div",{className:`${u?"space-y-3":"flex items-center justify-between"}`,children:[e.jsx(ye,{className:"text-lg",children:"Filtros e Busca"}),!u&&e.jsxs(fr,{type:"single",value:w,onValueChange:P=>P&&x(P),className:"border rounded-md",children:[e.jsxs(wt,{value:"cards","aria-label":"Visualizao em cards",className:"gap-2",children:[e.jsx(Dr,{className:"h-4 w-4"}),"Cards"]}),e.jsxs(wt,{value:"table","aria-label":"Visualizao em tabela",className:"gap-2",children:[e.jsx(Or,{className:"h-4 w-4"}),"Tabela"]})]})]})}),e.jsx(oe,{className:`${u?"p-4 pt-2":""}`,children:e.jsxs("div",{className:`${u?"space-y-3":"flex gap-4"}`,children:[e.jsxs("div",{className:`relative ${u?"w-full":"flex-1"}`,children:[e.jsx(ca,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(de,{placeholder:"Buscar por documento ou fornecedor...",value:n,onChange:P=>o(P.target.value),className:`pl-10 ${u?"text-base":""}`})]}),e.jsxs(ct,{value:i,onValueChange:l,children:[e.jsx(it,{className:`${u?"w-full":"w-[200px]"}`,children:e.jsx(dt,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todos",children:"Todos os Status"}),e.jsx(ue,{value:"pendente",children:"Pendente"}),e.jsx(ue,{value:"em_conferencia",children:"Em Conferncia"}),e.jsx(ue,{value:"conferido",children:"Conferido"}),e.jsx(ue,{value:"finalizado",children:"Finalizado"})]})]})]})})]}),D.length===0?e.jsx(ne,{children:e.jsxs(oe,{className:`flex flex-col items-center justify-center ${u?"py-8":"py-12"}`,children:[e.jsx(Ge,{className:`${u?"h-8 w-8":"h-12 w-12"} text-muted-foreground mb-4`}),e.jsx("p",{className:`text-muted-foreground text-center mb-4 ${u?"text-sm":""}`,children:n||i!=="todos"?"Nenhum recebimento encontrado com os filtros aplicados":"Nenhum recebimento cadastrado ainda"}),!n&&i==="todos"&&e.jsxs(le,{className:"gap-2",onClick:()=>m(!0),size:u?"sm":"default",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Criar Primeiro Recebimento"]})]})}):u||w==="cards"?e.jsx("div",{className:`grid gap-4 ${u?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:D.map(P=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ve,{className:`${u?"p-4 pb-2":"pb-3"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ye,{className:`${u?"text-base":"text-lg"} font-semibold`,children:P.numero_documento}),e.jsxs(we,{variant:g(P.status),className:`gap-1 ${u?"text-xs":""}`,children:[N(P.status),y(P.status)]})]}),e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>$(P),children:[e.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Editar"]}),P.status==="pendente"&&e.jsxs(Ue,{onClick:()=>M(P),children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Conferir"]}),P.status==="conferido"&&e.jsxs(Ue,{onClick:()=>Q(P),children:[e.jsx(rs,{className:"mr-2 h-4 w-4"}),"Enderear"]}),e.jsxs(Ue,{onClick:()=>f(P.id),className:"text-destructive",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]})}),e.jsx(oe,{className:`${u?"p-4 pt-2":"pt-0"}`,children:e.jsxs("div",{className:`space-y-${u?"1":"2"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nc,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:P.fornecedor})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Previsto: ",new Date(P.data_prevista).toLocaleDateString("pt-BR")]})]}),P.data_recebimento&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(An,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["Recebido: ",new Date(P.data_recebimento).toLocaleDateString("pt-BR")]})]}),P.itens&&P.itens.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[P.itens.length," ",P.itens.length===1?"item":"itens"]})]}),P.observacoes&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:P.observacoes})]})})]},P.id))}):e.jsx(ne,{children:e.jsx(oe,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Documento"}),e.jsx(ee,{children:"Fornecedor"}),e.jsx(ee,{children:"Status"}),e.jsx(ee,{children:"Data Prevista"}),e.jsx(ee,{children:"Data Recebimento"}),e.jsx(ee,{children:"Itens"}),e.jsx(ee,{className:"w-[100px]",children:"Aes"})]})}),e.jsx(Kt,{children:D.map(P=>{var C,V;return e.jsxs(He,{children:[e.jsx(Y,{className:"font-medium",children:P.numero_documento}),e.jsx(Y,{children:P.fornecedor}),e.jsx(Y,{children:e.jsxs(we,{variant:g(P.status),className:"gap-1",children:[N(P.status),y(P.status)]})}),e.jsx(Y,{children:new Date(P.data_prevista).toLocaleDateString("pt-BR")}),e.jsx(Y,{children:P.data_recebimento?new Date(P.data_recebimento).toLocaleDateString("pt-BR"):"-"}),e.jsxs(Y,{children:[((C=P.itens)==null?void 0:C.length)||0," ",(((V=P.itens)==null?void 0:V.length)||0)===1?"item":"itens"]}),e.jsx(Y,{children:e.jsxs(zs,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ls,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsxs(Ue,{onClick:()=>$(P),children:[e.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Editar"]}),P.status==="pendente"&&e.jsxs(Ue,{onClick:()=>M(P),children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Conferir"]}),P.status==="conferido"&&e.jsxs(Ue,{onClick:()=>Q(P),children:[e.jsx(rs,{className:"mr-2 h-4 w-4"}),"Enderear"]}),e.jsxs(Ue,{onClick:()=>f(P.id),className:"text-destructive",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})})]},P.id)})})]})})})})]})}const Ey=()=>{const[t,s]=d.useState([]),[r,a]=d.useState(!0),n=Mt();d.useEffect(()=>{o()},[]);const o=async()=>{a(!0);try{const{data:c,error:m}=await ie.from("movimentacoes").select(`
          *,
          produtos(sku, nome),
          profiles(nome_completo),
          lotes(numero_lote),
          localizacao_origem:localizacoes!movimentacoes_localizacao_origem_id_fkey(codigo, rua, prateleira),
          localizacao_destino:localizacoes!movimentacoes_localizacao_destino_id_fkey(codigo, rua, prateleira)
        `).order("realizada_em",{ascending:!1}).limit(50);if(m)throw m;s(c||[])}catch(c){const m=String((c==null?void 0:c.message)||"").toLowerCase();(c==null?void 0:c.name)==="AbortError"||m.includes("abort")||(Ne.error("Erro ao carregar movimentaes"),console.error("Erro ao carregar movimentaes:",c))}finally{a(!1)}},i=c=>({entrada:"Entrada",saida:"Sada",transferencia:"Transferncia",ajuste:"Ajuste",devolucao:"Devoluo"})[c]||c,l=c=>({entrada:"default",saida:"destructive",transferencia:"secondary",ajuste:"outline",devolucao:"secondary"})[c]||"default";return r?e.jsx("div",{className:`container mx-auto ${n?"p-4":"p-6"}`,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Carregando movimentaes..."})]})})}):e.jsxs("div",{className:`container mx-auto ${n?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{className:`${n?"space-y-4":"flex items-center justify-between"}`,children:[e.jsxs("div",{children:[e.jsx("h1",{className:`${n?"text-2xl":"text-3xl"} font-bold tracking-tight`,children:"Movimentaes"}),e.jsx("p",{className:`text-muted-foreground ${n?"text-sm":""}`,children:"Histrico de operaes do almoxarifado"})]}),e.jsxs("div",{className:`flex gap-2 ${n?"w-full":""}`,children:[e.jsxs(le,{onClick:o,variant:"outline",size:n?"sm":"default",className:`gap-2 ${n?"flex-1":""}`,children:[e.jsx(or,{className:"h-4 w-4"}),"Atualizar"]}),!n&&e.jsxs(e.Fragment,{children:[e.jsxs(le,{variant:"outline",className:"gap-2",children:[e.jsx(Bn,{className:"h-4 w-4"}),"Filtros"]}),e.jsxs(le,{variant:"outline",className:"gap-2",children:[e.jsx(zn,{className:"h-4 w-4"}),"Exportar"]})]}),e.jsxs(le,{className:`gap-2 ${n?"flex-1":""}`,size:n?"sm":"default",children:[e.jsx(Pt,{className:"h-4 w-4"}),n?"Nova":"Nova Movimentao"]})]})]}),n&&e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsxs(le,{variant:"outline",className:"gap-2 flex-1",size:"sm",children:[e.jsx(Bn,{className:"h-4 w-4"}),"Filtros"]}),e.jsxs(le,{variant:"outline",className:"gap-2 flex-1",size:"sm",children:[e.jsx(zn,{className:"h-4 w-4"}),"Exportar"]})]}),t.length===0?e.jsx(ne,{children:e.jsxs(oe,{className:`flex flex-col items-center justify-center ${n?"py-8":"py-12"}`,children:[e.jsx("p",{className:`text-muted-foreground text-center mb-4 ${n?"text-sm":""}`,children:"Nenhuma movimentao registrada ainda"}),e.jsxs(le,{className:"gap-2",size:n?"sm":"default",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Registrar Primeira Movimentao"]})]})}):e.jsxs(ne,{children:[e.jsx(ve,{className:`${n?"p-4 pb-2":""}`,children:e.jsx(ye,{className:`${n?"text-lg":""}`,children:"ltimas Movimentaes"})}),e.jsx(oe,{className:`${n?"p-4 pt-2":""}`,children:e.jsx("div",{className:`space-y-${n?"3":"4"}`,children:t.map(c=>{var m,h,p;return e.jsxs("div",{className:`${n?"p-3":"p-4"} border border-border rounded-lg hover:bg-muted/50 transition-colors`,children:[e.jsxs("div",{className:`flex items-start justify-between ${n?"mb-2":"mb-3"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-wrap":""}`,children:[e.jsx(we,{variant:l(c.tipo),children:i(c.tipo)}),e.jsx("span",{className:`font-medium ${n?"text-sm":""}`,children:(m=c.produtos)==null?void 0:m.sku}),c.documento&&e.jsxs(we,{variant:"outline",className:`${n?"text-xs":""}`,children:["Doc: ",c.documento]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`font-semibold ${n?"text-base":"text-lg"}`,children:[c.quantidade," UN"]})})]}),e.jsxs("div",{className:`space-y-${n?"1":"2"}`,children:[e.jsx("p",{className:`${n?"text-xs":"text-sm"} font-medium`,children:(h=c.produtos)==null?void 0:h.nome}),c.lotes&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Lote: ",c.lotes.numero_lote]}),(c.localizacao_origem||c.localizacao_destino)&&e.jsxs("div",{className:`text-xs text-muted-foreground flex items-center gap-2 ${n?"flex-wrap":""}`,children:[c.localizacao_origem&&e.jsxs("span",{children:["De: ",c.localizacao_origem.codigo]}),c.localizacao_origem&&c.localizacao_destino&&e.jsx("span",{children:""}),c.localizacao_destino&&e.jsxs("span",{children:["Para: ",c.localizacao_destino.codigo]})]}),c.observacao&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:c.observacao}),e.jsxs("div",{className:`text-xs text-muted-foreground ${n?"pt-1":"pt-2"} border-t border-border`,children:["Por ",(p=c.profiles)==null?void 0:p.nome_completo," "," ",new Date(c.realizada_em).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:n?"2-digit":"numeric",hour:"2-digit",minute:"2-digit"})]})]})]},c.id)})})})]})]})},wm=A.memo(({title:t,description:s,data:r,dataKey:a="value",nameKey:n="name",orientation:o="vertical",showGrid:i=!0,height:l=300,className:c})=>{const m=p=>new Intl.NumberFormat("pt-BR").format(p),h=({active:p,payload:b,label:v})=>p&&b&&b.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3",children:[e.jsx("p",{className:"font-medium",children:v}),e.jsxs("p",{className:"text-primary",children:[e.jsx("span",{className:"font-medium",children:"Valor: "}),m(b[0].value)]})]}):null;return e.jsxs(ne,{className:q("transition-all duration-200 hover:shadow-md",c),children:[e.jsxs(ve,{className:"pb-2",children:[e.jsx(ye,{className:"text-base sm:text-lg font-semibold truncate",children:t}),s&&e.jsx(bt,{className:"text-xs sm:text-sm",children:s})]}),e.jsx(oe,{className:"p-2 sm:p-6",children:e.jsx(oa,{width:"100%",height:l,children:e.jsxs(Gm,{data:r,layout:o==="horizontal"?"horizontal":"vertical",margin:{top:10,right:10,left:o==="horizontal"?40:10,bottom:o==="horizontal"?10:40},children:[i&&e.jsx(jo,{strokeDasharray:"3 3",className:"opacity-30",stroke:"hsl(var(--border))"}),o==="horizontal"?e.jsxs(e.Fragment,{children:[e.jsx(Ea,{type:"number",className:"text-xs fill-muted-foreground",tick:{fontSize:12}}),e.jsx(Qr,{type:"category",dataKey:n,className:"text-xs fill-muted-foreground",tick:{fontSize:12},width:80})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ea,{dataKey:n,className:"text-xs fill-muted-foreground",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(Qr,{className:"text-xs fill-muted-foreground",tick:{fontSize:12}})]}),e.jsx(Ya,{content:e.jsx(h,{})}),e.jsx(Ql,{dataKey:a,fill:"hsl(var(--primary))",radius:o==="horizontal"?[0,4,4,0]:[4,4,0,0],className:"hover:opacity-80 transition-opacity"})]})})})]})});wm.displayName="BarChart";const Ty=()=>{console.log(" [DEBUG] Componente Estoque renderizado");const[t,s]=d.useState(""),[r,a]=d.useState(""),[n,o]=d.useState(""),[i,l]=d.useState(null),[c,m]=d.useState(!1),{estoqueConsolidado:h,historicoEstoque:p,loading:b,error:v,carregarEstoqueConsolidado:w,carregarHistoricoEstoque:x,obterEstatisticasEstoque:u,executarVerificacaoEstoque:j}=ku(),{alertas:f,obterContadoresAlertas:y}=Su(),g=Mt(),[N,D]=d.useState(g?"cards":"table");d.useEffect(()=>{g&&D("cards")},[g]);const[L,$]=d.useState({totalItensEstoque:0,totalProdutos:0,valorTotalEstoque:0,produtosCriticos:0,produtosBaixos:0,produtosExcesso:0,produtosNormais:0}),[M,Q]=d.useState({total:0,criticos:0,altos:0,medios:0,baixos:0,estoque_minimo:0,estoque_maximo:0,produto_vencido:0,produto_vencendo:0});d.useEffect(()=>{console.log(" [DEBUG] useEffect executado - carregando dados"),console.log(" [DEBUG] Estado inicial:",{estoqueConsolidado:h.length,loading:b,error:v}),(async()=>{try{console.log(" [DEBUG] Carregando estoque consolidado..."),await w(),console.log(" [DEBUG] Estoque consolidado carregado"),console.log(" [DEBUG] Carregando estatsticas...");const U=await u();$(U),console.log(" [DEBUG] Estatsticas carregadas:",U),console.log(" [DEBUG] Carregando alertas...");const te=await y();Q(te),console.log(" [DEBUG] Alertas carregados:",te)}catch(U){console.error(" [DEBUG] Erro ao carregar dados:",U)}})()},[w,u,y]);const P=h.filter(k=>{const U=!t||k.produto_nome.toLowerCase().includes(t.toLowerCase())||k.sku.toLowerCase().includes(t.toLowerCase()),te=!r||r==="todas"||k.categoria===r,re=!n||n==="todos"||k.status_estoque===n;return U&&te&&re}),C=Array.from(new Set(h.map(k=>k.categoria).filter(Boolean))),V=k=>{switch(k){case"CRITICO":return"destructive";case"BAIXO":return"secondary";case"EXCESSO":return"outline";case"NORMAL":return"default";default:return"default"}},E=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),W=[{name:"Normal",value:L.produtosNormais,color:"#22c55e"},{name:"Baixo",value:L.produtosBaixos,color:"#f59e0b"},{name:"Crtico",value:L.produtosCriticos,color:"#ef4444"},{name:"Excesso",value:L.produtosExcesso,color:"#8b5cf6"}],K=C.map(k=>{const U=h.filter(te=>te.categoria===k).reduce((te,re)=>te+re.valor_total_estoque,0);return{name:k||"Sem categoria",value:U}}).sort((k,U)=>U.value-k.value).slice(0,10),S=async()=>{await w(),await j()},R=k=>{l(k),x(k.produto_id,20)};return console.log(" [DEBUG] Estado atual do componente:",{loading:b,error:v,estoqueConsolidado:h.length,estatisticas:L,contadoresAlertas:M,produtosFiltrados:P.length}),h.length>0&&console.log(" [DEBUG] Primeiro produto:",h[0]),v?e.jsx("div",{className:`container mx-auto ${g?"p-4":"p-6"} space-y-6`,children:e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx(yt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-destructive mb-2",children:"Erro de Conexo"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No foi possvel carregar os dados do estoque. Verifique sua conexo com o banco de dados."}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4 font-mono bg-muted p-2 rounded",children:v}),e.jsxs(le,{onClick:S,variant:"outline",children:[e.jsx(or,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})})}):e.jsxs("div",{className:`container mx-auto ${g?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{className:`${g?"space-y-4":"flex justify-between items-center"}`,children:[e.jsxs("div",{children:[e.jsx("h1",{className:`${g?"text-2xl":"text-3xl"} font-bold`,children:"Controle de Estoque"}),e.jsx("p",{className:`text-muted-foreground ${g?"text-sm":""}`,children:"Gesto completa e consultas rpidas do estoque"}),!1]}),e.jsxs("div",{className:`flex gap-2 ${g?"w-full":""}`,children:[e.jsxs(le,{onClick:S,variant:"outline",size:"sm",className:g?"flex-1":"",children:[e.jsx(or,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),e.jsxs(le,{onClick:()=>m(!0),size:"sm",className:g?"flex-1":"",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),g?"Nova":"Nova Movimentao"]})]})]}),e.jsxs("div",{className:`grid ${g?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"}`,children:[e.jsx(Bt,{title:"Total de Itens",value:L.totalItensEstoque,icon:e.jsx(Ge,{className:"h-5 w-5"}),description:"Itens em estoque",format:"number"}),e.jsx(Bt,{title:"Total de Produtos",value:L.totalProdutos,icon:e.jsx(Ge,{className:"h-5 w-5"}),description:"Produtos ativos",format:"number"}),e.jsx(Bt,{title:"Valor Total",value:L.valorTotalEstoque,icon:e.jsx(Ta,{className:"h-5 w-5"}),description:"Valor do estoque",format:"currency"}),e.jsx(Bt,{title:"Alertas Ativos",value:M.total,icon:e.jsx(yt,{className:"h-5 w-5"}),description:"Requerem ateno",format:"number"})]}),e.jsxs("div",{className:`grid ${g?"grid-cols-1 gap-4":"grid-cols-1 lg:grid-cols-2 gap-6"}`,children:[e.jsx(Ma,{title:"Status do Estoque",description:"Distribuio por nveis de estoque",data:W,height:g?192:256,showLegend:!0}),e.jsx(wm,{title:"Valor por Categoria",description:"Top 10 categorias por valor",data:K,height:g?192:256})]}),e.jsxs(ne,{children:[e.jsxs(ve,{children:[e.jsx(ye,{className:g?"text-lg":"",children:"Produtos em Estoque"}),e.jsx(bt,{className:g?"text-sm":"",children:"Consulte e gerencie o estoque de produtos"})]}),e.jsxs(oe,{children:[e.jsxs("div",{className:`${g?"space-y-3":"flex gap-4 mb-6"}`,children:[e.jsxs("div",{className:`relative ${g?"w-full":"flex-1"}`,children:[e.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(de,{placeholder:"Buscar por nome ou SKU...",value:t,onChange:k=>s(k.target.value),className:`pl-10 ${g?"text-base":""}`})]}),e.jsxs(ct,{value:r,onValueChange:a,children:[e.jsx(it,{className:g?"w-full":"w-48",children:e.jsx(dt,{placeholder:"Categoria"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todas",children:"Todas as categorias"}),C.map(k=>e.jsx(ue,{value:k,children:k},k))]})]}),e.jsxs(ct,{value:n,onValueChange:o,children:[e.jsx(it,{className:g?"w-full":"w-48",children:e.jsx(dt,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(ue,{value:"todos",children:"Todos os status"}),e.jsx(ue,{value:"NORMAL",children:"Normal"}),e.jsx(ue,{value:"BAIXO",children:"Baixo"}),e.jsx(ue,{value:"CRITICO",children:"Crtico"}),e.jsx(ue,{value:"EXCESSO",children:"Excesso"})]})]})]}),!g&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(fr,{type:"single",value:N,onValueChange:k=>k&&D(k),children:[e.jsx(wt,{value:"cards","aria-label":"Visualizao em cards",children:e.jsx(Dr,{className:"h-4 w-4"})}),e.jsx(wt,{value:"table","aria-label":"Visualizao em tabela",children:e.jsx(Or,{className:"h-4 w-4"})})]})}),N==="cards"||g?e.jsx("div",{className:g?"grid grid-cols-1 gap-4":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b?e.jsx("div",{className:"col-span-full text-center py-8",children:"Carregando produtos..."}):P.length===0?e.jsx("div",{className:"col-span-full",children:e.jsx(ne,{children:e.jsxs(oe,{className:g?"p-8 text-center":"p-12 text-center",children:[e.jsx(Ge,{className:g?"h-12 w-12 mx-auto text-muted-foreground mb-4":"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:g?"text-lg font-semibold mb-2":"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),e.jsx("p",{className:g?"text-sm text-muted-foreground":"text-muted-foreground",children:h.length===0?"No h produtos cadastrados no sistema. Configure o banco de dados e insira dados de exemplo.":"Tente ajustar os filtros de busca para encontrar produtos."})]})})}):P.map(k=>e.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ve,{className:g?"p-4 pb-2":"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:g?"text-base line-clamp-2":"text-lg line-clamp-2",children:k.produto_nome}),e.jsx("p",{className:g?"text-xs text-muted-foreground font-mono":"text-sm text-muted-foreground font-mono",children:k.sku})]}),e.jsx(le,{variant:"ghost",size:"sm",onClick:()=>R(k),title:"Ver detalhes",children:e.jsx(Vs,{className:"h-4 w-4"})})]})}),e.jsx(oe,{className:g?"p-4 pt-0":"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:g?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Categoria:"}),e.jsx(we,{variant:"outline",className:g?"text-xs":void 0,children:k.categoria||"Sem categoria"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:g?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Status:"}),e.jsx(we,{variant:V(k.status_estoque),children:k.status_estoque})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:g?"text-xs text-muted-foreground":"text-sm text-muted-foreground",children:"Qtd:"}),e.jsx("span",{className:g?"text-sm font-medium":"font-medium",children:k.quantidade_total})]}),!g&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Valor Total:"}),e.jsx("span",{className:"font-medium",children:E(k.valor_total_estoque)})]})]})})]},k.produto_id))}):null,N==="table"&&!g&&e.jsx("div",{className:`${g?"overflow-x-auto":""}`,children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{className:g?"min-w-32":"",children:"SKU"}),e.jsx(ee,{className:g?"min-w-40":"",children:"Produto"}),!g&&e.jsx(ee,{children:"Categoria"}),e.jsx(ee,{className:g?"min-w-24":"",children:"Qtd"}),e.jsx(ee,{className:g?"min-w-20":"",children:"Status"}),!g&&e.jsx(ee,{children:"Valor Total"}),e.jsx(ee,{className:g?"min-w-20":"",children:"Aes"})]})}),e.jsx(Kt,{children:b?e.jsx(He,{children:e.jsx(Y,{colSpan:g?5:7,className:"text-center py-8",children:"Carregando produtos..."})}):P.length===0?e.jsx(He,{children:e.jsx(Y,{colSpan:g?5:7,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg",children:"Nenhum produto encontrado"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.length===0?"No h produtos cadastrados no sistema. Configure o banco de dados e insira dados de exemplo.":"Tente ajustar os filtros de busca para encontrar produtos."}),h.length===0&&e.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg text-left",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Para configurar o sistema:"}),e.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsx("li",{children:"1. Crie um arquivo .env com suas credenciais do Supabase"}),e.jsx("li",{children:"2. Execute as migraes do banco de dados"}),e.jsx("li",{children:"3. Insira dados de exemplo usando o script insert-sample-data.js"})]})]})]})]})})}):P.map(k=>e.jsxs(He,{children:[e.jsx(Y,{className:`font-mono ${g?"text-xs":"text-sm"}`,children:k.sku}),e.jsx(Y,{className:g?"text-sm":"",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:k.produto_nome}),g&&e.jsx("div",{className:"text-xs text-muted-foreground",children:k.categoria})]})}),!g&&e.jsx(Y,{children:e.jsx(we,{variant:"outline",children:k.categoria})}),e.jsx(Y,{className:g?"text-sm":"",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:k.quantidade_total}),e.jsx("div",{className:`text-xs text-muted-foreground ${g?"hidden":""}`,children:k.unidade_medida})]})}),e.jsx(Y,{children:e.jsx(we,{variant:V(k.status_estoque),children:k.status_estoque})}),!g&&e.jsx(Y,{className:"text-right font-medium",children:E(k.valor_total_estoque)}),e.jsx(Y,{children:e.jsxs(le,{variant:"ghost",size:"sm",onClick:()=>R(k),children:[e.jsx(Vs,{className:"h-4 w-4"}),!g&&e.jsx("span",{className:"ml-2",children:"Ver"})]})})]},k.produto_id))})]})})]})]}),e.jsx(At,{open:!!i,onOpenChange:()=>l(null),children:e.jsxs(Nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(_t,{children:[e.jsx(Ct,{children:"Detalhes do Estoque"}),e.jsxs(Bo,{children:[i==null?void 0:i.produto_nome," (",i==null?void 0:i.sku,")"]})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Quantidade Total"}),e.jsx("p",{className:"text-2xl font-bold",children:i.quantidade_total})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"}),e.jsx("p",{className:"text-2xl font-bold",children:E(i.valor_total_estoque)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Localizaes"}),e.jsx("p",{className:"text-2xl font-bold",children:i.localizacoes_ocupadas})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Lotes Ativos"}),e.jsx("p",{className:"text-2xl font-bold",children:i.lotes_ativos})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Histrico de Movimentaes"}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(Wt,{children:[e.jsx(Zt,{children:e.jsxs(He,{children:[e.jsx(ee,{children:"Data"}),e.jsx(ee,{children:"Operao"}),e.jsx(ee,{children:"Quantidade"}),e.jsx(ee,{children:"Documento"}),e.jsx(ee,{children:"Observaes"})]})}),e.jsx(Kt,{children:p.length===0?e.jsx(He,{children:e.jsx(Y,{colSpan:5,className:"text-center py-4",children:"Nenhuma movimentao encontrada"})}):p.slice(0,10).map(k=>e.jsxs(He,{children:[e.jsx(Y,{children:new Date(k.data_operacao).toLocaleDateString("pt-BR")}),e.jsx(Y,{children:e.jsx(we,{variant:"outline",children:k.tipo_operacao})}),e.jsx(Y,{children:e.jsxs("span",{className:k.diferenca>0?"text-green-600":"text-red-600",children:[k.diferenca>0?"+":"",k.diferenca]})}),e.jsx(Y,{children:k.documento_referencia||""}),e.jsx(Y,{children:k.observacoes||""})]},k.id))})]})})]})]})]})})]})},Ry=()=>(console.log(" [TESTE] Componente TesteEstoque renderizado - verso simples"),console.log(" [TESTE] Timestamp:",new Date().toISOString()),console.log(" [TESTE] Window location:",window.location.href),setTimeout(()=>{console.log(" [TESTE] Componente montado com sucesso!")},100),e.jsxs("div",{style:{padding:"20px",backgroundColor:"#ff0000",minHeight:"100vh",color:"white",fontSize:"18px",fontWeight:"bold"},children:[e.jsx("h1",{style:{color:"yellow",fontSize:"48px",textAlign:"center",margin:"20px 0",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:" TESTE ESTOQUE - FUNCIONANDO! "}),e.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"10px",margin:"20px 0"},children:[e.jsx("h2",{style:{color:"yellow"},children:" Status do Teste:"}),e.jsx("p",{children:" Componente React renderizado"}),e.jsx("p",{children:" Roteamento funcionando"}),e.jsx("p",{children:" Estilos aplicados"}),e.jsx("p",{children:" JavaScript executando"})]}),e.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,0.3)",padding:"20px",borderRadius:"10px",margin:"20px 0"},children:[e.jsx("h2",{style:{color:"yellow"},children:" Informaes de Debug:"}),e.jsxs("p",{children:["URL atual: ",window.location.href]}),e.jsxs("p",{children:["Timestamp: ",new Date().toLocaleString()]}),e.jsxs("p",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]}),e.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"10px",margin:"20px 0"},children:[e.jsx("h2",{style:{color:"yellow"},children:" Prximos Passos:"}),e.jsx("p",{children:"1.  Verificar se este componente aparece"}),e.jsx("p",{children:"2.  Adicionar o hook useEstoque"}),e.jsx("p",{children:"3.  Comparar com o componente Estoque original"}),e.jsx("p",{children:"4.  Identificar o problema especfico"})]}),e.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",backgroundColor:"yellow",color:"black",padding:"10px",borderRadius:"5px",fontWeight:"bold",zIndex:9999},children:" TESTE ATIVO"})]})),Py=()=>{const t=Mt(),s=[{icon:Yr,title:"Movimentaes por Perodo",description:"Anlise detalhada de todas as operaes realizadas",variant:"default"},{icon:Ge,title:"Inventrio Completo",description:"Relatrio de estoque atual por produto e localizao",variant:"default"},{icon:Ta,title:"Acurcia do Inventrio",description:"Comparativo entre estoque fsico e sistema",variant:"success"},{icon:rs,title:"Ocupao de Localizaes",description:"Anlise de utilizao dos espaos do almoxarifado",variant:"default"},{icon:mi,title:"Produtos com Baixo Giro",description:"Identificao de produtos com movimentao lenta",variant:"warning"},{icon:Yr,title:"Custo Mdio de Estoque",description:"Anlise financeira do valor investido em estoque",variant:"default"}];return e.jsxs("div",{className:`container mx-auto ${t?"p-4":"p-6"} space-y-6`,children:[e.jsxs("div",{children:[e.jsx("h1",{className:`${t?"text-2xl":"text-3xl"} font-bold tracking-tight`,children:"Relatrios"}),e.jsx("p",{className:`text-muted-foreground ${t?"text-sm":""}`,children:"Anlises e exportaes de dados do sistema"})]}),e.jsx("div",{className:`grid gap-4 ${t?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:s.map((r,a)=>{const n=r.icon;return e.jsxs(ne,{className:"shadow-md hover:shadow-lg transition-shadow",children:[e.jsxs(ve,{className:`${t?"p-4 pb-2":""}`,children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("div",{className:`${t?"h-8 w-8":"h-10 w-10"} rounded-lg flex items-center justify-center bg-primary/10`,children:e.jsx(n,{className:`${t?"h-4 w-4":"h-5 w-5"} text-primary`})})}),e.jsx(ye,{className:`${t?"text-base":"text-lg"}`,children:r.title}),e.jsx(bt,{className:`${t?"text-sm":""}`,children:r.description})]}),e.jsx(oe,{className:`${t?"p-4 pt-2":""}`,children:e.jsxs("div",{className:`flex ${t?"flex-col space-y-2":"gap-2"}`,children:[e.jsxs(le,{variant:"outline",className:`${t?"w-full":"flex-1"} gap-2`,size:t?"sm":"default",children:[e.jsx(Ta,{className:"h-4 w-4"}),"Visualizar"]}),e.jsxs(le,{variant:"ghost",className:`gap-2 ${t?"w-full":""}`,size:t?"sm":"default",children:[e.jsx(zn,{className:"h-4 w-4"}),"Exportar"]})]})})]},a)})}),e.jsxs(ne,{className:"shadow-md",children:[e.jsxs(ve,{className:`${t?"p-4 pb-2":""}`,children:[e.jsx(ye,{className:`${t?"text-lg":""}`,children:"Exportaes Personalizadas"}),e.jsx(bt,{className:`${t?"text-sm":""}`,children:"Configure relatrios customizados com os filtros e campos desejados"})]}),e.jsx(oe,{className:`${t?"p-4 pt-2":""}`,children:e.jsx("div",{className:`flex items-center justify-center ${t?"py-6":"py-8"}`,children:e.jsxs(le,{size:t?"default":"lg",className:`gap-2 ${t?"w-full":""}`,children:[e.jsx(mi,{className:`${t?"h-4 w-4":"h-5 w-5"}`}),"Criar Relatrio Personalizado"]})})})]})]})},Ay=()=>{const t=hr();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),e.jsx(Xn,{to:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};class My extends A.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error(" [ErrorBoundary] Captured error:",s),console.error(" [ErrorBoundary] Error info:",r),this.setState({error:s,errorInfo:r})}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:s,errorInfo:r}=this.state;return e.jsx("div",{style:{padding:16},children:e.jsxs("div",{style:{background:"#ffecec",border:"1px solid #ffb3b3",borderRadius:8,padding:16},children:[e.jsx("h2",{style:{color:"#b00020",marginBottom:8},children:"Ocorreu um erro ao renderizar este contedo."}),s&&e.jsxs("p",{style:{color:"#b00020",whiteSpace:"pre-wrap"},children:[s.name,": ",s.message]}),r&&e.jsx("details",{style:{whiteSpace:"pre-wrap",marginTop:12},children:r.componentStack}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),style:{background:"#b00020",color:"#fff",border:"none",borderRadius:6,padding:"8px 12px",cursor:"pointer"},children:"Tentar novamente"})}),e.jsx("p",{style:{marginTop:12,fontSize:12},children:"Se o erro persistir, copie a mensagem e o stack acima e compartilhe."})]})})}return this.props.children}}const Iy=new Dp,Dy="/armazem-vivo",Oy=()=>e.jsx($p,{client:Iy,children:e.jsxs(up,{children:[e.jsx(pf,{}),e.jsx(Wf,{}),e.jsx(Mx,{basename:Dy,children:e.jsxs(Sx,{children:[e.jsx(Tt,{path:"/auth",element:e.jsx(zg,{})}),e.jsx(Tt,{path:"/",element:e.jsx(_s,{children:e.jsx($g,{})})}),e.jsx(Tt,{path:"/produtos",element:e.jsx(_s,{children:e.jsx(gy,{})})}),e.jsx(Tt,{path:"/localizacoes",element:e.jsx(_s,{children:e.jsx(by,{})})}),e.jsx(Tt,{path:"/lotes",element:e.jsx(_s,{children:e.jsx(Ny,{})})}),e.jsx(Tt,{path:"/recebimentos",element:e.jsx(_s,{children:e.jsx(ky,{})})}),e.jsx(Tt,{path:"/movimentacoes",element:e.jsx(_s,{children:e.jsx(Ey,{})})}),e.jsx(Tt,{path:"/estoque",element:e.jsx(_s,{children:e.jsx(My,{children:e.jsx(Ty,{})})})}),e.jsx(Tt,{path:"/teste-estoque",element:e.jsx(Ry,{})}),e.jsx(Tt,{path:"/relatorios",element:e.jsx(_s,{children:e.jsx(Py,{})})}),e.jsx(Tt,{path:"*",element:e.jsx(Ay,{})})]})})]})});Xl(document.getElementById("root")).render(e.jsx(Oy,{}));
